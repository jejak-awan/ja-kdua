[{"filePath":"/var/www/ja-cms/resources/js/components/builder/canvas/Canvas.vue","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":117,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":117,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4037,4040],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4037,4040],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":182,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":182,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6534,6537],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6534,6537],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n  <div \n    class=\"canvas flex flex-col min-h-full\"\n    :class=\"[\n      { 'canvas--wireframe': wireframeMode },\n      { 'canvas--grid': gridViewMode },\n      `theme-${activeTheme}`,\n      `device-${device}`\n    ]\"\n    @click.self=\"clearSelection\"\n    @contextmenu.stop.prevent=\"handleCanvasContextMenu\"\n  >\n    <CanvasGridView v-if=\"gridViewMode\" />\n\n    <template v-else>\n      <!-- Header Preview -->\n      <ThemePageResolver page=\"components/Header\" class=\"relative z-10\" />\n\n      <!-- Main Content Area -->\n      <main class=\"main-content flex-1 w-full flex flex-col\">\n        <!-- Empty State -->\n        <div v-if=\"blocks.length === 0\" class=\"canvas-empty flex-1\">\n          <div class=\"canvas-empty__content\">\n            <p class=\"canvas-empty__text\">{{ $t('builder.canvas.empty', 'Start your page by adding a section.') }}</p>\n            <button class=\"canvas-empty__btn\" @click=\"addSection\">\n              <Plus :size=\"16\" />\n              {{ $t('builder.actions.addSection', 'Add New Section') }}\n            </button>\n          </div>\n        </div>\n\n        <!-- Modules -->\n        <draggable\n          v-else\n          v-model=\"blocks\"\n          item-key=\"id\"\n          group=\"section\"\n          class=\"canvas-blocks flex-1\"\n          ghost-class=\"ja-builder-ghost\"\n          style=\"padding-bottom: 100px;\"\n        >\n          <template #item=\"{ element: block, index }\">\n            <ModuleWrapper\n              :module=\"block\"\n              :index=\"index\"\n            />\n          </template>\n        </draggable>\n      </main>\n\n      <!-- Footer Preview -->\n      <div class=\"mt-auto relative z-10\">\n        <ThemePageResolver page=\"components/Footer\" />\n      </div>\n    </template>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, inject, watch, onMounted } from 'vue'\nimport Plus from 'lucide-vue-next/dist/esm/icons/plus.js';import { useI18n } from 'vue-i18n'\n// @ts-expect-error: Internal type mismatch\nimport draggable from 'vuedraggable'\nimport ModuleWrapper from './ModuleWrapper.vue'\nimport CanvasGridView from './CanvasGridView.vue'\nimport ThemePageResolver from '@/components/shared/ThemePageResolver.vue'\nimport type { BuilderInstance, BlockInstance } from '../../../types/builder'\n\n// Inject builder\nconst builder = inject<BuilderInstance>('builder')\nconst { t } = useI18n()\n\n// Computed\nconst blocks = computed<BlockInstance[]>({\n  get: () => builder?.blocks.value || [],\n  set: (val) => { if (builder) builder.blocks.value = val }\n})\nconst wireframeMode = computed(() => builder?.wireframeMode.value || false)\nconst gridViewMode = computed(() => builder?.gridViewMode.value || false)\nconst activeTheme = computed(() => builder?.activeTheme.value || 'janari')\nconst device = computed(() => builder?.device.value || 'desktop')\n\n// Theme Style Injection\nconst hexToHsl = (hex: string): string | null => {\n  if (!hex || typeof hex !== 'string' || !hex.startsWith('#')) return null\n  let r = 0, g = 0, b = 0\n  if (hex.length === 4) {\n    r = parseInt('0x' + hex[1] + hex[1])\n    g = parseInt('0x' + hex[2] + hex[2])\n    b = parseInt('0x' + hex[3] + hex[3])\n  } else if (hex.length === 7) {\n    r = parseInt('0x' + hex[1] + hex[2])\n    g = parseInt('0x' + hex[3] + hex[4])\n    b = parseInt('0x' + hex[5] + hex[6])\n  }\n  r /= 255; g /= 255; b /= 255\n  const cmin = Math.min(r, g, b), cmax = Math.max(r, g, b), delta = cmax - cmin\n  let h = 0, s = 0, l = 0\n  if (delta === 0) h = 0\n  else if (cmax === r) h = ((g - b) / delta) % 6\n  else if (cmax === g) h = (b - r) / delta + 2\n  else h = (r - g) / delta + 4\n  h = Math.round(h * 60)\n  if (h < 0) h += 360\n  l = (cmax + cmin) / 2\n  s = delta === 0 ? 0 : delta / (1 - Math.abs(2 * l - 1))\n  s = +(s * 100).toFixed(1); l = +(l * 100).toFixed(1)\n  return `${h} ${s}% ${l}%`\n}\n\nconst injectThemeStyles = () => {\n    if (!builder?.themeData.value) return\n\n    const variables: string[] = []\n    const builderOverrides: string[] = []\n    const settings = builder.themeSettings.value || {}\n    const manifest = (builder.themeData.value as any).manifest || {}\n    const themeSlug = builder.activeTheme.value || 'janari'\n\n    if (manifest.settings_schema) {\n        Object.keys(manifest.settings_schema).forEach(key => {\n            const schema = manifest.settings_schema[key]\n            const value = settings[key] !== undefined ? settings[key] : schema.default\n            \n            if (value === undefined || value === null) return\n\n            const cssKey = '--theme-' + key.replace(/_/g, '-')\n            \n            if (schema.type === 'color') {\n                variables.push(`${cssKey}: ${value};`)\n                const hslValue = hexToHsl(value as string)\n                if (hslValue) {\n                    variables.push(`${cssKey}-hsl: ${hslValue};`)\n                    \n                    if (key === 'color_primary' || key === 'primary_color') {\n                        variables.push(`--primary: ${hslValue};`)\n                        builderOverrides.push(`--builder-section: ${value};`)\n                    }\n                    if (key === 'color_background' || key === 'background_color') {\n                        variables.push(`--background: ${hslValue};`)\n                    }\n                }\n            } else if (schema.type === 'font' || schema.type === 'typography' || schema.type === 'select') {\n                const fontValue = String(value).includes(' ') ? `\"${value}\"` : value\n                variables.push(`${cssKey}: ${fontValue};`)\n            } else {\n                variables.push(`${cssKey}: ${value};`)\n            }\n        })\n    }\n\n    if (!variables.some(v => v.startsWith('--primary:'))) {\n        variables.push('--primary: 221.2 83.2% 53.3%;')\n    }\n\n    const styleId = `builder-theme-styles`\n    let styleTag = document.getElementById(styleId)\n    if (!styleTag) {\n        styleTag = document.createElement('style')\n        styleTag.id = styleId\n        document.head.appendChild(styleTag)\n    }\n\n    const cssContent = `\n        .canvas.theme-${themeSlug} {\n            ${variables.join('\\n            ')}\n            ${builderOverrides.join('\\n            ')}\n        }\n        .canvas.theme-${themeSlug}::after {\n            content: \"Theme: ${themeSlug}\";\n            position: absolute;\n            bottom: 10px;\n            right: 10px;\n            font-size: 10px;\n            color: rgba(0,0,0,0.2);\n            pointer-events: none;\n            z-index: 1000;\n        }\n    `\n    styleTag.textContent = cssContent\n\n    const themeData = builder.themeData.value as any\n    if (themeData.assets && themeData.assets.css) {\n        themeData.assets.css.forEach((cssFile: string, index: number) => {\n            const linkId = `builder-theme-asset-${index}`\n            if (!document.getElementById(linkId)) {\n                const link = document.createElement('link')\n                link.id = linkId\n                link.rel = 'stylesheet'\n                link.href = cssFile.startsWith('http') || cssFile.startsWith('/') ? cssFile : `/${cssFile}`\n                document.head.appendChild(link)\n            }\n        })\n    }\n}\n\n// Watchers\nwatch(() => builder?.themeData.value, (data) => {\n    if (data) {\n        injectThemeStyles()\n    }\n}, { immediate: true })\n\nwatch(() => builder?.themeSettings.value, injectThemeStyles, { deep: true })\nwatch(() => builder?.activeTheme.value, injectThemeStyles)\n\n// Methods\nconst clearSelection = () => {\n  builder?.clearSelection()\n}\n\nconst addSection = () => {\n  builder?.insertModule('section')\n}\n\nconst handleCanvasContextMenu = (e: MouseEvent) => {\n    if (builder?.openContextMenu) {\n        builder.openContextMenu('canvas', e, t('builder.fields.contextMenu.canvasSettings', 'Canvas Settings'), 'Main', 'canvas')\n    }\n}\n\n// Initialize default section if empty\nonMounted(() => {\n    if (builder && builder.blocks.value.length === 0) {\n        addSection()\n    }\n    if (builder?.themeData.value) {\n        injectThemeStyles()\n    }\n})\n</script>\n\n<style scoped>\n.canvas {\n  min-height: 100%;\n  padding: var(--spacing-lg);\n\n  --builder-text-primary: #0f172a;\n  --builder-text-secondary: #475569;\n  --builder-text-muted: #64748b;\n  --builder-border: #e2e8f0;\n\n  background-color: var(--theme-color-background, #ffffff);\n  color: var(--theme-color-text, var(--builder-text-primary));\n  transition: background-color 0.3s ease, color 0.3s ease;\n}\n\n.canvas--wireframe {\n  background: repeating-linear-gradient(\n    45deg,\n    transparent,\n    transparent 10px,\n    rgba(0,0,0,0.05) 10px,\n    rgba(0,0,0,0.05) 20px\n  );\n}\n\n.canvas--grid {\n  background-color: #f8fafc;\n}\n\n.canvas-empty {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 400px;\n  border: 2px dashed var(--builder-border);\n  border-radius: var(--border-radius-md);\n  background: rgba(0,0,0,0.02);\n}\n\n.canvas-empty__content {\n  text-align: center;\n}\n\n.canvas-empty__text {\n  color: var(--builder-text-muted);\n  margin-bottom: var(--spacing-lg);\n}\n\n.canvas-empty__btn {\n  display: inline-flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n  padding: var(--spacing-sm) var(--spacing-lg);\n  background: var(--builder-accent);\n  border: none;\n  border-radius: var(--border-radius-sm);\n  color: white;\n  font-size: var(--font-size-sm);\n  font-weight: 500;\n  cursor: pointer;\n  transition: background var(--transition-fast);\n}\n\n.canvas-empty__btn:hover {\n  background: var(--builder-accent-hover);\n}\n</style>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/components/builder/fields/BackgroundField.vue","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'reactive' is defined but never used.","line":1685,"column":15,"nodeType":"Identifier","messageId":"unusedVar","endLine":1685,"endColumn":23,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"reactive"},"fix":{"range":[106582,106592],"text":""},"desc":"Remove unused variable \"reactive\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'watch' is defined but never used.","line":1685,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":1685,"endColumn":40,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"watch"},"fix":{"range":[106602,106609],"text":""},"desc":"Remove unused variable \"watch\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Maximize2' is defined but never used.","line":1697,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":1697,"endColumn":17,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Maximize2"},"fix":{"range":[107326,107393],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'RotateCw' is defined but never used.","line":1702,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":1702,"endColumn":16,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"RotateCw"},"fix":{"range":[107687,107754],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Lock' is defined but never used.","line":1703,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":1703,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Lock"},"fix":{"range":[107755,107813],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Check' is defined but never used.","line":1710,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":1710,"endColumn":13,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Check"},"fix":{"range":[108249,108309],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Ban' is defined but never used.","line":1711,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":1711,"endColumn":11,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Ban"},"fix":{"range":[108310,108366],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'TextField' is defined but never used.","line":1717,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":1717,"endColumn":17,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"TextField"},"fix":{"range":[108655,108694],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1730,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1730,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[109328,109331],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[109328,109331],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1739,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1739,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[109513,109516],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[109513,109516],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1751,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1751,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[109820,109823],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[109820,109823],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1752,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1752,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[109841,109844],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[109841,109844],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1832,"column":95,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1832,"endColumn":98,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[112317,112320],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[112317,112320],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1832,"column":118,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1832,"endColumn":121,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[112340,112343],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[112340,112343],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is assigned a value but never used.","line":1846,"column":34,"nodeType":"Identifier","messageId":"unusedVar","endLine":1846,"endColumn":35},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'resolvedPatternSvg' is assigned a value but never used.","line":1908,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":1908,"endColumn":25},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1922,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1922,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[117375,117378],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[117375,117378],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1939,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1939,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[118016,118019],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[118016,118019],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1943,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1943,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[118098,118101],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[118098,118101],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1943,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1943,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[118125,118128],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[118125,118128],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1943,"column":76,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1943,"endColumn":79,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[118149,118152],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[118149,118152],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'resolvedMaskSvg' is assigned a value but never used.","line":1997,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":1997,"endColumn":22},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":2011,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2011,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[121366,121369],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[121366,121369],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":2012,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2012,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[121414,121417],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[121414,121417],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":2024,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2024,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[121967,121970],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[121967,121970],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getMaskOptionPreview' is assigned a value but never used.","line":2093,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":2093,"endColumn":27},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":2093,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2093,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[124417,124420],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[124417,124420],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":2120,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2120,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[125497,125500],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[125497,125500],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":2,"message":"Expected an assignment or function call and instead saw an expression.","line":2186,"column":5,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":2186,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'trigger' is assigned a value but never used.","line":2195,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":2195,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'trigger' is assigned a value but never used.","line":2206,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":2206,"endColumn":18},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":2210,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2210,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[128945,128948],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[128945,128948],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":2233,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2233,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[129696,129699],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[129696,129699],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'settings' is assigned a value but never used.","line":2260,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":2260,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'trigger' is assigned a value but never used.","line":2261,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":2261,"endColumn":18},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":2278,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2278,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[131614,131617],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[131614,131617],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":2286,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2286,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[131822,131825],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[131822,131825],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":2320,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2320,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[132980,132983],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[132980,132983],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":2335,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2335,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[133746,133749],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[133746,133749],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":2355,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2355,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[134553,134556],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[134553,134556],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":2355,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2355,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[134567,134570],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[134567,134570],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":40,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n  <div class=\"background-field\">\n    <!-- Tab Navigation -->\n    <div class=\"bg-tabs\">\n        <div \n            v-for=\"tab in tabs\" \n            :key=\"tab.id\"\n            class=\"bg-tab-item\"\n            :class=\"{ 'active': activeTab === tab.id }\"\n            @click=\"activeTab = tab.id\"\n            :title=\"tab.label\"\n        >\n            <component :is=\"tab.icon\" :size=\"16\" />\n        </div>\n    </div>\n\n    <!-- Tab Content -->\n    <div class=\"bg-tab-content\">\n<!-- Background Color -->\n        <div v-if=\"activeTab === 'color'\" class=\"bg-section\">\n            <div class=\"flex items-center justify-between mb-2\">\n                <div class=\"bg-header mb-0\">{{ t('builder.fields.background.color.label') }}</div>\n                <FieldActions \n                    :label=\"t('builder.fields.background.color.label')\"\n                    :show-info=\"true\"\n                    show-responsive\n                    :show-reset=\"hasOverride('backgroundColor') || !!getResponsiveValue('backgroundColor')\"\n                    @toggle-info=\"showColorInfo = $event\"\n                    @responsive=\"openResponsiveModal(t('builder.fields.background.color.label'), 'backgroundColor', 'color')\"\n                    @reset=\"updateSetting('backgroundColor', '')\"\n                />\n            </div>\n\n            <!-- Inline Info Panel -->\n            <transition name=\"fade-slide\">\n                <div v-if=\"showColorInfo && getInfoContent('backgroundColor')\" class=\"field-info-panel mb-4\">\n                    {{ getInfoContent('backgroundColor') }}\n                </div>\n            </transition>\n            \n            <div \n              class=\"bg-preview-box color-preview-box\" \n              :class=\"{ \n                'is-inherited': !getResponsiveValue('backgroundColor') && getResponsivePlaceholder('backgroundColor'),\n                'is-empty': !getResponsiveValue('backgroundColor') && !getResponsivePlaceholder('backgroundColor')\n              }\"\n              :style=\"colorPreviewStyle\"\n              @click=\"focusColorInput\"\n              @mouseenter=\"isColorHovered = true\"\n              @mouseleave=\"isColorHovered = false\"\n            >\n                <div v-if=\"!getResponsiveValue('backgroundColor') && getResponsivePlaceholder('backgroundColor')\" class=\"inherited-badge\">{{ t('builder.fields.background.color.inherited') }}</div>\n                <div v-if=\"isColorHovered && (getResponsiveValue('backgroundColor') || getResponsivePlaceholder('backgroundColor'))\" class=\"preview-actions-overlay\">\n                    <div class=\"action-btn-group\">\n                        <div class=\"action-icon-btn\" :title=\"t('builder.contextMenu.reset')\" @click.stop=\"resetBackgroundColor\">\n                            <RotateCcw :size=\"14\" />\n                        </div>\n                        <div class=\"action-icon-btn remove\" :title=\"t('builder.contextMenu.delete')\" @click.stop=\"clearBackgroundColor\">\n                            <Trash2 :size=\"14\" />\n                        </div>\n                    </div>\n                </div>\n                <div v-if=\"!getResponsiveValue('backgroundColor') && !getResponsivePlaceholder('backgroundColor')\" class=\"empty-preview\">\n                    <Plus :size=\"20\" />\n                    <span>{{ t('builder.fields.background.color.add') }}</span>\n                </div>\n            </div>\n\n            <ColorField \n                :field=\"{ name: 'backgroundColor', label: t('builder.fields.background.color.label') }\"\n                :value=\"getResponsiveValue('backgroundColor')\"\n                :placeholder-value=\"getResponsivePlaceholder('backgroundColor')\"\n                :module=\"module\"\n                :hide-preview=\"true\"\n                @update:value=\"updateSetting('backgroundColor', $event)\"\n                ref=\"colorFieldRef\"\n            />\n        </div>\n\n        <!-- Responsive Modal -->\n        <ResponsiveFieldModal \n            v-if=\"responsiveModal.show\"\n            :label=\"responsiveModal.label\"\n            :base-key=\"responsiveModal.baseKey\"\n            :type=\"responsiveModal.type\"\n            :options=\"responsiveModal.options\"\n            :sub-fields=\"responsiveModal.subFields\"\n            :module=\"module\"\n            :settings=\"moduleSettings\"\n            @close=\"responsiveModal.show = false\"\n            @update=\"handleResponsiveUpdate\"\n        />\n\n        <!-- Background Gradient -->\n        <div v-if=\"activeTab === 'gradient'\" class=\"bg-section\">\n            <div class=\"flex items-center justify-between flex-wrap mb-4\">\n                <div class=\"bg-header mb-0\">{{ t('builder.fields.background.gradient.label') }}</div>\n                <FieldActions \n                    :label=\"t('builder.fields.background.gradient.label')\"\n                    show-info\n                    show-responsive\n                    :show-reset=\"hasOverride('backgroundGradient') || !!getResponsiveValue('backgroundGradient')\"\n                    :show-dynamic-data=\"true\"\n                    @toggle-info=\"showGradientInfo = !showGradientInfo\"\n                    @responsive=\"openResponsiveModal(t('builder.fields.background.gradient.label'), 'backgroundGradient', 'gradient')\"\n                    @reset=\"updateSetting('backgroundGradient', '')\"\n                />\n            </div>\n            <transition name=\"fade-slide\">\n                <div v-if=\"showGradientInfo && getInfoContent('backgroundGradient')\" class=\"field-info-panel mb-4\">\n                    {{ getInfoContent('backgroundGradient') }}\n                </div>\n            </transition>\n            \n            <div \n              v-if=\"!getResponsiveValue('backgroundGradient')\"\n              class=\"bg-preview-box gradient-preview-box is-empty\"\n              :style=\"gradientPreviewStyle\"\n              @click=\"initDefaultGradient\"\n            >\n                <div class=\"empty-preview\">\n                    <Plus :size=\"20\" />\n                    <span>{{ t('builder.fields.background.gradient.add') }}</span>\n                </div>\n            </div>\n\n            <template v-else>\n                <!-- Redundant sub-header removed as per user request -->\n                <GradientField \n                    :field=\"{ name: 'backgroundGradient', label: t('builder.fields.background.gradient.label') }\"\n                    :value=\"getResponsiveValue('backgroundGradient')\"\n                    :placeholder-value=\"getResponsivePlaceholder('backgroundGradient')\"\n                    :module=\"module\"\n                    @update:value=\"updateSetting('backgroundGradient', $event)\"\n                    @responsive=\"openResponsiveModal($event.label, 'backgroundGradient.' + $event.key, $event.type, $event.options)\"\n                />\n\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.gradient.placeAbove') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.gradient.placeAbove')\"\n                            show-info\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundGradientShowAboveImage')\"\n                            :show-context-menu=\"true\"\n                            :show-dynamic-data=\"false\"\n                            @toggle-info=\"showGradientAboveInfo = $event\"\n                            @reset=\"updateSetting('backgroundGradientShowAboveImage', '')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.gradient.placeAbove'), 'backgroundGradientShowAboveImage', 'toggle')\"\n                        />\n                    </div>\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showGradientAboveInfo && getInfoContent('backgroundGradientShowAboveImage')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundGradientShowAboveImage') }}\n                        </div>\n                    </transition>\n                    <ToggleField \n                        :field=\"{ name: 'backgroundGradientShowAboveImage', label: t('builder.fields.background.gradient.placeAbove') }\"\n                        :value=\"getResolvedValue('backgroundGradientShowAboveImage') === true || getResolvedValue('backgroundGradientShowAboveImage') === 'true'\"\n                        :placeholder-value=\"getResponsivePlaceholder('backgroundGradientShowAboveImage') === true\"\n                        @update:value=\"updateSetting('backgroundGradientShowAboveImage', $event)\"\n                    />\n                </div>\n            </template>\n        </div>\n\n        <!-- Background Image -->\n        <div v-if=\"activeTab === 'image'\" class=\"bg-section\">\n            <div class=\"flex items-center justify-between mb-2\">\n                <div class=\"bg-header mb-0\">{{ t('builder.fields.background.image.label') }}</div>\n                <FieldActions \n                    :label=\"t('builder.fields.background.image.label')\"\n                    :show-info=\"true\"\n                    show-responsive\n                    :show-reset=\"hasOverride('backgroundImage') || !!getResponsiveValue('backgroundImage')\"\n                    @toggle-info=\"showImageInfo = $event\"\n                    @reset=\"updateSetting('backgroundImage', '')\"\n                    @responsive=\"openResponsiveModal(t('builder.fields.background.image.label'), 'backgroundImage', 'upload')\"\n                />\n            </div>\n\n            <!-- Inline Info Panel -->\n            <transition name=\"fade-slide\">\n                <div v-if=\"showImageInfo && getInfoContent('backgroundImage')\" class=\"field-info-panel mb-4\">\n                    {{ getInfoContent('backgroundImage') }}\n                </div>\n            </transition>\n            \n            <MediaPicker @selected=\"(media) => updateSetting('backgroundImage', media.url)\" :constraints=\"{ allowedExtensions: ['jpg', 'jpeg', 'png', 'gif', 'webp', 'svg'] }\">\n                <template #trigger=\"{ open }\">\n                    <div \n                      class=\"bg-preview-box image-preview-box cursor-pointer\" \n                      :class=\"{ \n                        'is-inherited': !getResponsiveValue('backgroundImage') && getResponsivePlaceholder('backgroundImage'),\n                        'is-empty': !getResponsiveValue('backgroundImage') && !getResponsivePlaceholder('backgroundImage')\n                      }\"\n                      @click=\"open\"\n                      @mouseenter=\"isImageHovered = true\"\n                      @mouseleave=\"isImageHovered = false\"\n                    >\n                        <div v-if=\"!getResponsiveValue('backgroundImage') && getResponsivePlaceholder('backgroundImage')\" class=\"inherited-badge\">{{ t('builder.fields.background.color.inherited') }}</div>\n                        \n                        <div v-if=\"getResolvedValue('backgroundImage')\" class=\"preview-bg-image h-full w-full\" :style=\"imagePreviewStyle\"></div>\n\n                        <div v-if=\"isImageHovered && (getResponsiveValue('backgroundImage') || getResponsivePlaceholder('backgroundImage'))\" class=\"preview-actions-overlay\">\n                            <div class=\"action-btn-group\">\n                                <div class=\"action-icon-btn\" :title=\"t('builder.fields.actions.edit')\" @click.stop=\"open\">\n                                    <Settings :size=\"14\" />\n                                </div>\n                                <div class=\"action-icon-btn remove\" :title=\"t('builder.contextMenu.delete')\" @click.stop=\"updateSetting('backgroundImage', '')\">\n                                    <Trash2 :size=\"14\" />\n                                </div>\n                            </div>\n                        </div>\n                        <div v-if=\"!getResolvedValue('backgroundImage')\" class=\"empty-preview\">\n                            <Plus :size=\"20\" />\n                            <span>{{ t('builder.fields.background.image.add') }}</span>\n                        </div>\n                    </div>\n                </template>\n            </MediaPicker>\n\n            <UploadField \n                :field=\"{ name: 'backgroundImage', label: t('builder.fields.background.image.label') }\"\n                :value=\"getResponsiveValue('backgroundImage')\"\n                :placeholder-value=\"getResponsivePlaceholder('backgroundImage')\"\n                :module=\"module\"\n                :allowed-extensions=\"['jpg', 'jpeg', 'png', 'gif', 'webp', 'svg']\"\n                :hide-preview=\"true\"\n                :hide-label=\"true\"\n                @update:value=\"updateSetting('backgroundImage', $event)\"\n            />\n\n            <!-- Image Sub-settings (Only if image is set) -->\n            <div v-if=\"getResolvedValue('backgroundImage')\" class=\"image-sub-settings animate-in fade-in duration-300\">\n                <!-- Parallax Effect -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.image.parallax') }}</label>\n                            <FieldActions \n                                :label=\"t('builder.fields.background.image.parallax')\"\n                                show-info\n                                show-responsive\n                                :show-reset=\"hasOverride('parallax')\"\n                                @toggle-info=\"showParallaxInfo = $event\"\n                                @reset=\"updateSetting('parallax', '')\"\n                                @responsive=\"openResponsiveModal(t('builder.fields.background.image.parallax'), 'parallax', 'toggle')\"\n                            />\n                    </div>\n                <!-- Inline Info Panel -->\n                <transition name=\"fade-slide\">\n                    <div v-if=\"showParallaxInfo && getInfoContent('parallax')\" class=\"field-info-panel mb-4\">\n                        {{ getInfoContent('parallax') }}\n                    </div>\n                </transition>\n                <ToggleField \n                    :field=\"{ name: 'parallax', label: t('builder.fields.background.image.parallax') }\"\n                    :value=\"getResolvedValue('parallax') === true || getResolvedValue('parallax') === 'true'\"\n                    :placeholder-value=\"getResponsivePlaceholder('parallax') === true || getResponsivePlaceholder('parallax') === 'true'\"\n                    @update:value=\"updateSetting('parallax', $event)\"\n                />\n            </div>\n\n            <!-- Parallax Method (only visible if Parallax is TRUE) -->\n            <div class=\"mt-4\" v-if=\"getResolvedValue('parallax')\">\n                <div class=\"flex items-center justify-between mb-2\">\n                    <label class=\"builder-label mb-0\">{{ t('builder.fields.background.image.parallaxMethod.label') }}</label>\n                    <FieldActions \n                        :label=\"t('builder.fields.background.image.parallaxMethod.label')\"\n                        :show-info=\"true\"\n                        show-responsive\n                        :show-reset=\"hasOverride('parallaxMethod') || !!getResponsiveValue('parallaxMethod')\"\n                        @toggle-info=\"showParallaxMethodInfo = $event\"\n                        @reset=\"updateSetting('parallaxMethod', '')\"\n                        @responsive=\"openResponsiveModal(t('builder.fields.background.image.parallaxMethod.label'), 'parallaxMethod', 'select', [\n                            { label: t('builder.fields.background.image.parallaxMethod.options.true'), value: 'true' },\n                            { label: t('builder.fields.background.image.parallaxMethod.options.css'), value: 'css' }\n                        ])\"\n                    />\n                </div>\n                <!-- Inline Info Panel -->\n                <transition name=\"fade-slide\">\n                    <div v-if=\"showParallaxMethodInfo && getInfoContent('parallaxMethod')\" class=\"field-info-panel mb-4\">\n                        {{ getInfoContent('parallaxMethod') }}\n                    </div>\n                </transition>\n                <SelectField \n                    :field=\"{ \n                        name: 'parallaxMethod', \n                        label: t('builder.fields.background.image.parallaxMethod.label'),\n                        options: [\n                            { label: t('builder.fields.background.image.parallaxMethod.options.true'), value: 'true' },\n                            { label: t('builder.fields.background.image.parallaxMethod.options.css'), value: 'css' }\n                        ]\n                    }\"\n                    :value=\"getResolvedValue('parallaxMethod') || 'true'\" \n                    @update:value=\"updateSetting('parallaxMethod', $event)\"\n                    :hide-label=\"true\"\n                />\n            </div>\n\n            <!-- Standard Image Settings (Only if NOT parallax) -->\n            <div v-if=\"!getResolvedValue('parallax')\" class=\"image-standard-settings animate-in fade-in duration-300\">\n                <!-- Size -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.image.size.label') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.image.size.label')\"\n                            :show-info=\"true\"\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundImageSize') || !!getResponsiveValue('backgroundImageSize')\"\n                            @toggle-info=\"showImageSizeInfo = $event\"\n                            @reset=\"updateSetting('backgroundImageSize', '')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.image.size.label'), 'backgroundImageSize', 'select', [\n                                { label: t('builder.fields.background.image.size.options.cover'), value: 'cover' },\n                                { label: t('builder.fields.background.image.size.options.fit'), value: 'fit' },\n                                { label: t('builder.fields.background.image.size.options.auto'), value: 'auto' },\n                                { label: t('builder.fields.background.image.size.options.stretch'), value: 'stretch' },\n                                { label: t('builder.fields.background.image.size.options.custom'), value: 'custom' }\n                            ], [\n                                {\n                                    match: 'custom',\n                                    fields: [\n                                        { name: 'backgroundImageWidth', label: t('builder.fields.common.width'), type: 'dimension' },\n                                        { name: 'backgroundImageHeight', label: t('builder.fields.common.height'), type: 'dimension' }\n                                    ]\n                                }\n                            ])\"\n                        />\n                    </div>\n                    <!-- Inline Info Panel -->\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showImageSizeInfo && getInfoContent('backgroundImageSize')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundImageSize') }}\n                        </div>\n                    </transition>\n                    <SelectField \n                        :field=\"{ \n                            name: 'backgroundImageSize', \n                            label: t('builder.fields.background.image.size.label'),\n                            options: [\n                                { label: t('builder.fields.background.image.size.options.cover'), value: 'cover' },\n                                { label: t('builder.fields.background.image.size.options.fit'), value: 'fit' },\n                                { label: t('builder.fields.background.image.size.options.auto'), value: 'auto' },\n                                { label: t('builder.fields.background.image.size.options.stretch'), value: 'stretch' },\n                                { label: t('builder.fields.background.image.size.options.custom'), value: 'custom' }\n                            ]\n                        }\"\n                        :value=\"getResolvedValue('backgroundImageSize') || 'cover'\" \n                        @update:value=\"updateSetting('backgroundImageSize', $event)\"\n                        :hide-label=\"true\"\n                    />\n                </div>\n\n                <div v-if=\"getResolvedValue('backgroundImageSize') === 'custom'\" class=\"mt-4\">\n                    <div class=\"flex flex-col gap-8 relative\">\n                        <!-- Link Icon -->\n                        <div \n                            class=\"absolute right-0 top-1/2 -translate-y-1/2 z-10 cursor-pointer p-1.5 rounded-full border border-input shadow-sm transition-colors duration-200\"\n                            :class=\"getResolvedValue('backgroundImageProportional') ? 'bg-blue-600 border-blue-600 text-white hover:bg-blue-700' : 'bg-background hover:text-accent border-input'\"\n                            @click=\"updateSetting('backgroundImageProportional', !getResolvedValue('backgroundImageProportional'))\"\n                            title=\"Proportional Scaling\"\n                        >\n                            <component :is=\"getResolvedValue('backgroundImageProportional') ? Link : Unlink\" :size=\"12\" />\n                        </div>\n\n                        <div>\n                                <div class=\"flex items-center justify-between mb-2\">\n                                    <label class=\"builder-label mb-0\">{{ t('builder.fields.common.width') }}</label>\n                                    <FieldActions \n                                        :label=\"t('builder.fields.common.width')\"\n                                        show-info\n                                        show-responsive\n                                        :show-reset=\"hasOverride('backgroundImageWidth') || !!getResponsiveValue('backgroundImageWidth')\"\n                                        @toggle-info=\"showImageWidthInfo = $event\"\n                                        @reset=\"updateSetting('backgroundImageWidth', '')\"\n                                        @responsive=\"openResponsiveModal(t('builder.fields.common.width'), 'backgroundImageWidth', 'dimension')\"\n                                    />\n                                </div>\n                                <transition name=\"fade-slide\">\n                                    <div v-if=\"showImageWidthInfo && getInfoContent('backgroundImageWidth')\" class=\"field-info-panel mb-4\">\n                                        {{ getInfoContent('backgroundImageWidth') }}\n                                    </div>\n                                </transition>\n                                <DimensionField \n                                    :field=\"{}\"\n                                    :value=\"getResolvedValue('backgroundImageWidth')\"\n                                    :placeholder-value=\"t('builder.fields.common.widthPlaceholder')\"\n                                    @update:value=\"updateSetting('backgroundImageWidth', $event)\"\n                                />\n                            </div>\n                            <div>\n                                <div class=\"flex items-center justify-between mb-2\">\n                                    <label class=\"builder-label mb-0\">{{ t('builder.fields.common.height') }}</label>\n                                    <FieldActions \n                                        :label=\"t('builder.fields.common.height')\"\n                                        show-info\n                                        show-responsive\n                                        :show-reset=\"hasOverride('backgroundImageHeight') || !!getResponsiveValue('backgroundImageHeight')\"\n                                        @toggle-info=\"showImageHeightInfo = $event\"\n                                        @reset=\"updateSetting('backgroundImageHeight', '')\"\n                                        @responsive=\"openResponsiveModal(t('builder.fields.common.height'), 'backgroundImageHeight', 'dimension')\"\n                                    />\n                                </div>\n                                <transition name=\"fade-slide\">\n                                    <div v-if=\"showImageHeightInfo && getInfoContent('backgroundImageHeight')\" class=\"field-info-panel mb-4\">\n                                        {{ getInfoContent('backgroundImageHeight') }}\n                                    </div>\n                                </transition>\n                                <DimensionField \n                                    :field=\"{}\"\n                                    :value=\"getResolvedValue('backgroundImageHeight')\"\n                                    :placeholder-value=\"t('builder.fields.common.heightPlaceholder')\"\n                                    @update:value=\"updateSetting('backgroundImageHeight', $event)\"\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                <!-- Position -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.image.position.label') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.image.position.label')\"\n                            :show-info=\"true\"\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundImagePosition') || !!getResolvedValue('backgroundImagePosition')\"\n                            @toggle-info=\"showImagePositionInfo = $event\"\n                            @reset=\"updateSetting('backgroundImagePosition', '')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.image.position.label'), 'backgroundImagePosition', 'select', imagePositionOptions)\"\n                        />\n                    </div>\n                    <!-- Inline Info Panel -->\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showImagePositionInfo && getInfoContent('backgroundImagePosition')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundImagePosition') }}\n                        </div>\n                    </transition>\n                    <SelectField \n                        :field=\"{ \n                            name: 'backgroundImagePosition', \n                            label: t('builder.fields.background.image.position.label'),\n                            options: [\n                                { label: t('builder.fields.background.image.position.options.topLeft'), value: 'left top' },\n                                { label: t('builder.fields.background.image.position.options.topCenter'), value: 'center top' },\n                                { label: t('builder.fields.background.image.position.options.topRight'), value: 'right top' },\n                                { label: t('builder.fields.background.image.position.options.centerLeft'), value: 'left center' },\n                                { label: t('builder.fields.background.image.position.options.center'), value: 'center center' },\n                                { label: t('builder.fields.background.image.position.options.centerRight'), value: 'right center' },\n                                { label: t('builder.fields.background.image.position.options.bottomLeft'), value: 'left bottom' },\n                                { label: t('builder.fields.background.image.position.options.bottomCenter'), value: 'center bottom' },\n                                { label: t('builder.fields.background.image.position.options.bottomRight'), value: 'right bottom' }\n                            ]\n                        }\"\n                        :value=\"getResolvedValue('backgroundImagePosition') || 'center'\" \n                        @update:value=\"updateSetting('backgroundImagePosition', $event)\"\n                        :hide-label=\"true\"\n                    />\n                </div>\n\n                <!-- Repeat -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.image.repeat.label') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.image.repeat.label')\"\n                            :show-info=\"true\"\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundImageRepeat') || !!getResolvedValue('backgroundImageRepeat')\"\n                            @toggle-info=\"showImageRepeatInfo = $event\"\n                            @reset=\"updateSetting('backgroundImageRepeat', '')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.image.repeat.label'), 'backgroundImageRepeat', 'select', [\n                                { label: t('builder.fields.background.image.repeat.options.repeat'), value: 'repeat' },\n                                { label: t('builder.fields.background.image.repeat.options.repeatX'), value: 'repeat-x' },\n                                { label: t('builder.fields.background.image.repeat.options.repeatY'), value: 'repeat-y' },\n                                { label: t('builder.fields.background.image.repeat.options.space'), value: 'space' },\n                                { label: t('builder.fields.background.image.repeat.options.round'), value: 'round' },\n                                { label: t('builder.fields.background.image.repeat.options.noRepeat'), value: 'no-repeat' }\n                            ])\"\n                        />\n                    </div>\n                    <!-- Inline Info Panel -->\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showImageRepeatInfo && getInfoContent('backgroundImageRepeat')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundImageRepeat') }}\n                        </div>\n                    </transition>\n                    <SelectField \n                        :field=\"{ \n                            name: 'backgroundImageRepeat', \n                            label: t('builder.fields.background.image.repeat.label'),\n                            options: [\n                                { label: t('builder.fields.background.image.repeat.options.repeat'), value: 'repeat' },\n                                { label: t('builder.fields.background.image.repeat.options.repeatX'), value: 'repeat-x' },\n                                { label: t('builder.fields.background.image.repeat.options.repeatY'), value: 'repeat-y' },\n                                { label: t('builder.fields.background.image.repeat.options.space'), value: 'space' },\n                                { label: t('builder.fields.background.image.repeat.options.round'), value: 'round' },\n                                { label: t('builder.fields.background.image.repeat.options.noRepeat'), value: 'no-repeat' }\n                            ]\n                        }\"\n                        :value=\"getResolvedValue('backgroundImageRepeat') || 'no-repeat'\" \n                        @update:value=\"updateSetting('backgroundImageRepeat', $event)\"\n                        :hide-label=\"true\"\n                    />\n                </div>\n\n                <!-- Attachment -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.image.attachment.label') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.image.attachment.label')\"\n                            :show-info=\"true\"\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundImageAttachment') || !!getResolvedValue('backgroundImageAttachment')\"\n                            @toggle-info=\"showImageAttachmentInfo = $event\"\n                            @reset=\"updateSetting('backgroundImageAttachment', '')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.image.attachment.label'), 'backgroundImageAttachment', 'select', [\n                                { label: t('builder.fields.background.image.attachment.options.scroll'), value: 'scroll' },\n                                { label: t('builder.fields.background.image.attachment.options.fixed'), value: 'fixed' }\n                            ])\"\n                        />\n                    </div>\n                    <!-- Inline Info Panel -->\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showImageAttachmentInfo && getInfoContent('backgroundImageAttachment')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundImageAttachment') }}\n                        </div>\n                    </transition>\n                    <SelectField \n                        :field=\"{ \n                            name: 'backgroundImageAttachment', \n                            label: t('builder.fields.background.image.attachment.label'),\n                            options: [\n                                { label: t('builder.fields.background.image.attachment.options.scroll'), value: 'scroll' },\n                                { label: t('builder.fields.background.image.attachment.options.fixed'), value: 'fixed' }\n                            ]\n                        }\"\n                        :value=\"getResolvedValue('backgroundImageAttachment') || 'scroll'\" \n                        @update:value=\"updateSetting('backgroundImageAttachment', $event)\"\n                        :hide-label=\"true\"\n                    />\n                </div>\n            </div> <!-- End of standard image settings -->\n\n             <!-- Blend Mode -->\n            <div class=\"mt-4\">\n                <div class=\"flex items-center justify-between mb-2\">\n                    <label class=\"builder-label mb-0\">{{ t('builder.fields.background.image.blend') }}</label>\n                    <FieldActions \n                        :label=\"t('builder.fields.background.image.blend')\"\n                        :show-info=\"true\"\n                        show-responsive\n                        :show-reset=\"hasOverride('backgroundImageBlendMode') || !!getResponsiveValue('backgroundImageBlendMode')\"\n                        @toggle-info=\"showImageBlendInfo = $event\"\n                        @reset=\"updateSetting('backgroundImageBlendMode', '')\"\n                        @responsive=\"openResponsiveModal(t('builder.fields.background.image.blend'), 'backgroundImageBlendMode', 'select', [\n                            { label: t('builder.settings.options.blend_mode.normal'), value: 'normal' },\n                            { label: t('builder.settings.options.blend_mode.multiply'), value: 'multiply' },\n                            { label: t('builder.settings.options.blend_mode.screen'), value: 'screen' },\n                            { label: t('builder.settings.options.blend_mode.overlay'), value: 'overlay' },\n                            { label: t('builder.settings.options.blend_mode.darken'), value: 'darken' },\n                            { label: t('builder.settings.options.blend_mode.lighten'), value: 'lighten' },\n                            { label: t('builder.settings.options.blend_mode.color-dodge'), value: 'color-dodge' },\n                            { label: t('builder.settings.options.blend_mode.color-burn'), value: 'color-burn' },\n                            { label: t('builder.settings.options.blend_mode.hard-light'), value: 'hard-light' },\n                            { label: t('builder.settings.options.blend_mode.soft-light'), value: 'soft-light' },\n                            { label: t('builder.settings.options.blend_mode.difference'), value: 'difference' },\n                            { label: t('builder.settings.options.blend_mode.exclusion'), value: 'exclusion' },\n                            { label: t('builder.settings.options.blend_mode.hue'), value: 'hue' },\n                            { label: t('builder.settings.options.blend_mode.saturation'), value: 'saturation' },\n                            { label: t('builder.settings.options.blend_mode.color'), value: 'color' },\n                            { label: t('builder.settings.options.blend_mode.luminosity'), value: 'luminosity' }\n                        ])\"\n                    />\n                </div>\n                <!-- Inline Info Panel -->\n                <transition name=\"fade-slide\">\n                    <div v-if=\"showImageBlendInfo && getInfoContent('backgroundImageBlendMode')\" class=\"field-info-panel mb-4\">\n                        {{ getInfoContent('backgroundImageBlendMode') }}\n                    </div>\n                </transition>\n                <SelectField \n                    :field=\"{ \n                        name: 'backgroundImageBlendMode', \n                        label: t('builder.fields.background.image.blend'),\n                        options: [\n                            { label: t('builder.settings.options.blend_mode.normal'), value: 'normal' },\n                            { label: t('builder.settings.options.blend_mode.multiply'), value: 'multiply' },\n                            { label: t('builder.settings.options.blend_mode.screen'), value: 'screen' },\n                            { label: t('builder.settings.options.blend_mode.overlay'), value: 'overlay' },\n                            { label: t('builder.settings.options.blend_mode.darken'), value: 'darken' },\n                            { label: t('builder.settings.options.blend_mode.lighten'), value: 'lighten' },\n                            { label: t('builder.settings.options.blend_mode.color-dodge'), value: 'color-dodge' },\n                            { label: t('builder.settings.options.blend_mode.color-burn'), value: 'color-burn' },\n                            { label: t('builder.settings.options.blend_mode.hard-light'), value: 'hard-light' },\n                            { label: t('builder.settings.options.blend_mode.soft-light'), value: 'soft-light' },\n                            { label: t('builder.settings.options.blend_mode.difference'), value: 'difference' },\n                            { label: t('builder.settings.options.blend_mode.exclusion'), value: 'exclusion' },\n                            { label: t('builder.settings.options.blend_mode.hue'), value: 'hue' },\n                            { label: t('builder.settings.options.blend_mode.saturation'), value: 'saturation' },\n                            { label: t('builder.settings.options.blend_mode.color'), value: 'color' },\n                            { label: t('builder.settings.options.blend_mode.luminosity'), value: 'luminosity' }\n                        ]\n                    }\"\n                    :value=\"getResolvedValue('backgroundImageBlendMode') || 'normal'\" \n                    @update:value=\"updateSetting('backgroundImageBlendMode', $event)\"\n                    :hide-label=\"true\"\n                />\n            </div>\n        </div>\n    </div>\n\n    <!-- Background Video -->\n        <div v-if=\"activeTab === 'video'\" class=\"bg-section\">\n             <div class=\"flex items-center justify-between mb-2\">\n                <div class=\"bg-header mb-0\">{{ t('builder.fields.background.video.label') }}</div>\n            </div>\n\n            <!-- Inline Info Panel -->\n            <transition name=\"fade-slide\">\n                <div v-if=\"showVideoInfo && getInfoContent('backgroundVideo')\" class=\"field-info-panel mb-4\">\n                    {{ getInfoContent('backgroundVideo') }}\n                </div>\n            </transition>\n             \n            <div class=\"mt-4\">\n                <div class=\"flex items-center justify-between mb-2\">\n                    <label class=\"builder-label mb-0\">{{ t('builder.fields.background.video.mp4') }}</label>\n                    <FieldActions \n                        :label=\"t('builder.fields.background.video.mp4')\"\n                        show-info\n                        show-responsive\n                        :show-reset=\"hasOverride('backgroundVideoMp4')\"\n                        @toggle-info=\"showVideoMp4Info = $event\"\n                        @reset=\"updateSetting('backgroundVideoMp4', '')\"\n                        @responsive=\"openResponsiveModal(t('builder.fields.background.video.mp4'), 'backgroundVideoMp4', 'upload', { allowedExtensions: ['mp4', 'mov', 'm4v'] })\"\n                    />\n                </div>\n                <transition name=\"fade-slide\">\n                    <div v-if=\"showVideoMp4Info && getInfoContent('backgroundVideoMp4')\" class=\"field-info-panel mb-4\">\n                        {{ getInfoContent('backgroundVideoMp4') }}\n                    </div>\n                </transition>\n                <MediaPicker @selected=\"(media) => updateSetting('backgroundVideoMp4', media.url)\" :constraints=\"{ allowedExtensions: ['mp4', 'mov', 'm4v'] }\">\n                    <template #trigger=\"{ open }\">\n                        <div \n                        class=\"bg-preview-box video-preview-box cursor-pointer\" \n                        :class=\"{ \n                            'is-inherited': !getResponsiveValue('backgroundVideoMp4') && getResponsivePlaceholder('backgroundVideoMp4'),\n                            'is-empty': !getResponsiveValue('backgroundVideoMp4') && !getResponsivePlaceholder('backgroundVideoMp4')\n                        }\"\n                        @click=\"open\"\n                        @mouseenter=\"isVideoHovered = true\"\n                        @mouseleave=\"isVideoHovered = false\"\n                        >\n                            <video v-if=\"getResolvedValue('backgroundVideoMp4')\" :src=\"getResolvedValue('backgroundVideoMp4')\" class=\"preview-bg-video\" :style=\"videoPreviewStyle\" muted playsinline></video>\n\n                            <div v-if=\"isVideoHovered && (getResponsiveValue('backgroundVideoMp4') || getResponsivePlaceholder('backgroundVideoMp4'))\" class=\"preview-actions-overlay\">\n                                <div class=\"action-btn-group\">\n                                    <div class=\"action-icon-btn\" :title=\"t('builder.fields.actions.edit')\" @click.stop=\"open\">\n                                        <Settings :size=\"14\" />\n                                    </div>\n                                    <div class=\"action-icon-btn remove\" :title=\"t('builder.contextMenu.delete')\" @click.stop=\"updateSetting('backgroundVideoMp4', '')\">\n                                        <Trash2 :size=\"14\" />\n                                    </div>\n                                </div>\n                            </div>\n                            <div v-if=\"!getResolvedValue('backgroundVideoMp4')\" class=\"empty-preview\">\n                                <Plus :size=\"20\" />\n                                <span>{{ t('builder.fields.background.video.add') }}</span>\n                            </div>\n                        </div>\n                    </template>\n                </MediaPicker>\n\n                <UploadField \n                    :field=\"{ name: 'backgroundVideoMp4', label: t('builder.fields.background.video.mp4') }\"\n                    :value=\"getResponsiveValue('backgroundVideoMp4')\" \n                    @update:value=\"updateSetting('backgroundVideoMp4', $event)\"\n                    :allowed-extensions=\"['mp4', 'mov', 'm4v']\"\n                    :hide-label=\"true\"\n                    :hide-preview=\"true\"\n                />\n            </div>\n            \n            <div class=\"mt-4\">\n                <div class=\"flex items-center justify-between mb-2\">\n                    <label class=\"builder-label mb-0\">{{ t('builder.fields.background.video.webm') }}</label>\n                    <FieldActions \n                        :label=\"t('builder.fields.background.video.webm')\"\n                        show-info\n                        show-responsive\n                        :show-reset=\"hasOverride('backgroundVideoWebm')\"\n                        @toggle-info=\"showVideoWebmInfo = $event\"\n                        @reset=\"updateSetting('backgroundVideoWebm', '')\"\n                        @responsive=\"openResponsiveModal(t('builder.fields.background.video.webm'), 'backgroundVideoWebm', 'upload', { allowedExtensions: ['webm'] })\"\n                    />\n                </div>\n                <transition name=\"fade-slide\">\n                    <div v-if=\"showVideoWebmInfo && getInfoContent('backgroundVideoWebm')\" class=\"field-info-panel mb-4\">\n                        {{ getInfoContent('backgroundVideoWebm') }}\n                    </div>\n                </transition>\n                <MediaPicker @selected=\"(media) => updateSetting('backgroundVideoWebm', media.url)\" :constraints=\"{ allowedExtensions: ['webm'] }\">\n                    <template #trigger=\"{ open }\">\n                        <div \n                        class=\"bg-preview-box video-preview-box cursor-pointer\" \n                        :class=\"{ \n                            'is-inherited': !getResponsiveValue('backgroundVideoWebm') && getResponsivePlaceholder('backgroundVideoWebm'),\n                            'is-empty': !getResponsiveValue('backgroundVideoWebm') && !getResponsivePlaceholder('backgroundVideoWebm')\n                        }\"\n                        @click=\"open\"\n                        >\n                            <video v-if=\"getResolvedValue('backgroundVideoWebm')\" :src=\"getResolvedValue('backgroundVideoWebm')\" class=\"preview-bg-video\" :style=\"videoPreviewStyle\" muted playsinline></video>\n\n                            <div v-if=\"!getResolvedValue('backgroundVideoWebm')\" class=\"empty-preview\">\n                                <Plus :size=\"20\" />\n                                <span>{{ t('builder.fields.background.video.add') }}</span>\n                            </div>\n                        </div>\n                    </template>\n                </MediaPicker>\n\n                <UploadField \n                    :field=\"{ name: 'backgroundVideoWebm', label: t('builder.fields.background.video.webm') }\"\n                    :value=\"getResponsiveValue('backgroundVideoWebm')\" \n                    @update:value=\"updateSetting('backgroundVideoWebm', $event)\"\n                    :allowed-extensions=\"['webm']\"\n                    :hide-label=\"true\"\n                    :hide-preview=\"true\"\n                />\n            </div>\n\n            <!-- Video Sub-settings (Only if at least one video is set) -->\n            <div v-if=\"getResolvedValue('backgroundVideoMp4') || getResolvedValue('backgroundVideoWebm')\" class=\"video-sub-settings animate-in fade-in duration-300\">\n            <div class=\"mt-4 flex flex-col gap-8 relative\">\n                <!-- Link Icon -->\n                <div \n                    class=\"absolute right-0 top-1/2 -translate-y-1/2 z-10 cursor-pointer p-1.5 rounded-full border border-input shadow-sm transition-colors duration-200\"\n                    :class=\"getResolvedValue('backgroundVideoProportional') ? 'bg-blue-600 border-blue-600 text-white hover:bg-blue-700' : 'bg-background hover:text-accent border-input'\"\n                    @click=\"updateSetting('backgroundVideoProportional', !getResolvedValue('backgroundVideoProportional'))\"\n                    title=\"Proportional Scaling\"\n                >\n                    <component :is=\"getResolvedValue('backgroundVideoProportional') ? Link : Unlink\" :size=\"12\" />\n                </div>\n\n                <div>\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.video.width') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.video.width')\"\n                            show-info\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundVideoWidth') || !!getResponsiveValue('backgroundVideoWidth')\"\n                            @toggle-info=\"showVideoWidthInfo = $event\"\n                            @reset=\"updateSetting('backgroundVideoWidth', '')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.video.width'), 'backgroundVideoWidth', 'dimension')\"\n                        />\n                    </div>\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showVideoWidthInfo && getInfoContent('backgroundVideoWidth')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundVideoWidth') }}\n                        </div>\n                    </transition>\n                    <DimensionField \n                        :field=\"{}\"\n                        :value=\"getResolvedValue('backgroundVideoWidth')\"\n                        :placeholder-value=\"'100%'\"\n                        @update:value=\"updateSetting('backgroundVideoWidth', $event)\"\n                    />\n                </div>\n                <div>\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.video.height') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.video.height')\"\n                            show-info\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundVideoHeight') || !!getResponsiveValue('backgroundVideoHeight')\"\n                            @toggle-info=\"showVideoHeightInfo = $event\"\n                            @reset=\"updateSetting('backgroundVideoHeight', '')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.video.height'), 'backgroundVideoHeight', 'dimension')\"\n                        />\n                    </div>\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showVideoHeightInfo && getInfoContent('backgroundVideoHeight')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundVideoHeight') }}\n                        </div>\n                    </transition>\n                    <DimensionField \n                        :field=\"{}\"\n                        :value=\"getResolvedValue('backgroundVideoHeight')\"\n                        @update:value=\"updateSetting('backgroundVideoHeight', $event)\"\n                    />\n                </div>\n            </div>\n\n            <div class=\"mt-4\">\n                <div class=\"flex items-center justify-between mb-2\">\n                    <label class=\"builder-label mb-0\">{{ t('builder.fields.background.video.pauseOnPlay') }}</label>\n                    <FieldActions \n                        :label=\"t('builder.fields.background.video.pauseOnPlay')\"\n                        show-info\n                        show-responsive\n                        :show-reset=\"hasOverride('pauseVideoOnPlay')\"\n                        @toggle-info=\"showVideoPauseOnPlayInfo = $event\"\n                        @reset=\"updateSetting('pauseVideoOnPlay', '')\"\n                        @responsive=\"openResponsiveModal(t('builder.fields.background.video.pauseOnPlay'), 'pauseVideoOnPlay', 'toggle')\"\n                    />\n                </div>\n                <transition name=\"fade-slide\">\n                    <div v-if=\"showVideoPauseOnPlayInfo && getInfoContent('pauseVideoOnPlay')\" class=\"field-info-panel mb-4\">\n                        {{ getInfoContent('pauseVideoOnPlay') }}\n                    </div>\n                </transition>\n                <ToggleField \n                    :field=\"{ name: 'pauseVideoOnPlay', label: t('builder.fields.background.video.pauseOnPlay') }\"\n                    :value=\"getResolvedValue('pauseVideoOnPlay') === true\" \n                    @update:value=\"updateSetting('pauseVideoOnPlay', $event)\"\n                />\n            </div>\n            \n            <div class=\"mt-4\">\n                <div class=\"flex items-center justify-between mb-2\">\n                    <label class=\"builder-label mb-0\">{{ t('builder.fields.background.video.pauseNotInView') }}</label>\n                    <FieldActions \n                        :label=\"t('builder.fields.background.video.pauseNotInView')\"\n                        show-info\n                        show-responsive\n                        :show-reset=\"hasOverride('pauseVideoNotInView')\"\n                        @toggle-info=\"showVideoPauseNotInViewInfo = $event\"\n                        @reset=\"updateSetting('pauseVideoNotInView', '')\"\n                        @responsive=\"openResponsiveModal(t('builder.fields.background.video.pauseNotInView'), 'pauseVideoNotInView', 'toggle')\"\n                    />\n                </div>\n                <transition name=\"fade-slide\">\n                    <div v-if=\"showVideoPauseNotInViewInfo && getInfoContent('pauseVideoNotInView')\" class=\"field-info-panel mb-4\">\n                        {{ getInfoContent('pauseVideoNotInView') }}\n                    </div>\n                </transition>\n                <ToggleField \n                    :field=\"{ name: 'pauseVideoNotInView', label: t('builder.fields.background.video.pauseNotInView') }\"\n                    :value=\"getResolvedValue('pauseVideoNotInView') === true\" \n                    @update:value=\"updateSetting('pauseVideoNotInView', $event)\"\n                />\n            </div>\n\n            <!-- Loop -->\n            <div class=\"mt-4\">\n                 <div class=\"flex items-center justify-between mb-2\">\n                    <label class=\"builder-label mb-0\">{{ t('builder.fields.background.video.loop') }}</label>\n                <FieldActions \n                    :label=\"t('builder.fields.background.video.loop')\"\n                    show-info\n                    show-responsive\n                    :show-reset=\"hasOverride('backgroundVideoLoop')\"\n                    @toggle-info=\"showVideoLoopInfo = $event\"\n                    @reset=\"updateSetting('backgroundVideoLoop', true)\"\n                    @responsive=\"openResponsiveModal(t('builder.fields.background.video.loop'), 'backgroundVideoLoop', 'toggle')\"\n                />\n            </div>\n            <transition name=\"fade-slide\">\n                <div v-if=\"showVideoLoopInfo && getInfoContent('backgroundVideoLoop')\" class=\"field-info-panel mb-4\">\n                    {{ getInfoContent('backgroundVideoLoop') }}\n                </div>\n            </transition>\n                <ToggleField \n                    :field=\"{ name: 'backgroundVideoLoop', label: t('builder.fields.background.video.loop') }\"\n                    :value=\"getResolvedValue('backgroundVideoLoop') !== false\" \n                    @update:value=\"updateSetting('backgroundVideoLoop', $event)\"\n                />\n            </div>\n\n            <!-- Mute -->\n            <div class=\"mt-4\">\n                 <div class=\"flex items-center justify-between mb-2\">\n                    <label class=\"builder-label mb-0\">{{ t('builder.fields.background.video.mute') }}</label>\n                <FieldActions \n                    :label=\"t('builder.fields.background.video.mute')\"\n                    show-info\n                    show-responsive\n                    :show-reset=\"hasOverride('backgroundVideoMute')\"\n                    @toggle-info=\"showVideoMuteInfo = $event\"\n                    @reset=\"updateSetting('backgroundVideoMute', true)\"\n                    @responsive=\"openResponsiveModal(t('builder.fields.background.video.mute'), 'backgroundVideoMute', 'toggle')\"\n                />\n            </div>\n            <transition name=\"fade-slide\">\n                <div v-if=\"showVideoMuteInfo && getInfoContent('backgroundVideoMute')\" class=\"field-info-panel mb-4\">\n                    {{ getInfoContent('backgroundVideoMute') }}\n                </div>\n            </transition>\n                <ToggleField \n                    :field=\"{ name: 'backgroundVideoMute', label: t('builder.fields.background.video.mute') }\"\n                    :value=\"getResolvedValue('backgroundVideoMute') !== false\" \n                    @update:value=\"updateSetting('backgroundVideoMute', $event)\"\n                />\n            </div>\n\n            <!-- Video Overlay -->\n            <div class=\"mt-4 pt-4 border-t border-input\">\n                 <div class=\"flex items-center justify-between mb-2\">\n                    <label class=\"builder-label mb-0\">{{ t('builder.fields.background.video.overlay') || 'Video Overlay' }}</label>\n                <FieldActions \n                    :label=\"t('builder.fields.background.video.overlay') || 'Video Overlay'\"\n                    show-info\n                    show-responsive\n                    :show-reset=\"hasOverride('backgroundVideoOverlayColor')\"\n                    @toggle-info=\"showVideoOverlayInfo = $event\"\n                    @reset=\"updateSetting('backgroundVideoOverlayColor', '')\"\n                    @responsive=\"openResponsiveModal(t('builder.fields.background.video.overlay') || 'Video Overlay', 'backgroundVideoOverlayColor', 'color')\"\n                />\n            </div>\n            <transition name=\"fade-slide\">\n                <div v-if=\"showVideoOverlayInfo && getInfoContent('backgroundVideoOverlayColor')\" class=\"field-info-panel mb-4\">\n                    {{ getInfoContent('backgroundVideoOverlayColor') }}\n                </div>\n            </transition>\n                <ColorField \n                    :value=\"getResolvedValue('backgroundVideoOverlayColor')\" \n                    @update:value=\"updateSetting('backgroundVideoOverlayColor', $event)\"\n                />\n            </div>\n</div> <!-- End of video-sub-settings -->\n        </div>\n\n        <!-- Pattern -->\n        <div v-if=\"activeTab === 'pattern'\" class=\"bg-section\">\n            <div class=\"flex items-center justify-between mb-2\">\n                <div class=\"bg-header mb-0\">{{ t('builder.fields.background.tabs.pattern') }}</div>\n                <FieldActions \n                    :label=\"t('builder.fields.background.tabs.pattern')\"\n                    show-info\n                    show-responsive\n                    :show-reset=\"hasOverride('backgroundPattern')\"\n                    @toggle-info=\"showPatternInfo = $event\"\n                    @reset=\"updateSetting('backgroundPattern', 'none')\"\n                    @responsive=\"openResponsiveModal(t('builder.fields.background.tabs.pattern'), 'backgroundPattern', 'pattern', patternOptions, [\n                        { fields: [\n                            { name: 'backgroundPatternColor', label: t('builder.fields.background.pattern.color'), type: 'color' },\n                            { name: 'backgroundPatternFlipH', label: t('builder.fields.background.pattern.flipH'), type: 'toggle' },\n                            { name: 'backgroundPatternFlipV', label: t('builder.fields.background.pattern.flipV'), type: 'toggle' },\n                            { name: 'backgroundPatternRotate', label: t('builder.fields.background.pattern.rotate'), type: 'toggle' },\n                            { name: 'backgroundPatternInvert', label: t('builder.fields.background.pattern.invert'), type: 'toggle' },\n                            { name: 'backgroundPatternSize', label: t('builder.fields.background.pattern.size.label'), type: 'select', options: patternSizeOptions },\n                            { name: 'backgroundPatternWidth', label: t('builder.fields.background.pattern.size.width'), type: 'dimension' },\n                            { name: 'backgroundPatternHeight', label: t('builder.fields.background.pattern.size.height'), type: 'dimension' },\n                            { name: 'backgroundPatternRepeatOrigin', label: t('builder.fields.background.pattern.repeatOrigin.label'), type: 'select', options: patternRepeatOriginOptions },\n                            { name: 'backgroundPatternHorizontalOffset', label: t('builder.fields.background.pattern.horizontalOffset'), type: 'dimension' },\n                            { name: 'backgroundPatternVerticalOffset', label: t('builder.fields.background.pattern.verticalOffset'), type: 'dimension' },\n                            { name: 'backgroundPatternRepeat', label: t('builder.fields.background.pattern.repeat.label'), type: 'select', options: patternRepeatOptions },\n                            { name: 'backgroundPatternBlendMode', label: t('builder.fields.background.pattern.blendMode.label'), type: 'select', options: blendModeOptions }\n                        ]}\n                    ])\"\n                />\n            </div>\n            <transition name=\"fade-slide\">\n                <div v-if=\"showPatternInfo && getInfoContent('backgroundPattern')\" class=\"field-info-panel mb-4\">\n                    {{ getInfoContent('backgroundPattern') }}\n                </div>\n            </transition>\n\n            <!-- Empty State / Large Preview -->\n            <div v-if=\"!getResolvedValue('backgroundPattern') || getResolvedValue('backgroundPattern') === 'none'\" class=\"bg-preview-box is-empty\" @click=\"initDefaultPattern\">\n                <div class=\"empty-preview\">\n                    <Plus :size=\"20\" />\n                    <span>{{ t('builder.fields.background.pattern.add') }}</span>\n                </div>\n            </div>\n\n            <div v-else class=\"pattern-ui-container\">\n                <div \n                    class=\"bg-preview-box pattern-preview-box\"\n                    @mouseenter=\"isPatternHovered = true\"\n                    @mouseleave=\"isPatternHovered = false\"\n                >\n                    <div \n                        v-if=\"activePattern\" \n                        class=\"preview-bg-image h-full w-full\"\n                        :style=\"combinedBackgroundStyle\"\n                    ></div>\n                    <div v-if=\"isPatternHovered\" class=\"preview-actions-overlay\">\n                        <div class=\"action-btn-group\">\n                            <div class=\"action-icon-btn remove\" :title=\"t('builder.contextMenu.delete')\" @click.stop=\"clearPattern\">\n                                <Trash2 :size=\"14\" />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Pattern Selection Dropdown (Moved Below Preview) -->\n            <div class=\"select-field-container mt-2 mb-4\">\n                <BaseDropdown align=\"left\" width=\"100%\">\n                    <template #trigger=\"{ open }\">\n                        <div class=\"select-trigger\" :class=\"{ 'is-open': open }\">\n                            <span class=\"selected-label\">{{ activePattern ? activePattern.label : t('builder.common.none') }}</span>\n                            <ChevronDown :size=\"14\" class=\"select-arrow\" />\n                        </div>\n                    </template>\n\n                    <template #default=\"{ close }\">\n                        <div class=\"dropdown-preview-container\">\n                            <PatternField \n                                :value=\"getResolvedValue('backgroundPattern')\"\n                                @update:value=\"updateSetting('backgroundPattern', $event); close()\"\n                            />\n                        </div>\n                    </template>\n                </BaseDropdown>\n            </div>\n\n            <!-- Pattern Sub-settings -->\n            <div v-if=\"getResolvedValue('backgroundPattern') && getResolvedValue('backgroundPattern') !== 'none'\" class=\"pattern-sub-settings mt-4 animate-in fade-in duration-300\">\n                <!-- Pattern Color -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.pattern.color') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.pattern.color')\"\n                            show-info\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundPatternColor')\"\n                            @toggle-info=\"showPatternColorInfo = $event\"\n                            @reset=\"updateSetting('backgroundPatternColor', '')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.pattern.color'), 'backgroundPatternColor', 'color')\"\n                        />\n                    </div>\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showPatternColorInfo && getInfoContent('backgroundPatternColor')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundPatternColor') }}\n                        </div>\n                    </transition>\n                    <ColorField \n                        :value=\"getResolvedValue('backgroundPatternColor')\"\n                        :placeholder-value=\"'rgba(0,0,0,0.1)'\"\n                        @update:value=\"updateSetting('backgroundPatternColor', $event)\"\n                    />\n                </div>\n\n                <!-- Pattern Transform -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.pattern.transform') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.pattern.transform')\"\n                            show-info\n                            show-responsive\n                            @toggle-info=\"showPatternTransformInfo = $event\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.pattern.transform'), 'backgroundPatternFlipH', 'toggle', null, [\n                                { fields: [\n                                    { name: 'backgroundPattern', label: t('builder.fields.background.pattern.transform'), type: 'transform' },\n                                ]}\n                            ])\"\n                        />\n                    </div>\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showPatternTransformInfo && getInfoContent('backgroundPatternTransform')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundPatternTransform') }}\n                        </div>\n                    </transition>\n                    <div class=\"flex gap-2\">\n                        <IconButton \n                            :icon=\"FlipHorizontal\"\n                            :title=\"t('builder.fields.background.pattern.flipH')\"\n                            :active=\"!!getResolvedValue('backgroundPatternFlipH')\"\n                            @click=\"updateSetting('backgroundPatternFlipH', !getResolvedValue('backgroundPatternFlipH'))\"\n                        />\n                        <IconButton \n                            :icon=\"FlipVertical\"\n                            :title=\"t('builder.fields.background.pattern.flipV')\"\n                            :active=\"!!getResolvedValue('backgroundPatternFlipV')\"\n                            @click=\"updateSetting('backgroundPatternFlipV', !getResolvedValue('backgroundPatternFlipV'))\"\n                        />\n                        <IconButton \n                            :icon=\"RefreshCw\"\n                            :title=\"t('builder.fields.background.pattern.rotate')\"\n                            :active=\"!!getResolvedValue('backgroundPatternRotate')\"\n                            @click=\"updateSetting('backgroundPatternRotate', !getResolvedValue('backgroundPatternRotate'))\"\n                        />\n                        <IconButton \n                            :icon=\"Contrast\"\n                            :title=\"t('builder.fields.background.pattern.invert')\"\n                            :active=\"!!getResolvedValue('backgroundPatternInvert')\"\n                            @click=\"updateSetting('backgroundPatternInvert', !getResolvedValue('backgroundPatternInvert'))\"\n                        />\n                    </div>\n                </div>\n\n                <!-- Pattern Size -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.pattern.size.label') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.pattern.size.label')\"\n                            show-info\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundPatternSize')\"\n                            @toggle-info=\"showPatternSizeInfo = $event\"\n                            @reset=\"updateSetting('backgroundPatternSize', 'actual')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.pattern.size.label'), 'backgroundPatternSize', 'select', patternSizeOptions)\"\n                        />\n                    </div>\n                    <!-- Inline Info Panel -->\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showPatternSizeInfo && getInfoContent('backgroundPatternSize')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundPatternSize') }}\n                        </div>\n                    </transition>\n                    <SelectField \n                        :field=\"{ name: 'backgroundPatternSize', options: patternSizeOptions }\"\n                        :value=\"getResolvedValue('backgroundPatternSize')\"\n                        @update:value=\"updateSetting('backgroundPatternSize', $event)\"\n                        :placeholder-value=\"'actual'\"\n                    />\n                </div>\n\n                <!-- Custom Size Width/Height -->\n                <div v-if=\"getResolvedValue('backgroundPatternSize') === 'custom'\" class=\"mt-4\">\n                    <div class=\"flex flex-col gap-8 relative\">\n                        <!-- Link Icon -->\n                        <div \n                            class=\"absolute right-0 top-[50%] -translate-y-[50%] z-10 cursor-pointer flex items-center justify-center p-1 rounded transition-colors\"\n                            :class=\"[\n                                (getResolvedValue('backgroundPatternProportional') === true || getResolvedValue('backgroundPatternProportional') === 'true') \n                                    ? 'bg-blue-600 text-white hover:bg-blue-700' \n                                    : 'text-gray-400 hover:text-white hover:bg-white/10'\n                            ]\"\n                            :title=\"t('builder.fields.background.proportional')\"\n                            @click=\"updateSetting('backgroundPatternProportional', !(getResolvedValue('backgroundPatternProportional') === true || getResolvedValue('backgroundPatternProportional') === 'true'))\"\n                        >\n                            <Link v-if=\"getResolvedValue('backgroundPatternProportional') === true || getResolvedValue('backgroundPatternProportional') === 'true'\" :size=\"14\" />\n                            <Unlink v-else :size=\"14\" />\n                        </div>\n\n                            <div>\n                                <div class=\"flex items-center justify-between mb-2\">\n                                    <label class=\"builder-label mb-0\">{{ t('builder.fields.background.pattern.size.width') }}</label>\n                                    <FieldActions \n                                        :label=\"t('builder.fields.background.pattern.size.width')\"\n                                        show-info\n                                        show-responsive\n                                        :show-reset=\"hasOverride('backgroundPatternWidth') || !!getResponsiveValue('backgroundPatternWidth')\"\n                                        @toggle-info=\"showPatternWidthInfo = $event\"\n                                        @reset=\"updateSetting('backgroundPatternWidth', '')\"\n                                        @responsive=\"openResponsiveModal(t('builder.fields.background.pattern.size.width'), 'backgroundPatternWidth', 'dimension')\"\n                                    />\n                                </div>\n                                <transition name=\"fade-slide\">\n                                    <div v-if=\"showPatternWidthInfo && getInfoContent('backgroundPatternWidth')\" class=\"field-info-panel mb-4\">\n                                        {{ getInfoContent('backgroundPatternWidth') }}\n                                    </div>\n                                </transition>\n                                <DimensionField \n                                    :field=\"{}\"\n                                    :value=\"getResolvedValue('backgroundPatternWidth')\"\n                                    :placeholder-value=\"'auto'\"\n                                    @update:value=\"updateSetting('backgroundPatternWidth', $event)\"\n                                />\n                            </div>\n                            <div>\n                                <div class=\"flex items-center justify-between mb-2\">\n                                    <label class=\"builder-label mb-0\">{{ t('builder.fields.background.pattern.size.height') }}</label>\n                                    <FieldActions \n                                        :label=\"t('builder.fields.background.pattern.size.height')\"\n                                        show-info\n                                        show-responsive\n                                        :show-reset=\"hasOverride('backgroundPatternHeight') || !!getResponsiveValue('backgroundPatternHeight')\"\n                                        @toggle-info=\"showPatternHeightInfo = $event\"\n                                        @reset=\"updateSetting('backgroundPatternHeight', '')\"\n                                        @responsive=\"openResponsiveModal(t('builder.fields.background.pattern.size.height'), 'backgroundPatternHeight', 'dimension')\"\n                                    />\n                                </div>\n                                <transition name=\"fade-slide\">\n                                    <div v-if=\"showPatternHeightInfo && getInfoContent('backgroundPatternHeight')\" class=\"field-info-panel mb-4\">\n                                        {{ getInfoContent('backgroundPatternHeight') }}\n                                    </div>\n                                </transition>\n                                <DimensionField \n                                    :field=\"{}\"\n                                    :value=\"getResolvedValue('backgroundPatternHeight')\"\n                                    :placeholder-value=\"'auto'\"\n                                    @update:value=\"updateSetting('backgroundPatternHeight', $event)\"\n                                />\n                            </div>\n                    </div>\n                </div>\n\n                <!-- Pattern Repeat Origin -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.pattern.repeatOrigin.label') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.pattern.repeatOrigin.label')\"\n                            show-info\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundPatternRepeatOrigin')\"\n                            @toggle-info=\"showPatternRepeatOriginInfo = $event\"\n                            @reset=\"updateSetting('backgroundPatternRepeatOrigin', 'center')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.pattern.repeatOrigin.label'), 'backgroundPatternRepeatOrigin', 'select', patternRepeatOriginOptions)\"\n                        />\n                    </div>\n                    \n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showPatternRepeatOriginInfo\" class=\"field-info-panel mb-2\">\n                            {{ getInfoContent('backgroundPatternRepeatOrigin') }}\n                        </div>\n                    </transition>\n\n                    <SelectField \n                        :field=\"{ name: 'backgroundPatternRepeatOrigin', options: patternRepeatOriginOptions }\"\n                        :value=\"getResolvedValue('backgroundPatternRepeatOrigin')\"\n                        :placeholder-value=\"'center'\"\n                        @update:value=\"updateSetting('backgroundPatternRepeatOrigin', $event)\"\n                    />\n                </div>\n\n                <!-- Pattern Offsets (Horizontal & Vertical) -->\n                <div v-if=\"getResolvedValue('backgroundPatternRepeatOrigin') && getResolvedValue('backgroundPatternRepeatOrigin') !== 'center' && getResolvedValue('backgroundPatternRepeatOrigin') !== 'center center'\" class=\"mt-4 flex flex-col gap-4\">\n                    <!-- Horizontal Offset -->\n                    <div>\n                        <div class=\"flex items-center justify-between mb-2\">\n                            <label class=\"builder-label mb-0\">{{ t('builder.fields.background.pattern.horizontalOffset') }}</label>\n                            <FieldActions \n                                :label=\"t('builder.fields.background.pattern.horizontalOffset')\"\n                                show-info\n                                show-responsive\n                                :show-reset=\"hasOverride('backgroundPatternHorizontalOffset')\"\n                                @toggle-info=\"showPatternHorizontalOffsetInfo = $event\"\n                                @reset=\"updateSetting('backgroundPatternHorizontalOffset', '0%')\"\n                                @responsive=\"openResponsiveModal(t('builder.fields.background.pattern.horizontalOffset'), 'backgroundPatternHorizontalOffset', 'input')\"\n                            />\n                        </div>\n                        <transition name=\"fade-slide\">\n                            <div v-if=\"showPatternHorizontalOffsetInfo\" class=\"field-info-panel mb-2\">\n                                {{ getInfoContent('backgroundPatternHorizontalOffset') }}\n                            </div>\n                        </transition>\n                        <DimensionField \n                            :field=\"{}\"\n                            :value=\"getResolvedValue('backgroundPatternHorizontalOffset')\"\n                            :placeholder-value=\"'0%'\"\n                            @update:value=\"updateSetting('backgroundPatternHorizontalOffset', $event)\"\n                        />\n                    </div>\n                    \n                    <!-- Vertical Offset -->\n                    <div>\n                         <div class=\"flex items-center justify-between mb-2\">\n                            <label class=\"builder-label mb-0\">{{ t('builder.fields.background.pattern.verticalOffset') }}</label>\n                            <FieldActions \n                                :label=\"t('builder.fields.background.pattern.verticalOffset')\"\n                                show-info\n                                show-responsive\n                                :show-reset=\"hasOverride('backgroundPatternVerticalOffset')\"\n                                @toggle-info=\"showPatternVerticalOffsetInfo = $event\"\n                                @reset=\"updateSetting('backgroundPatternVerticalOffset', '0%')\"\n                                @responsive=\"openResponsiveModal(t('builder.fields.background.pattern.verticalOffset'), 'backgroundPatternVerticalOffset', 'input')\"\n                            />\n                        </div>\n                        <transition name=\"fade-slide\">\n                            <div v-if=\"showPatternVerticalOffsetInfo\" class=\"field-info-panel mb-2\">\n                                {{ getInfoContent('backgroundPatternVerticalOffset') }}\n                            </div>\n                        </transition>\n                        <DimensionField \n                            :field=\"{}\"\n                            :value=\"getResolvedValue('backgroundPatternVerticalOffset')\"\n                            :placeholder-value=\"'0%'\"\n                            @update:value=\"updateSetting('backgroundPatternVerticalOffset', $event)\"\n                        />\n                    </div>\n                </div>\n\n                <!-- Pattern Repeat -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.pattern.repeat.label') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.pattern.repeat.label')\"\n                            show-info\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundPatternRepeat')\"\n                            @toggle-info=\"showPatternRepeatInfo = $event\"\n                            @reset=\"updateSetting('backgroundPatternRepeat', 'repeat')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.pattern.repeat.label'), 'backgroundPatternRepeat', 'select', patternRepeatOptions)\"\n                        />\n                    </div>\n                    <!-- Inline Info Panel -->\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showPatternRepeatInfo && getInfoContent('backgroundPatternRepeat')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundPatternRepeat') }}\n                        </div>\n                    </transition>\n                    <SelectField \n                        :field=\"{ name: 'backgroundPatternRepeat', options: patternRepeatOptions }\"\n                        :value=\"getResolvedValue('backgroundPatternRepeat')\"\n                        @update:value=\"updateSetting('backgroundPatternRepeat', $event)\"\n                        :placeholder-value=\"'repeat'\"\n                    />\n                </div>\n\n                <!-- Pattern Blend Mode -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.pattern.blendMode.label') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.pattern.blendMode.label')\"\n                            show-info\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundPatternBlendMode')\"\n                            @toggle-info=\"showPatternBlendInfo = $event\"\n                            @reset=\"updateSetting('backgroundPatternBlendMode', 'normal')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.pattern.blendMode.label'), 'backgroundPatternBlendMode', 'select', blendModeOptions)\"\n                        />\n                    </div>\n                    <!-- Inline Info Panel -->\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showPatternBlendInfo && getInfoContent('backgroundPatternBlendMode')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundPatternBlendMode') }}\n                        </div>\n                    </transition>\n                    <SelectField \n                        :field=\"{ name: 'backgroundPatternBlendMode', options: blendModeOptions }\"\n                        :value=\"getResolvedValue('backgroundPatternBlendMode')\"\n                        @update:value=\"updateSetting('backgroundPatternBlendMode', $event)\"\n                        :placeholder-value=\"'normal'\"\n                    />\n                </div>\n            </div>\n        </div>\n\n        <!-- Mask -->\n        <div v-if=\"activeTab === 'mask'\" class=\"bg-section\">\n            <div class=\"flex items-center justify-between mb-2\">\n                <div class=\"bg-header mb-0\">{{ t('builder.fields.background.tabs.mask') }}</div>\n                <FieldActions \n                    :label=\"t('builder.fields.background.tabs.mask')\"\n                    show-info\n                    show-responsive\n                    :show-reset=\"hasOverride('backgroundMask')\"\n                    @toggle-info=\"showMaskInfo = $event\"\n                    @reset=\"updateSetting('backgroundMask', 'none')\"\n                    @responsive=\"openResponsiveModal(t('builder.fields.background.tabs.mask'), 'backgroundMask', 'mask', maskOptions, [\n                        { fields: [\n                            { name: 'backgroundMaskColor', label: t('builder.fields.background.mask.color'), type: 'color' },\n                            { name: 'backgroundMask', label: t('builder.fields.background.mask.transform'), type: 'transform' },\n                            { name: 'backgroundMaskSize', label: t('builder.fields.background.mask.size.label'), type: 'select', options: patternSizeOptions },\n                            { name: 'backgroundMaskWidth', label: t('builder.fields.background.mask.size.width'), type: 'dimension' },\n                            { name: 'backgroundMaskHeight', label: t('builder.fields.background.mask.size.height'), type: 'dimension' },\n                            { name: 'backgroundMaskPosition', label: t('builder.fields.background.mask.position.label'), type: 'select', options: imagePositionOptions },\n                            { name: 'backgroundMaskAspectRatio', label: t('builder.fields.background.mask.aspectRatio.label'), type: 'select', options: maskAspectRatioOptions },\n                            { name: 'backgroundMaskBlendMode', label: t('builder.fields.background.mask.blend_mode.label'), type: 'select', options: blendModeOptions }\n                        ]}\n                    ])\"\n                />\n            </div>\n            <transition name=\"fade-slide\">\n                <div v-if=\"showMaskInfo && getInfoContent('backgroundMask')\" class=\"field-info-panel mb-4\">\n                    {{ getInfoContent('backgroundMask') }}\n                </div>\n            </transition>\n\n            <!-- Preview Box -->\n            <div \n                class=\"bg-preview-box mb-4\"\n                :class=\"{ 'is-empty': !getResolvedValue('backgroundMask') || getResolvedValue('backgroundMask') === 'none' }\"\n                @mouseenter=\"isMaskHovered = true\"\n                @mouseleave=\"isMaskHovered = false\"\n            >\n                <div \n                    v-if=\"getResolvedValue('backgroundMask') && getResolvedValue('backgroundMask') !== 'none'\" \n                    class=\"relative w-full h-full\"\n                    :style=\"combinedBackgroundStyle\"\n                ></div>\n                \n                <div v-if=\"isMaskHovered && getResolvedValue('backgroundMask') && getResolvedValue('backgroundMask') !== 'none'\" class=\"preview-actions-overlay\">\n                    <div class=\"action-btn-group\">\n                        <div class=\"action-icon-btn remove\" :title=\"t('builder.contextMenu.delete')\" @click.stop=\"updateSetting('backgroundMask', 'none')\">\n                            <Trash2 :size=\"14\" />\n                        </div>\n                    </div>\n                </div>\n                \n                <div v-if=\"(!getResolvedValue('backgroundMask') || getResolvedValue('backgroundMask') === 'none')\" class=\"empty-preview cursor-pointer\" @click=\"initDefaultMask\">\n                    <Plus :size=\"20\" />\n                    <span>{{ t('builder.fields.background.mask.add') }}</span>\n                </div>\n            </div>\n\n            <!-- Mask Selection Dropdown with Previews -->\n            <div class=\"select-field-container\">\n                <BaseDropdown align=\"left\" width=\"100%\">\n                    <template #trigger=\"{ open }\">\n                        <div class=\"select-trigger\" :class=\"{ 'is-open': open }\">\n                            <span class=\"selected-label\">{{ activeMask ? t('builder.fields.background.mask.options.' + activeMask.id) : t('builder.common.none') }}</span>\n                            <ChevronDown :size=\"14\" class=\"select-arrow\" />\n                        </div>\n                    </template>\n\n                    <template #default=\"{ close }\">\n                        <div class=\"p-2 dropdown-preview-container\">\n                            <MaskField \n                                :value=\"getResolvedValue('backgroundMask')\"\n                                @update:value=\"updateSetting('backgroundMask', $event); close()\"\n                            />\n                        </div>\n                    </template>\n                </BaseDropdown>\n            </div>\n\n            <!-- Mask Sub-settings -->\n            <div v-if=\"getResolvedValue('backgroundMask') && getResolvedValue('backgroundMask') !== 'none'\" class=\"mask-sub-settings mt-4 animate-in fade-in duration-300\">\n                <!-- Mask Color -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.mask.color') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.mask.color')\"\n                            show-info\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundMaskColor')\"\n                            @toggle-info=\"showMaskColorInfo = $event\"\n                            @reset=\"updateSetting('backgroundMaskColor', '')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.mask.color'), 'backgroundMaskColor', 'color')\"\n                        />\n                    </div>\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showMaskColorInfo && getInfoContent('backgroundMaskColor')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundMaskColor') }}\n                        </div>\n                    </transition>\n                    <ColorField \n                        :value=\"getResolvedValue('backgroundMaskColor')\"\n                        :placeholder-value=\"'rgba(0,0,0,0.1)'\"\n                        @update:value=\"updateSetting('backgroundMaskColor', $event)\"\n                    />\n                </div>\n\n                <!-- Mask Transform -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.mask.transform') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.mask.transform')\"\n                            show-info\n                            show-responsive\n                            @toggle-info=\"showMaskTransformInfo = $event\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.mask.transform'), 'backgroundMaskFlipH', 'toggle', null, [\n                                { fields: [\n                                    { name: 'backgroundMaskFlipH', label: t('builder.fields.background.mask.flipH'), type: 'toggle' },\n                                    { name: 'backgroundMaskFlipV', label: t('builder.fields.background.mask.flipV'), type: 'toggle' },\n                                    { name: 'backgroundMaskRotate', label: t('builder.fields.background.mask.rotate'), type: 'toggle' },\n                                    { name: 'backgroundMaskInvert', label: t('builder.fields.background.mask.invert'), type: 'toggle' }\n                                ]}\n                            ])\"\n                        />\n                    </div>\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showMaskTransformInfo && getInfoContent('backgroundMaskTransform')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundMaskTransform') }}\n                        </div>\n                    </transition>\n                    <div class=\"flex gap-2\">\n                        <IconButton \n                            :icon=\"FlipHorizontal\"\n                            :title=\"t('builder.fields.background.mask.flipH')\"\n                            :active=\"!!getResolvedValue('backgroundMaskFlipH')\"\n                            @click=\"updateSetting('backgroundMaskFlipH', !getResolvedValue('backgroundMaskFlipH'))\"\n                        />\n                        <IconButton \n                            :icon=\"FlipVertical\"\n                            :title=\"t('builder.fields.background.mask.flipV')\"\n                            :active=\"!!getResolvedValue('backgroundMaskFlipV')\"\n                            @click=\"updateSetting('backgroundMaskFlipV', !getResolvedValue('backgroundMaskFlipV'))\"\n                        />\n                        <IconButton \n                            :icon=\"RefreshCw\"\n                            :title=\"t('builder.fields.background.mask.rotate')\"\n                            :active=\"!!getResolvedValue('backgroundMaskRotate')\"\n                            @click=\"updateSetting('backgroundMaskRotate', !getResolvedValue('backgroundMaskRotate'))\"\n                        />\n                        <IconButton \n                            :icon=\"Contrast\"\n                            :title=\"t('builder.fields.background.mask.invert')\"\n                            :active=\"!!getResolvedValue('backgroundMaskInvert')\"\n                            @click=\"updateSetting('backgroundMaskInvert', !getResolvedValue('backgroundMaskInvert'))\"\n                        />\n                    </div>\n                </div>\n\n                <!-- Mask Size -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.mask.size.label') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.mask.size.label')\"\n                            show-info\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundMaskSize')\"\n                            @toggle-info=\"showMaskSizeInfo = $event\"\n                            @reset=\"updateSetting('backgroundMaskSize', 'stretch')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.mask.size.label'), 'backgroundMaskSize', 'select', patternSizeOptions)\"\n                        />\n                    </div>\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showMaskSizeInfo && getInfoContent('backgroundMaskSize')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundMaskSize') }}\n                        </div>\n                    </transition>\n                    <SelectField \n                        :field=\"{ name: 'backgroundMaskSize', options: patternSizeOptions }\"\n                        :value=\"getResolvedValue('backgroundMaskSize')\"\n                        @update:value=\"updateSetting('backgroundMaskSize', $event)\"\n                        :placeholder-value=\"'stretch'\"\n                    />\n                </div>\n\n                <!-- Custom Size Width/Height -->\n                <div v-if=\"getResolvedValue('backgroundMaskSize') === 'custom'\" class=\"mt-4\">\n                    <div class=\"flex flex-col gap-8 relative\">\n                        <!-- Link Icon -->\n                        <div \n                            class=\"absolute right-0 top-[50%] -translate-y-[50%] z-10 cursor-pointer flex items-center justify-center p-1 rounded transition-colors\"\n                            :class=\"[\n                                (getResolvedValue('backgroundMaskProportional') === true || getResolvedValue('backgroundMaskProportional') === 'true') \n                                    ? 'bg-blue-600 text-white hover:bg-blue-700' \n                                    : 'text-gray-400 hover:text-white hover:bg-white/10'\n                            ]\"\n                            :title=\"t('builder.fields.background.proportional')\"\n                            @click=\"updateSetting('backgroundMaskProportional', !(getResolvedValue('backgroundMaskProportional') === true || getResolvedValue('backgroundMaskProportional') === 'true'))\"\n                        >\n                            <Link v-if=\"getResolvedValue('backgroundMaskProportional') === true || getResolvedValue('backgroundMaskProportional') === 'true'\" :size=\"14\" />\n                            <Unlink v-else :size=\"14\" />\n                        </div>\n\n                        <div>\n                            <div class=\"flex items-center justify-between mb-2\">\n                                <label class=\"builder-label mb-0\">{{ t('builder.fields.background.mask.size.width') }}</label>\n                                <FieldActions \n                                    :label=\"t('builder.fields.background.mask.size.width')\"\n                                    show-info\n                                    show-responsive\n                                    :show-reset=\"hasOverride('backgroundMaskWidth') || !!getResponsiveValue('backgroundMaskWidth')\"\n                                    @toggle-info=\"showMaskWidthInfo = $event\"\n                                    @reset=\"updateSetting('backgroundMaskWidth', '')\"\n                                    @responsive=\"openResponsiveModal(t('builder.fields.background.mask.size.width'), 'backgroundMaskWidth', 'dimension')\"\n                                />\n                            </div>\n                            <transition name=\"fade-slide\">\n                                <div v-if=\"showMaskWidthInfo && getInfoContent('backgroundMaskWidth')\" class=\"field-info-panel mb-4\">\n                                    {{ getInfoContent('backgroundMaskWidth') }}\n                                </div>\n                            </transition>\n                            <DimensionField \n                                :field=\"{}\"\n                                :value=\"getResolvedValue('backgroundMaskWidth')\"\n                                :placeholder-value=\"'auto'\"\n                                @update:value=\"updateSetting('backgroundMaskWidth', $event)\"\n                            />\n                        </div>\n                        <div>\n                            <div class=\"flex items-center justify-between mb-2\">\n                                <label class=\"builder-label mb-0\">{{ t('builder.fields.background.mask.size.height') }}</label>\n                                <FieldActions \n                                    :label=\"t('builder.fields.background.mask.size.height')\"\n                                    show-info\n                                    show-responsive\n                                    :show-reset=\"hasOverride('backgroundMaskHeight') || !!getResponsiveValue('backgroundMaskHeight')\"\n                                    @toggle-info=\"showMaskHeightInfo = $event\"\n                                    @reset=\"updateSetting('backgroundMaskHeight', '')\"\n                                    @responsive=\"openResponsiveModal(t('builder.fields.background.mask.size.height'), 'backgroundMaskHeight', 'dimension')\"\n                                />\n                            </div>\n                            <transition name=\"fade-slide\">\n                                <div v-if=\"showMaskHeightInfo && getInfoContent('backgroundMaskHeight')\" class=\"field-info-panel mb-4\">\n                                    {{ getInfoContent('backgroundMaskHeight') }}\n                                </div>\n                            </transition>\n                            <DimensionField \n                                :field=\"{}\"\n                                :value=\"getResolvedValue('backgroundMaskHeight')\"\n                                :placeholder-value=\"'auto'\"\n                                @update:value=\"updateSetting('backgroundMaskHeight', $event)\"\n                            />\n                        </div>\n                    </div>\n                </div>\n\n                <!-- Mask Position -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.mask.position.label') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.mask.position.label')\"\n                            show-info\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundMaskPosition')\"\n                            @toggle-info=\"showMaskPositionInfo = $event\"\n                            @reset=\"updateSetting('backgroundMaskPosition', 'center')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.mask.position.label'), 'backgroundMaskPosition', 'select', imagePositionOptions)\"\n                        />\n                    </div>\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showMaskPositionInfo && getInfoContent('backgroundMaskPosition')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundMaskPosition') }}\n                        </div>\n                    </transition>\n                    <SelectField \n                        :field=\"{ name: 'backgroundMaskPosition', options: imagePositionOptions }\"\n                        :value=\"getResolvedValue('backgroundMaskPosition')\"\n                        @update:value=\"updateSetting('backgroundMaskPosition', $event)\"\n                        :placeholder-value=\"'center'\"\n                    />\n                </div>\n\n                <!-- Mask Aspect Ratio -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.mask.aspectRatio.label') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.mask.aspectRatio.label')\"\n                            show-info\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundMaskAspectRatio')\"\n                            @toggle-info=\"showMaskAspectRatioInfo = $event\"\n                            @reset=\"updateSetting('backgroundMaskAspectRatio', 'square')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.mask.aspectRatio.label'), 'backgroundMaskAspectRatio', 'select', maskAspectRatioOptions)\"\n                        />\n                    </div>\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showMaskAspectRatioInfo && getInfoContent('backgroundMaskAspectRatio')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundMaskAspectRatio') }}\n                        </div>\n                    </transition>\n                    <div class=\"flex gap-2\">\n                        <IconButton \n                            v-for=\"opt in maskAspectRatioOptions\" \n                            :key=\"opt.value\"\n                            :icon=\"opt.icon\"\n                            :title=\"opt.label\"\n                            :active=\"getResolvedValue('backgroundMaskAspectRatio') === opt.value\"\n                            @click=\"updateSetting('backgroundMaskAspectRatio', opt.value)\"\n                        />\n                    </div>\n                </div>\n\n                <!-- Mask Blend Mode -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between mb-2\">\n                        <label class=\"builder-label mb-0\">{{ t('builder.fields.background.mask.blend_mode.label') }}</label>\n                        <FieldActions \n                            :label=\"t('builder.fields.background.mask.blend_mode.label')\"\n                            show-info\n                            show-responsive\n                            :show-reset=\"hasOverride('backgroundMaskBlendMode')\"\n                            @toggle-info=\"showMaskBlendInfo = $event\"\n                            @reset=\"updateSetting('backgroundMaskBlendMode', 'normal')\"\n                            @responsive=\"openResponsiveModal(t('builder.fields.background.mask.blend_mode.label'), 'backgroundMaskBlendMode', 'select', blendModeOptions)\"\n                        />\n                    </div>\n                    <transition name=\"fade-slide\">\n                        <div v-if=\"showMaskBlendInfo && getInfoContent('backgroundMaskBlendMode')\" class=\"field-info-panel mb-4\">\n                            {{ getInfoContent('backgroundMaskBlendMode') }}\n                        </div>\n                    </transition>\n                    <SelectField \n                        :field=\"{ name: 'backgroundMaskBlendMode', options: blendModeOptions }\"\n                        :value=\"getResolvedValue('backgroundMaskBlendMode')\"\n                        @update:value=\"updateSetting('backgroundMaskBlendMode', $event)\"\n                        :placeholder-value=\"'normal'\"\n                    />\n                </div>\n            </div>\n        </div>\n</div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, computed, watch, inject } from 'vue'\nimport type { BlockInstance, BuilderInstance } from '../../../types/builder'\nimport { useI18n } from 'vue-i18n'\nimport PaintBucket from 'lucide-vue-next/dist/esm/icons/paint-bucket.js';\nimport Image from 'lucide-vue-next/dist/esm/icons/image.js';\nimport Video from 'lucide-vue-next/dist/esm/icons/video.js';\nimport Grid3X3 from 'lucide-vue-next/dist/esm/icons/grid-3x3.js';\nimport Moon from 'lucide-vue-next/dist/esm/icons/moon.js';\nimport Plus from 'lucide-vue-next/dist/esm/icons/plus.js';\nimport Component from 'lucide-vue-next/dist/esm/icons/component.js';\nimport RotateCcw from 'lucide-vue-next/dist/esm/icons/rotate-ccw.js';\nimport Trash2 from 'lucide-vue-next/dist/esm/icons/trash-2.js';\nimport Maximize2 from 'lucide-vue-next/dist/esm/icons/maximize.js';\nimport Settings from 'lucide-vue-next/dist/esm/icons/settings.js';\nimport FlipHorizontal from 'lucide-vue-next/dist/esm/icons/flip-horizontal.js';\nimport FlipVertical from 'lucide-vue-next/dist/esm/icons/flip-vertical.js';\nimport RefreshCw from 'lucide-vue-next/dist/esm/icons/refresh-cw.js';\nimport RotateCw from 'lucide-vue-next/dist/esm/icons/rotate-cw.js';\nimport Lock from 'lucide-vue-next/dist/esm/icons/lock.js';\nimport Link from 'lucide-vue-next/dist/esm/icons/link.js';\nimport Unlink from 'lucide-vue-next/dist/esm/icons/unlink.js';\nimport Square from 'lucide-vue-next/dist/esm/icons/square.js';\nimport RectangleHorizontal from 'lucide-vue-next/dist/esm/icons/rectangle-horizontal.js';\nimport RectangleVertical from 'lucide-vue-next/dist/esm/icons/rectangle-vertical.js';\nimport ChevronDown from 'lucide-vue-next/dist/esm/icons/chevron-down.js';\nimport Check from 'lucide-vue-next/dist/esm/icons/check.js';\nimport Ban from 'lucide-vue-next/dist/esm/icons/ban.js';\nimport Contrast from 'lucide-vue-next/dist/esm/icons/contrast.js';import ColorField from './ColorField.vue'\nimport GradientField from './GradientField.vue'\nimport UploadField from './UploadField.vue'\nimport ToggleField from './ToggleField.vue'\nimport SelectField from './SelectField.vue'\nimport TextField from './TextField.vue'\nimport DimensionField from './DimensionField.vue'\nimport PatternField from './PatternField.vue'\nimport MaskField from './MaskField.vue'\nimport { IconButton } from '../ui'\nimport MediaPicker from '@/components/media/MediaPicker.vue'\nimport ResponsiveFieldModal from '../modals/ResponsiveFieldModal.vue'\nimport FieldActions from './FieldActions.vue'\nimport { BaseDropdown } from '../ui'\nimport { getHarmoniousGradientColors, getBackgroundStyles, generateGradientCSS } from '../../../shared/utils/styleUtils'\nimport { BackgroundPatterns, BackgroundMasks } from '../../../shared/utils/AssetLibrary'\n\nconst props = defineProps<{\n  field: any\n  module: BlockInstance\n  device?: string\n}>()\n\nconst { t } = useI18n()\nconst builder = inject<BuilderInstance>('builder')\n\nconst activeTab = ref('color')\nconst colorFieldRef = ref<any>(null)\nconst isColorHovered = ref(false)\nconst isImageHovered = ref(false)\nconst isVideoHovered = ref(false)\nconst isPatternHovered = ref(false)\nconst isMaskHovered = ref(false)\n\ninterface ResponsiveModalState {\n    show: boolean;\n    label: string;\n    baseKey: string;\n    type: string;\n    options?: any;\n    subFields?: any;\n}\n\nconst responsiveModal = ref<ResponsiveModalState>({\n    show: false,\n    label: '',\n    baseKey: '',\n    type: 'color',\n    options: null,\n    subFields: null\n})\n\nconst showColorInfo = ref(false)\nconst showGradientInfo = ref(false)\nconst showGradientAboveInfo = ref(false)\nconst showImageInfo = ref(false)\nconst showImageSizeInfo = ref(false)\nconst showImageWidthInfo = ref(false)\nconst showImageHeightInfo = ref(false)\nconst showImagePositionInfo = ref(false)\nconst showImageRepeatInfo = ref(false)\nconst showImageAttachmentInfo = ref(false)\nconst showImageBlendInfo = ref(false)\nconst showVideoInfo = ref(false)\nconst showVideoMp4Info = ref(false)\nconst showVideoWebmInfo = ref(false)\nconst showVideoWidthInfo = ref(false)\nconst showVideoHeightInfo = ref(false)\nconst showPatternWidthInfo = ref(false)\nconst showPatternHeightInfo = ref(false)\nconst showVideoPauseOnPlayInfo = ref(false)\nconst showVideoPauseNotInViewInfo = ref(false)\n\nconst showPatternInfo = ref(false)\nconst showPatternColorInfo = ref(false)\nconst showPatternTransformInfo = ref(false)\nconst showPatternSizeInfo = ref(false)\nconst showPatternRepeatOriginInfo = ref(false)\nconst showPatternHorizontalOffsetInfo = ref(false)\nconst showPatternVerticalOffsetInfo = ref(false)\nconst showPatternRepeatInfo = ref(false)\nconst showPatternBlendInfo = ref(false)\n\nconst showMaskInfo = ref(false)\nconst showMaskColorInfo = ref(false)\nconst showMaskTransformInfo = ref(false)\nconst showMaskSizeInfo = ref(false)\nconst showMaskWidthInfo = ref(false)\nconst showMaskHeightInfo = ref(false)\nconst showMaskPositionInfo = ref(false)\nconst showMaskAspectRatioInfo = ref(false)\nconst showMaskBlendInfo = ref(false)\n\nconst showVideoLoopInfo = ref(false)\nconst showVideoMuteInfo = ref(false)\nconst showVideoOverlayInfo = ref(false)\nconst showParallaxInfo = ref(false)\nconst showParallaxMethodInfo = ref(false)\n\nconst getInfoContent = (baseKey: string) => {\n    const moduleType = props.module?.type || 'common'\n    const key = baseKey.includes('.') ? baseKey.split('.').pop() : baseKey\n    \n    // Key paths to try in order\n    const paths = [\n        `builder.info.${moduleType}.${key}`,\n        `builder.info.common.${key}`,\n        `builder.info.${key}`\n    ]\n\n    for (const path of paths) {\n        const text = t(path)\n        if (text && text !== path) {\n            return text\n        }\n    }\n    \n    return null\n}\n\nconst openResponsiveModal = (label: string, baseKey: string, type: string = 'color', options: any = null, subFields: any = null) => {\n    responsiveModal.value = {\n        show: true,\n        label,\n        baseKey,\n        type,\n        options,\n        subFields\n    }\n}\n\n// Computed module settings to ensure reactivity\nconst moduleSettings = computed(() => {\n    // Explicitly track blocks to ensure reactivity\n    if (builder?.blocks) { const _ = builder?.blocks }\n    \n    const currentModule = builder?.findModule(props.module.id)\n    return currentModule?.settings || {}\n})\n\nconst tabs = computed(() => [\n    { id: 'color', label: t('builder.fields.background.tabs.color'), icon: PaintBucket },\n    { id: 'gradient', label: t('builder.fields.background.tabs.gradient'), icon: Component },\n    { id: 'image', label: t('builder.fields.background.tabs.image'), icon: Image },\n    { id: 'video', label: t('builder.fields.background.tabs.video'), icon: Video },\n    { id: 'pattern', label: t('builder.fields.background.tabs.pattern'), icon: Grid3X3 },\n    { id: 'mask', label: t('builder.fields.background.tabs.mask'), icon: Moon },\n])\n\nconst patternSizeOptions = computed(() => [\n    { label: t('builder.fields.background.image.size.options.actual'), value: 'actual' },\n    { label: t('builder.fields.background.image.size.options.cover'), value: 'cover' },\n    { label: t('builder.fields.background.image.size.options.fit'), value: 'fit' },\n    { label: t('builder.fields.background.image.size.options.stretch'), value: 'stretch' },\n    { label: t('builder.fields.background.image.size.options.custom'), value: 'custom' }\n])\n\nconst patternRepeatOptions = computed(() => [\n    { label: t('builder.fields.background.image.repeat.options.repeat'), value: 'repeat' },\n    { label: t('builder.fields.background.image.repeat.options.repeatX'), value: 'repeat-x' },\n    { label: t('builder.fields.background.image.repeat.options.repeatY'), value: 'repeat-y' },\n    { label: t('builder.fields.background.image.repeat.options.space'), value: 'space' },\n    { label: t('builder.fields.background.image.repeat.options.round'), value: 'round' },\n    { label: t('builder.fields.background.image.repeat.options.noRepeat'), value: 'no-repeat' }\n])\n\nconst patternRepeatOriginOptions = computed(() => [\n    { label: t('builder.fields.background.pattern.repeatOrigin.options.topLeft'), value: 'left top' },\n    { label: t('builder.fields.background.pattern.repeatOrigin.options.topCenter'), value: 'center top' },\n    { label: t('builder.fields.background.pattern.repeatOrigin.options.topRight'), value: 'right top' },\n    { label: t('builder.fields.background.pattern.repeatOrigin.options.centerLeft'), value: 'left center' },\n    { label: t('builder.fields.background.pattern.repeatOrigin.options.center'), value: 'center center' },\n    { label: t('builder.fields.background.pattern.repeatOrigin.options.centerRight'), value: 'right center' },\n    { label: t('builder.fields.background.pattern.repeatOrigin.options.bottomLeft'), value: 'left bottom' },\n    { label: t('builder.fields.background.pattern.repeatOrigin.options.bottomCenter'), value: 'center bottom' },\n    { label: t('builder.fields.background.pattern.repeatOrigin.options.bottomRight'), value: 'right bottom' }\n])\n\nconst imagePositionOptions = computed(() => [\n    { label: t('builder.fields.background.image.position.options.topLeft'), value: 'left top' },\n    { label: t('builder.fields.background.image.position.options.topCenter'), value: 'center top' },\n    { label: t('builder.fields.background.image.position.options.topRight'), value: 'right top' },\n    { label: t('builder.fields.background.image.position.options.centerLeft'), value: 'left center' },\n    { label: t('builder.fields.background.image.position.options.center'), value: 'center center' },\n    { label: t('builder.fields.background.image.position.options.centerRight'), value: 'right center' },\n    { label: t('builder.fields.background.image.position.options.bottomLeft'), value: 'left bottom' },\n    { label: t('builder.fields.background.image.position.options.bottomCenter'), value: 'center bottom' },\n    { label: t('builder.fields.background.image.position.options.bottomRight'), value: 'right bottom' }\n])\n\nconst activePattern = computed(() => {\n    const val = getResolvedValue('backgroundPattern')\n    if (!val || val === 'none') return null\n    return BackgroundPatterns.find(p => p.id === val)\n})\n\nconst resolvedPatternSvg = computed(() => {\n    const pattern = activePattern.value\n    if (!pattern) return ''\n    \n    // Ensure boolean conversion - values might be string 'true'/'false' or '0'/'1'\n    const rotateVal = getResolvedValue('backgroundPatternRotate')\n    const invertVal = getResolvedValue('backgroundPatternInvert')\n    const rotate = rotateVal === true || rotateVal === 'true' || rotateVal === 1 || rotateVal === '1'\n    const invert = invertVal === true || invertVal === 'true' || invertVal === 1 || invertVal === '1'\n    \n    let path = ''\n    \n    // Check for Divi 5 nested structure (regular/inverted)\n    if (pattern.svg && typeof pattern.svg === 'object') {\n        const svg = pattern.svg as any\n        if (svg.regular || svg.inverted) {\n            const stateKey = invert ? 'inverted' : 'regular'\n            const rotateKey = rotate ? 'rotated' : 'default'\n            const stateObj = svg[stateKey] || svg.regular\n            path = stateObj?.[rotateKey] || stateObj?.default || ''\n        } else {\n            // Legacy flat structure\n            if (invert && svg.inverted) {\n                path = svg.inverted\n            } else if (rotate && svg.rotated) {\n                path = svg.rotated\n            } else {\n                path = svg.default || svg\n            }\n        }\n    } else {\n        path = (pattern.svg as any) || ''\n    }\n    \n    if (typeof path === 'object') {\n        path = (path as any).landscape || (path as any).square || (path as any).default || ''\n    }\n    \n    return typeof path === 'string' ? path : ''\n})\n\nconst patternOptions = computed(() => {\n    return BackgroundPatterns.map(p => ({ \n        label: t('builder.fields.background.pattern.options.' + p.id), \n        value: p.id \n    }))\n})\n\nconst initDefaultPattern = () => {\n   const first = BackgroundPatterns[0]?.id || 'polka-dots'\n   updateSetting('backgroundPattern', first)\n}\n\nconst initDefaultMask = () => {\n    const first = BackgroundMasks[0]?.id || 'arch'\n    updateSetting('backgroundMask', first)\n}\n\nconst clearPattern = () => {\n    updateSetting('backgroundPattern', 'none')\n}\n\n\n\nconst blendModeOptions = computed(() => [\n    { label: t('builder.settings.options.blend_mode.normal'), value: 'normal' },\n    { label: t('builder.settings.options.blend_mode.multiply'), value: 'multiply' },\n    { label: t('builder.settings.options.blend_mode.screen'), value: 'screen' },\n    { label: t('builder.settings.options.blend_mode.overlay'), value: 'overlay' },\n    { label: t('builder.settings.options.blend_mode.darken'), value: 'darken' },\n    { label: t('builder.settings.options.blend_mode.lighten'), value: 'lighten' },\n    { label: t('builder.settings.options.blend_mode.color-dodge'), value: 'color-dodge' },\n    { label: t('builder.settings.options.blend_mode.color-burn'), value: 'color-burn' },\n    { label: t('builder.settings.options.blend_mode.hard-light'), value: 'hard-light' },\n    { label: t('builder.settings.options.blend_mode.soft-light'), value: 'soft-light' },\n    { label: t('builder.settings.options.blend_mode.difference'), value: 'difference' },\n    { label: t('builder.settings.options.blend_mode.exclusion'), value: 'exclusion' },\n    { label: t('builder.settings.options.blend_mode.hue'), value: 'hue' },\n    { label: t('builder.settings.options.blend_mode.saturation'), value: 'saturation' },\n    { label: t('builder.settings.options.blend_mode.color'), value: 'color' },\n    { label: t('builder.settings.options.blend_mode.luminosity'), value: 'luminosity' }\n])\n\nconst maskAspectRatioOptions = computed(() => [\n    { label: t('builder.fields.background.mask.aspectRatio.options.square'), value: 'square', icon: Square },\n    { label: t('builder.fields.background.mask.aspectRatio.options.landscape'), value: 'landscape', icon: RectangleHorizontal },\n    { label: t('builder.fields.background.mask.aspectRatio.options.portrait'), value: 'portrait', icon: RectangleVertical }\n])\n\nconst resolvedMaskSvg = computed(() => {\n    const mask = activeMask.value\n    if (!mask) return ''\n    \n    // Ensure boolean conversion - values might be string 'true'/'false' or '0'/'1'\n    const rotateVal = getResolvedValue('backgroundMaskRotate')\n    const invertVal = getResolvedValue('backgroundMaskInvert')\n    const rotate = rotateVal === true || rotateVal === 'true' || rotateVal === 1 || rotateVal === '1'\n    const invert = invertVal === true || invertVal === 'true' || invertVal === 1 || invertVal === '1'\n    const aspectRatio = getResolvedValue('backgroundMaskAspectRatio') || 'landscape'\n    \n    let svgStr = ''\n    \n    // Check for Divi 5 nested structure (regular.default/inverted.default)\n    if (mask.svg && typeof mask.svg === 'object' && (mask.svg as any).regular) {\n        const svg = mask.svg as any\n        const stateKey = invert ? 'inverted' : 'regular'\n        const rotateKey = rotate ? 'rotated' : 'default'\n        const stateObj = svg[stateKey] || svg.regular\n        const rotateObj = stateObj?.[rotateKey] || stateObj?.default || stateObj\n        \n        if (typeof rotateObj === 'string') {\n            svgStr = rotateObj\n        } else {\n            svgStr = rotateObj?.[aspectRatio] || rotateObj?.landscape || rotateObj?.square || ''\n        }\n    } else if (mask.svg && typeof mask.svg === 'object') {\n        const svg = mask.svg as any\n        // Structure: svg.default/rotated/inverted with aspect ratios directly inside\n        let stateKey = 'default'\n        if (invert && svg.inverted) {\n            stateKey = 'inverted'\n        } else if (rotate && svg.rotated) {\n            stateKey = 'rotated'\n        }\n        \n        const stateObj = svg[stateKey] || svg.default || svg\n        if (typeof stateObj === 'string') {\n            svgStr = stateObj\n        } else {\n            svgStr = stateObj[aspectRatio] || stateObj.landscape || stateObj.square || ''\n        }\n    }\n    \n    return svgStr\n})\n\nconst activeMask = computed(() => {\n    const val = getResolvedValue('backgroundMask')\n    if (!val || val === 'none') return null\n    return BackgroundMasks.find(m => m.id === val)\n})\n\nconst maskOptions = computed(() => {\n    return [\n        { label: t('builder.common.none'), value: 'none' },\n        ...BackgroundMasks.map(m => ({ label: m.label, value: m.id }))\n    ]\n})\n\n// Add device prop for strict mode rendering\n// (device prop added to main defineProps above)\n\nconst currentDevice = computed(() => {\n    // If explicit device prop is passed (e.g. from ResponsiveFieldModal), use it.\n    if (props.device) return props.device\n    // Otherwise fallback to global builder device\n    return builder?.device.value || 'desktop'\n})\n\nconst getResponsiveValue = (baseKey: string) => {\n    // builder?.device.value is a string (primitive) if accessed via useBuilder's return, \n    // but here we are using the computed wrapper locally.\n    const dev = currentDevice.value\n    const suffix = dev === 'desktop' ? '' : (dev === 'mobile' ? '_mobile' : `_${dev}`)\n    const val = moduleSettings.value[baseKey + suffix]\n    \n    return (val === undefined || val === null) ? '' : val\n}\n\nconst getResolvedValue = (baseKey: string) => {\n    const val = getResponsiveValue(baseKey)\n    if (val === '' && currentDevice.value !== 'desktop') {\n        const placeholder = getResponsivePlaceholder(baseKey)\n        return (placeholder === undefined || placeholder === null) ? '' : placeholder\n    }\n    return val\n}\n\nconst hasOverride = (baseKey: string) => {\n    if (currentDevice.value === 'desktop') return false\n    const suffix = currentDevice.value === 'mobile' ? '_mobile' : (currentDevice.value === 'tablet' ? '_tablet' : '')\n    const val = moduleSettings.value[baseKey + suffix]\n    return val !== undefined && val !== null && val !== ''\n}\n\nconst getMaskOptionPreview = (mask: any) => {\n    if (!mask || !mask.svg) return ''\n    const aspectRatio = getResolvedValue('backgroundMaskAspectRatio') || 'landscape'\n    const svg = mask.svg\n    \n    // Check regular structure first\n    const stateObj = svg.regular || svg.default || svg\n    const rotateObj = stateObj.default || stateObj\n    \n    if (typeof rotateObj === 'string') return rotateObj\n    return rotateObj[aspectRatio] || rotateObj.landscape || rotateObj.square || ''\n}\n\nconst getResponsivePlaceholder = (baseKey: string) => {\n    if (currentDevice.value === 'desktop') return ''\n    const settings = moduleSettings.value\n    const desktopValue = settings[baseKey] || ''\n    const tabletValue = settings[baseKey + '_tablet']\n    \n    // In builder logic, '' means inherited.\n    if (currentDevice.value === 'tablet') return desktopValue\n    \n    // For phone/mobile: if tablet has value, use it. Otherwise use desktop.\n    if (tabletValue !== undefined && tabletValue !== null && tabletValue !== '') return tabletValue\n    return desktopValue\n}\n\nconst getSyncedDimensionData = (key: string, value: any, suffix: string) => {\n    const finalData = { [key + suffix]: value }\n    const syncMap: Record<string, string> = {\n        'backgroundImageWidth': 'backgroundImageHeight',\n        'backgroundImageHeight': 'backgroundImageWidth',\n        'backgroundVideoWidth': 'backgroundVideoHeight',\n        'backgroundVideoHeight': 'backgroundVideoWidth',\n        'backgroundPatternWidth': 'backgroundPatternHeight',\n        'backgroundPatternHeight': 'backgroundPatternWidth',\n        'backgroundMaskWidth': 'backgroundMaskHeight',\n        'backgroundMaskHeight': 'backgroundMaskWidth'\n    }\n\n    // Proportional logic\n    const baseKey = key.replace(/Width|Height/, '')\n    const propKey = baseKey + 'Proportional'\n    const propVal = getResolvedValue(propKey)\n    const isProportional = propVal === true || propVal === 'true' || propVal === 1\n    \n    if (isProportional && syncMap[key]) {\n        const otherKey = syncMap[key]\n        if (value === '' || value === 'auto') {\n            finalData[otherKey + suffix] = value\n            return finalData\n        }\n\n        const newValue = parseFloat(value)\n        if (isNaN(newValue)) return finalData\n\n        let currentW = parseFloat(getResolvedValue(baseKey + 'Width'))\n        let currentH = parseFloat(getResolvedValue(baseKey + 'Height'))\n        \n        // If one is auto/NaN/0, treat it as 1:1 relative to the other\n        if (isNaN(currentW) || currentW <= 0) currentW = !isNaN(currentH) && currentH > 0 ? currentH : newValue\n        if (isNaN(currentH) || currentH <= 0) currentH = !isNaN(currentW) && currentW > 0 ? currentW : newValue\n\n        const unit = typeof value === 'string' ? value.replace(/[0-9.]/g, '') : 'px'\n        let otherValue\n        if (key.includes('Width')) {\n            // Width changed, update Height: H2 = (H1/W1) * W2\n            otherValue = currentW > 0 ? Math.round((currentH / currentW) * newValue) : newValue\n        } else {\n            // Height changed, update Width: W2 = (W1/H1) * H2\n            otherValue = currentH > 0 ? Math.round((currentW / currentH) * newValue) : newValue\n        }\n        \n        finalData[otherKey + suffix] = otherValue + (unit || 'px')\n        \n        return finalData\n    }\n\n    if (syncMap[key] && typeof value === 'string' && value !== 'auto') {\n        const unit = value.replace(/[0-9.]/g, '') || 'px'\n        const otherKey = syncMap[key]\n        const otherValue = getResolvedValue(otherKey)\n        \n        if (otherValue && typeof otherValue === 'string' && otherValue !== 'auto') {\n            const otherNum = parseFloat(otherValue) || 0\n            const newOtherValue = `${otherNum}${unit}`\n            finalData[otherKey + suffix] = newOtherValue\n        }\n    }\n    return finalData\n}\n\nconst colorPreviewStyle = computed(() => {\n    lastUpdate.value\n    const val = getResolvedValue('backgroundColor')\n    return {\n        backgroundColor: val || 'transparent'\n    }\n})\n\nconst gradientPreviewStyle = computed(() => {\n    // Track moduleSettings for reactivity\n    const trigger = lastUpdate.value\n    const gradient = getResolvedValue('backgroundGradient')\n    if (!gradient) return {}\n\n    return {\n        background: generateGradientCSS(gradient)\n    }\n})\n\nconst imagePreviewStyle = computed(() => {\n    // Track moduleSettings for reactivity\n    const trigger = lastUpdate.value\n    const imageUrl = getResolvedValue('backgroundImage')\n    if (!imageUrl) return {}\n\n    const styles: Record<string, any> = {\n        backgroundImage: `url(${imageUrl})`,\n        backgroundRepeat: getResolvedValue('backgroundImageRepeat') || 'no-repeat',\n        backgroundPosition: getResolvedValue('backgroundImagePosition') || 'center'\n    }\n\n    let size = getResolvedValue('backgroundImageSize') || 'cover'\n    if (size === 'custom') {\n        const w = getResolvedValue('backgroundImageWidth') || 'auto'\n        const h = getResolvedValue('backgroundImageHeight') || 'auto'\n        size = `${w} ${h}`\n    } else if (size === 'stretch') {\n        size = '100% 100%'\n    } else if (size === 'fit') {\n        size = 'contain'\n    }\n\n    styles.backgroundSize = size\n\n    return styles\n})\n\nconst videoPreviewStyle = computed(() => {\n    const styles: Record<string, any> = {}\n    const w = getResolvedValue('backgroundVideoWidth')\n    const h = getResolvedValue('backgroundVideoHeight')\n    \n    // For videos, we apply the dimension directly to the element\n    // but we constrain it to the 120px box\n    if (w) styles.width = w\n    if (h) styles.height = h\n    \n    styles.maxWidth = '100%'\n    styles.maxHeight = '100%'\n    \n    if (w || h) {\n        styles.objectFit = 'contain'\n    } else {\n        styles.objectFit = 'cover'\n        styles.width = '100%'\n        styles.height = '100%'\n    }\n    \n    return styles\n})\n\nconst lastUpdate = ref(0)\n\nconst combinedBackgroundStyle = computed(() => {\n    // Explicitly track moduleSettings and lastUpdate for reactivity\n    const settings = moduleSettings.value\n    const trigger = lastUpdate.value\n    \n    // List of all background-related keys to resolve\n    const backgroundKeys = [\n        'backgroundColor', 'backgroundGradient', 'backgroundGradients', 'backgroundGradientShowAboveImage',\n        'backgroundImage', 'backgroundImageSize', 'backgroundImageWidth', 'backgroundImageHeight',\n        'backgroundImageRepeat', 'backgroundImagePosition', 'backgroundImageBlendMode',\n        'backgroundPattern', 'backgroundPatternColor', 'backgroundPatternRotate', 'backgroundPatternInvert',\n        'backgroundPatternFlipH', 'backgroundPatternFlipV', 'backgroundPatternSize',\n        'backgroundPatternWidth', 'backgroundPatternHeight', 'backgroundPatternRepeat',\n        'backgroundPatternRepeatOrigin', 'backgroundPatternBlendMode',\n        'backgroundMask', 'backgroundMaskColor', 'backgroundMaskRotate', 'backgroundMaskInvert',\n        'backgroundMaskFlipH', 'backgroundMaskFlipV', 'backgroundMaskAspectRatio',\n        'backgroundMaskSize', 'backgroundMaskWidth', 'backgroundMaskHeight',\n        'backgroundMaskRepeat', 'backgroundMaskRepeatOrigin', 'backgroundMaskBlendMode'\n    ]\n    \n    const resolvedSettings: Record<string, any> = {}\n    backgroundKeys.forEach(key => {\n        resolvedSettings[key] = getResolvedValue(key)\n    })\n    \n    return getBackgroundStyles(resolvedSettings)\n})\n\nconst updateSetting = (key: string, value: any) => {\n    // If key is already responsive-specific (has suffix), use it directly\n    if (key.includes('_tablet') || key.includes('_mobile')) {\n        const baseKey = key.replace(/(_tablet|_mobile)$/, '')\n        const match = key.match(/(_tablet|_mobile)$/)\n        const suffix = match ? match[0] : ''\n        const syncedData = getSyncedDimensionData(baseKey, value, suffix)\n        builder?.updateModuleSettings(props.module.id, syncedData)\n        lastUpdate.value++\n        return\n    }\n\n    // Otherwise, append suffix based on current device\n    const suffix = currentDevice.value === 'desktop' ? '' : (currentDevice.value === 'mobile' ? '_mobile' : `_${currentDevice.value}`)\n    const syncedData = getSyncedDimensionData(key, value, suffix)\n\n    builder?.updateModuleSettings(props.module.id, syncedData)\n    lastUpdate.value++\n}\n\nconst focusColorInput = () => {\n    if (colorFieldRef.value) {\n        colorFieldRef.value.openPicker()\n    }\n}\n\nconst clearBackgroundColor = () => {\n    updateSetting('backgroundColor', '')\n}\n\nconst resetBackgroundColor = () => {\n    updateSetting('backgroundColor', '')\n}\n\nconst handleResponsiveUpdate = (data: any) => {\n    const finalData = {}\n    const currentSettings = builder?.findModule(props.module.id)?.settings || {}\n    \n    Object.entries(data).forEach(([key, value]) => {\n        lastUpdate.value++\n        if (key.includes('.')) {\n            // key is like \"backgroundGradient_mobile.direction\"\n            // ... (rest of logic unchanged, just need to integrate sync for flat keys)\n            const [parentPath, childKey] = key.split('.')\n            let existingParent = currentSettings[parentPath]\n            if (!existingParent || Object.keys(existingParent).length === 0) {\n                const baseKey = parentPath.replace(/(_tablet|_mobile)$/, '')\n                existingParent = currentSettings[baseKey] || {}\n            }\n            (finalData as any)[parentPath] = { ...existingParent, [childKey]: value }\n        } else {\n            // Flat keys - Check for unit sync\n            const baseKey = key.replace(/(_tablet|_mobile)$/, '')\n            const suffix = key.match(/(_tablet|_mobile)$/)?.[0] || ''\n            const syncedData = getSyncedDimensionData(baseKey, value, suffix)\n            Object.assign(finalData, syncedData)\n        }\n    })\n\n    builder?.updateModuleSettings(props.module.id, finalData)\n}\n\nconst initDefaultGradient = () => {\n    // 1. Check current Background Color first\n    let baseColor = getResponsiveValue('backgroundColor')\n    \n    if (!baseColor) {\n        // 2. Fallback to Global Variables (Primary Color)\n        const colors = builder?.globalVariables?.globalColors.value || []\n        baseColor = colors.find((c: any) => (c as any).name.toLowerCase().includes('primary'))?.value\n    }\n\n    if (!baseColor) {\n        // 3. Fallback to Builder Theme / Sample Modern Blue\n        baseColor = '#2EA3F2' \n    }\n\n    // Generate a harmonious modern gradient pair\n    const [c1, c2] = getHarmoniousGradientColors(baseColor)\n\n    const newGradient = {\n        type: 'linear',\n        direction: '180deg',\n        repeat: false,\n        length: '100%',\n        stops: [\n            { color: c1, position: 0 },\n            { color: c2, position: 100 }\n        ]\n    }\n\n    // Set as the primary gradient (multi-layer support uses backgroundGradients array if needed)\n    updateSetting('backgroundGradient', newGradient)\n}\n\n\n\n\n</script>\n\n<style scoped>\n.background-field {\n    margin-bottom: 24px;\n}\n\n.bg-tabs {\n    display: flex;\n    border-bottom: 1px solid var(--builder-border);\n    margin-bottom: 16px;\n}\n\n.bg-tab-item {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 10px;\n    cursor: pointer;\n    color: var(--builder-text-muted);\n    border-bottom: 2px solid transparent;\n    transition: all 0.2s;\n}\n\n.bg-tab-item:hover {\n    color: var(--builder-text-primary);\n    background-color: var(--builder-bg-secondary);\n}\n\n.bg-tab-item.active {\n    color: var(--builder-accent);\n    border-bottom-color: var(--builder-accent);\n}\n\n.field-info-panel {\n    background-color: var(--builder-bg-secondary);\n    border-left: 3px solid var(--builder-accent);\n    padding: 10px 14px;\n    margin-bottom: 12px;\n    font-size: 11px;\n    line-height: 1.6;\n    color: var(--builder-text-secondary);\n    border-radius: 0 4px 4px 0;\n}\n\n.fade-slide-enter-active,\n.fade-slide-leave-active {\n  transition: all 0.2s ease;\n}\n\n.fade-slide-enter-from,\n.fade-slide-leave-to {\n  opacity: 0;\n  transform: translateY(-5px);\n}\n\n.bg-header {\n    font-size: 13px;\n    font-weight: 500;\n    color: var(--builder-accent);\n    margin-bottom: 12px;\n}\n\n.bg-section {\n    animation: fadeIn 0.2s ease;\n}\n\n.color-preview-box {\n    cursor: crosshair;\n}\n\n.bg-preview-box {\n    position: relative;\n    width: 100%;\n    min-height: 120px;\n    background: var(--builder-bg-primary);\n    border: 1px solid var(--builder-border);\n    border-radius: 4px;\n    overflow: hidden;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all 0.2s;\n    margin-bottom: 8px;\n}\n\n.image-preview-box {\n    background-color: var(--builder-bg-primary);\n}\n\n.color-preview {\n    width: 100%;\n    height: 100%;\n    position: relative;\n    box-shadow: inset 0 0 10px rgba(0,0,0,0.1);\n}\n\n.image-preview {\n    width: 100%;\n    height: 100%;\n    position: relative;\n    background-size: cover;\n    background-position: center;\n}\n\n/* Action buttons overlay */\n.preview-actions {\n    position: absolute;\n    top: 8px;\n    right: 8px;\n    display: flex;\n    gap: 4px;\n    z-index: 10;\n}\n\n.placeholder-box {\n    border: 2px dashed var(--builder-border);\n    border-radius: 6px;\n    padding: 32px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    color: var(--builder-text-muted);\n    font-size: 12px;\n}\n\n.placeholder-notice {\n    font-size: 12px;\n    color: var(--builder-text-muted);\n    font-style: italic;\n    padding: 12px;\n    border: 1px solid var(--builder-border);\n    border-radius: 4px;\n}\n\n.mt-4 { margin-top: 16px; }\n.space-y-4 > * + * { margin-top: 16px; }\n.mb-2 { margin-bottom: 8px; }\n.mb-4 { margin-bottom: 16px; }\n\n.field-info-text {\n    font-size: 12px;\n    color: var(--builder-text-secondary);\n    line-height: 1.5;\n    padding: 0 2px;\n}\n\n@keyframes fadeIn {\n    from { opacity: 0; transform: translateY(2px); }\n    to { opacity: 1; transform: translateY(0); }\n}\n\n.select-field-container {\n    width: 100%;\n}\n\n.select-field-container:deep(.base-dropdown-wrapper) {\n    display: block;\n    width: 100%;\n}\n\n.select-trigger {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    height: 38px;\n    padding: 0 12px;\n    background-color: var(--builder-bg-primary);\n    border: 1px solid var(--builder-border);\n    border-radius: 6px;\n    cursor: pointer;\n    transition: all 0.2s;\n    font-size: 13px;\n    color: var(--builder-text-primary);\n}\n\n.select-trigger:hover, .select-trigger.is-open {\n    border-color: var(--builder-accent, #2563eb);\n    background-color: var(--builder-bg-secondary);\n}\n\n.select-arrow {\n    color: var(--builder-text-muted);\n    transition: transform 0.2s;\n}\n\n.is-open .select-arrow {\n    transform: rotate(180deg);\n}\n\n.selected-mask-preview {\n    width: 24px;\n    height: 24px;\n    background: var(--builder-bg-primary);\n    border-radius: 2px;\n    overflow: hidden;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-shrink: 0;\n}\n\n.bg-preview-box:hover {\n    border-color: var(--builder-accent);\n}\n\n.bg-preview-box.is-empty {\n    border-style: dashed;\n}\n\n.preview-bg-image {\n    width: 100%;\n    height: 100%;\n    background-size: cover;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.preview-bg-video {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n}\n\n.empty-preview {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 8px;\n    color: var(--builder-text-muted);\n    font-size: 11px;\n}\n\n\n.inherited-badge {\n    position: absolute;\n    bottom: 8px;\n    left: 8px;\n    background: rgba(0, 0, 0, 0.6);\n    color: white;\n    padding: 2px 6px;\n    border-radius: 4px;\n    font-size: 10px;\n    text-transform: uppercase;\n    letter-spacing: 0.05em;\n    pointer-events: none;\n    z-index: 5;\n}\n\n</style>\n\n<!-- Non-scoped styles for teleported dropdown content -->\n<style>\n.dropdown-preview-container {\n    background: var(--builder-bg-background);\n    width: 220px;\n    padding: 2px !important;\n    box-sizing: border-box;\n    overflow-x: hidden;\n}\n\n/* Ensure Pattern and Mask grid styles reach into teleported Popover */\n.dropdown-preview-container .pattern-field,\n.dropdown-preview-container .mask-field {\n    padding: 0 !important;\n    width: 100% !important;\n}\n\n.dropdown-preview-container .patterns-grid,\n.dropdown-preview-container .masks-grid {\n    display: grid !important;\n    grid-template-columns: repeat(4, 1fr) !important;\n    gap: 2px !important;\n    width: 100% !important;\n    padding: 0 !important;\n    margin: 0 !important;\n    box-sizing: border-box !important;\n}\n\n.dropdown-preview-container .pattern-item,\n.dropdown-preview-container .mask-item {\n    aspect-ratio: 1 / 1 !important;\n    width: 100% !important;\n    height: auto !important;\n    padding: 0 !important;\n    border-radius: 4px !important;\n    box-sizing: border-box !important;\n    overflow: hidden;\n    border: 1px solid var(--builder-border) !important;\n}\n\n.dropdown-preview-container .pattern-preview,\n.dropdown-preview-container .mask-preview {\n    width: 100% !important;\n    height: 100% !important;\n    padding: 2px !important;\n    display: flex !important;\n    align-items: center !important;\n    justify-content: center !important;\n    box-sizing: border-box !important;\n}\n\n.dropdown-preview-container .pattern-svg,\n.dropdown-preview-container .mask-svg,\n.dropdown-preview-container svg {\n    width: 100% !important;\n    height: 100% !important;\n    object-fit: contain !important;\n    display: block;\n}\n</style>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/components/builder/layout/panels/PreferencesPanel.vue","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ref' is defined but never used.","line":80,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":80,"endColumn":13,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ref"},"fix":{"range":[2468,2472],"text":""},"desc":"Remove unused variable \"ref\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n  <div class=\"preferences-panel\">\n    <!-- Interface Settings -->\n    <div class=\"pref-section\">\n      <h4 class=\"section-title\">{{ t('builder.panels.preferences.interface') }}</h4>\n      \n      <!-- Language Switcher -->\n      <div class=\"pref-item\">\n        <span class=\"pref-label\">{{ t('builder.toolbar.switchLanguage') }}</span>\n        <BaseDropdown align=\"right\" width=\"auto\">\n          <template #trigger>\n            <button class=\"pref-value-btn\">\n              {{ currentLocaleName }}\n              <ChevronDown :size=\"14\" />\n            </button>\n          </template>\n          \n          <template #default=\"{ close }\">\n            <button \n              v-for=\"loc in availableLocales\" \n              :key=\"loc.code\"\n              class=\"dropdown-item\"\n              :class=\"{ 'active': currentLocale === loc.code }\"\n              @click=\"changeLanguage(loc.code); close()\"\n            >\n              {{ loc.name }}\n            </button>\n          </template>\n        </BaseDropdown>\n      </div>\n\n      <div class=\"pref-item\">\n        <span class=\"pref-label\">{{ t('builder.panels.preferences.darkMode') }}</span>\n        <BaseToggle \n          v-model=\"darkMode\" \n        />\n      </div>\n    </div>\n\n    <!-- Editor Settings -->\n    <div class=\"pref-section\">\n      <h4 class=\"section-title\">{{ t('builder.panels.preferences.editor') }}</h4>\n      \n      <div class=\"pref-item\">\n        <span class=\"pref-label\">{{ t('builder.panels.preferences.showGrid') }}</span>\n        <BaseToggle \n          v-model=\"showGrid\" \n        />\n      </div>\n\n      <div class=\"pref-item\">\n        <span class=\"pref-label\">{{ t('builder.panels.preferences.snapToObjects') }}</span>\n        <BaseToggle \n          v-model=\"snapToObjects\" \n        />\n      </div>\n    </div>\n\n    <!-- System Settings -->\n    <div class=\"pref-section\">\n      <h4 class=\"section-title\">{{ t('builder.panels.preferences.system') }}</h4>\n      \n      <div class=\"pref-item\">\n        <span class=\"pref-label\">{{ t('builder.panels.preferences.autoSave') }}</span>\n        <BaseToggle \n          v-model=\"autoSave\" \n        />\n      </div>\n    </div>\n\n    <!-- About -->\n    <div class=\"pref-footer\">\n      <span class=\"version-text\">{{ t('builder.panels.preferences.version', { version: '1.0.0' }) }}</span>\n      <span class=\"build-text\">{{ t('builder.panels.preferences.build', { date: '2026.01.11' }) }}</span>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, inject, computed } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { BaseToggle, BaseDropdown } from '../../ui';\nimport ChevronDown from 'lucide-vue-next/dist/esm/icons/chevron-down.js';\nimport { useLanguage } from '../../../../composables/useLanguage';\nimport { useCmsStore } from '@/stores/cms';\nimport type { BuilderInstance } from '../../../../types/builder';\n\nconst { t } = useI18n();\nconst cmsStore = useCmsStore();\nconst darkMode = computed({\n  get: () => cmsStore.isDarkMode,\n  set: (val: boolean) => cmsStore.toggleDarkMode(val)\n});\nconst builder = inject<BuilderInstance>('builder');\n\n// Use builder preferences (persisted to localStorage)\nconst showGrid = computed({\n    get: () => builder?.showGrid?.value ?? false,\n    set: (val: boolean) => { if (builder?.showGrid) builder.showGrid.value = val; }\n});\nconst snapToObjects = computed({\n    get: () => builder?.snapToObjects?.value ?? true,\n    set: (val: boolean) => { if (builder?.snapToObjects) builder.snapToObjects.value = val; }\n});\nconst autoSave = computed({\n    get: () => builder?.autoSave?.value ?? true,\n    set: (val: boolean) => { if (builder?.autoSave) builder.autoSave.value = val; }\n});\n\n// Language Logic via useLanguage composable for global sync\nconst { \n    languages: availableLocales, \n    currentLanguageCode: currentLocale, \n    setLanguage: changeLanguage \n} = useLanguage();\n\nconst currentLocaleName = computed(() => {\n    return availableLocales.value.find(l => l.code === currentLocale.value)?.name || currentLocale.value;\n});\n</script>\n\n<style scoped>\n.preferences-panel {\n  padding: var(--spacing-md);\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xl);\n}\n\n.section-title {\n  font-size: var(--font-size-xs);\n  letter-spacing: 0.5px;\n  color: var(--builder-text-muted);\n  margin: 0 0 var(--spacing-sm) 0;\n  font-weight: 600;\n  text-transform: uppercase;\n}\n\n.pref-section {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-sm);\n}\n\n.pref-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 12px;\n  background: var(--builder-bg-primary);\n  border: 1px solid var(--builder-border);\n  border-radius: var(--border-radius-sm);\n}\n\n.pref-label {\n  font-size: var(--font-size-sm);\n  color: var(--builder-text-primary);\n}\n\n.pref-value-btn {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  background: transparent;\n  border: none;\n  color: var(--builder-text-secondary);\n  font-size: var(--font-size-sm);\n  cursor: pointer;\n  padding: 0;\n}\n\n.pref-value-btn:hover {\n  color: var(--builder-text-primary);\n}\n\n.dropdown-item {\n  padding: 6px 12px;\n  background: none;\n  border: none;\n  width: 100%;\n  text-align: left;\n  color: var(--builder-text-secondary);\n  cursor: pointer;\n  border-radius: 4px;\n}\n\n.dropdown-item:hover {\n  background: var(--builder-bg-tertiary);\n  color: var(--builder-text-primary);\n}\n\n.dropdown-item.active {\n  background: var(--builder-accent);\n  color: white;\n}\n\n.pref-footer {\n  margin-top: auto;\n  padding-top: var(--spacing-lg);\n  border-top: 1px solid var(--builder-border);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4px;\n}\n\n.version-text, .build-text {\n  font-size: 10px;\n  color: var(--builder-text-muted);\n}\n</style>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/components/editor/TiptapEditor.vue","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'nextTick' is defined but never used.","line":77,"column":49,"nodeType":"Identifier","messageId":"unusedVar","endLine":77,"endColumn":57,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"nextTick"},"fix":{"range":[2853,2863],"text":""},"desc":"Remove unused variable \"nextTick\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Copy' is defined but never used.","line":128,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":128,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Copy"},"fix":{"range":[5589,5647],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"vue/no-required-prop-with-default","severity":1,"message":"Prop \"modelValue\" should be optional.","line":136,"column":5,"nodeType":"TSPropertySignature","messageId":"requireOptional","endLine":136,"endColumn":24,"suggestions":[{"messageId":"fixRequiredProp","fix":{"range":[6005,6005],"text":"?"},"desc":"Change this prop to be optional."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":156,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":156,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6475,6478],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6475,6478],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":162,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":162,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6623,6626],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6623,6626],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'node' is defined but never used. Allowed unused args must match /^_/u.","line":197,"column":29,"nodeType":"Identifier","messageId":"unusedVar","endLine":197,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'view' is defined but never used. Allowed unused args must match /^_/u.","line":238,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":238,"endColumn":28},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'event' is defined but never used. Allowed unused args must match /^_/u.","line":238,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":238,"endColumn":35},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":264,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":264,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9330,9333],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9330,9333],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":299,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":299,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10341,10344],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10341,10344],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n    <div class=\"relative flex flex-col bg-card border border-border rounded-xl shadow-sm overflow-hidden\" @contextmenu=\"handleContextMenu\">\n        <!-- Toolbar Component (Sticky) -->\n        <div class=\"sticky top-0 z-50 bg-card/80 backdrop-blur-sm border-b border-border/50\">\n            <Toolbar \n                v-if=\"editor\" \n                :editor=\"editor\" \n                :show-html-view=\"showHtmlView\"\n                @insert-table=\"showTableDialog = true\"\n                @open-media=\"showMediaPicker = true\"\n                @insert-html=\"insertHtmlEmbed\"\n                @toggle-html=\"toggleHtmlView\"\n                @insert-icon=\"insertIcon\"\n            />\n        </div>\n\n        <!-- Scrollable Content Area -->\n        <div class=\"flex-1 overflow-y-auto max-h-[calc(100vh-16rem)] min-h-[500px]\">\n            <!-- Editor Content (WYSIWYG View) -->\n            <editor-content \n                v-show=\"!showHtmlView\"\n                :editor=\"editor\" \n                class=\"prose prose-sm sm:prose-base dark:prose-invert max-w-none focus:outline-none p-8 text-card-foreground\" \n            />\n\n            <!-- HTML Source View -->\n            <div v-show=\"showHtmlView\" class=\"html-view\">\n                <textarea\n                    v-model=\"htmlContent\"\n                    class=\"w-full min-h-[500px] p-8 font-mono text-sm bg-card text-card-foreground border-none resize-y focus:outline-none focus:ring-0\"\n                    placeholder=\"<p>Your HTML code here...</p>\"\n                    @blur=\"applyHtmlChanges\"\n                ></textarea>\n            </div>\n        </div>\n        \n        <!-- Standard Bubble Menu -->\n        <BubbleMenu :editor=\"editor\" />\n\n        <!-- Media Specific Bubble Menu -->\n        <MediaBubbleMenu :editor=\"editor\" @open-properties=\"openProperties\" />\n\n        <!-- Media Properties Popover -->\n        <PropertiesPopover \n            v-model:open=\"showPropertiesModal\"\n            :node=\"selectedNodeForProperties\"\n            :anchor=\"(propertiesAnchor as any)\"\n            @save=\"saveMediaProperties\"\n        />\n\n        <!-- Context Menu -->\n        <ContextMenu \n            :show=\"contextMenu.show\"\n            :position=\"contextMenu.position\"\n            :items=\"contextMenu.items\"\n            @close=\"contextMenu.show = false\"\n            @action=\"handleContextMenuAction\"\n        />\n\n        <!-- Media Picker Modal -->\n        <MediaPicker\n            v-model:open=\"showMediaPicker\"\n            @selected=\"handleMediaSelect\"\n        >\n            <template #trigger><div class=\"hidden\"></div></template>\n        </MediaPicker>\n\n        <!-- Table Insert Dialog -->\n        <TableInsertDialog \n            v-model:open=\"showTableDialog\"\n            @insert=\"insertTable\"\n        />\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch, onBeforeUnmount, reactive, nextTick } from 'vue';\nimport { useEditor, EditorContent } from '@tiptap/vue-3';\nimport { useI18n } from 'vue-i18n';\nimport StarterKit from '@tiptap/starter-kit';\nimport Placeholder from '@tiptap/extension-placeholder';\nimport BubbleMenuExtension from '@tiptap/extension-bubble-menu';\nimport Typography from '@tiptap/extension-typography';\nimport TextAlign from '@tiptap/extension-text-align';\nimport { TextStyle } from '@tiptap/extension-text-style';\nimport { FontFamily } from '@tiptap/extension-font-family';\nimport { Color } from '@tiptap/extension-color';\nimport Highlight from '@tiptap/extension-highlight';\nimport { Table } from '@tiptap/extension-table';\nimport { TableRow } from '@tiptap/extension-table-row';\nimport { TableCell } from '@tiptap/extension-table-cell';\nimport { TableHeader } from '@tiptap/extension-table-header';\n\n// Modular Components\nimport Toolbar from '@/components/editor/Toolbar.vue';\nimport BubbleMenu from '@/components/editor/BubbleMenu.vue';\nimport MediaBubbleMenu from '@/components/editor/MediaBubbleMenu.vue';\nimport ContextMenu from '@/components/editor/ContextMenu.vue';\nimport PropertiesPopover from '@/components/editor/PropertiesPopover.vue';\nimport TableInsertDialog from '@/components/editor/TableInsertDialog.vue';\nimport MediaPicker from '@/components/media/MediaPicker.vue';\n\n// Custom Extensions\nimport { CustomImage } from '@/components/editor/extensions/CustomImage';\nimport { VideoExtension } from '@/components/editor/extensions/Video';\nimport { Dropcap } from '@/components/editor/extensions/Dropcap';\nimport { Columns } from '@/components/editor/extensions/Columns';\nimport { Column } from '@/components/editor/extensions/Column';\nimport { TextColumns } from '@/components/editor/extensions/TextColumns';\nimport { CodeBlockWithCopyExtension } from '@/components/editor/extensions/CodeBlockExtension';\nimport { HtmlEmbed } from '@/components/editor/extensions/HtmlEmbedExtension';\nimport { Icon } from '@/components/editor/extensions/IconExtension';\n\nimport { createLowlight } from 'lowlight';\nimport javascript from 'highlight.js/lib/languages/javascript';\nimport typescript from 'highlight.js/lib/languages/typescript';\nimport html from 'highlight.js/lib/languages/xml';\nimport css from 'highlight.js/lib/languages/css';\nimport php from 'highlight.js/lib/languages/php';\nimport python from 'highlight.js/lib/languages/python';\nimport json from 'highlight.js/lib/languages/json';\nimport bash from 'highlight.js/lib/languages/bash';\nimport sql from 'highlight.js/lib/languages/sql';\nimport markdown from 'highlight.js/lib/languages/markdown';\n\nimport SettingsIcon from 'lucide-vue-next/dist/esm/icons/settings.js';\nimport Trash2 from 'lucide-vue-next/dist/esm/icons/trash-2.js';\nimport Copy from 'lucide-vue-next/dist/esm/icons/copy.js';\nimport Bold from 'lucide-vue-next/dist/esm/icons/bold.js';\nimport Italic from 'lucide-vue-next/dist/esm/icons/italic.js';\nimport Undo from 'lucide-vue-next/dist/esm/icons/undo.js';\nimport Redo from 'lucide-vue-next/dist/esm/icons/redo.js';\nimport RemoveFormatting from 'lucide-vue-next/dist/esm/icons/remove-formatting.js';\n\ninterface Props {\n    modelValue: string;\n    placeholder?: string;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n    modelValue: '',\n    placeholder: 'Start writing...'\n})\n\nconst emit = defineEmits<{\n    (e: 'update:modelValue', value: string): void;\n}>()\n\nconst showMediaPicker = ref(false)\nconst showTableDialog = ref(false)\nconst showHtmlView = ref(false)\nconst htmlContent = ref('')\n\n// Properties Popover State\nconst showPropertiesModal = ref(false)\nconst selectedNodeForProperties = ref<any>(null)\nconst propertiesAnchor = ref<HTMLElement | null>(null)\n\n// Context Menu State\ninterface ContextMenuItem {\n    label?: string;\n    icon?: any;\n    action?: string;\n    type?: string;\n}\n\nconst contextMenu = reactive({\n    show: false,\n    x: 0,\n    y: 0,\n    items: [] as ContextMenuItem[],\n    position: { x: 0, y: 0 }\n})\n\n// Create lowlight instance\nconst { t } = useI18n()\nconst lowlight = createLowlight()\nlowlight.register('javascript', javascript)\nlowlight.register('typescript', typescript)\nlowlight.register('html', html)\nlowlight.register('css', css)\nlowlight.register('php', php)\nlowlight.register('python', python)\nlowlight.register('json', json)\nlowlight.register('bash', bash)\nlowlight.register('sql', sql)\nlowlight.register('markdown', markdown)\n\nconst editor = useEditor({\n    content: props.modelValue,\n    extensions: [\n        StarterKit.configure({\n            codeBlock: false,\n            paragraph: false,\n        }),\n        Placeholder.configure({\n            placeholder: ({ node }) => {\n                if (props.placeholder === 'Start writing...') {\n                    return t('features.editor.placeholder.text')\n                }\n                return props.placeholder\n            },\n        }),\n        CustomImage,\n        VideoExtension,\n        Dropcap,\n        Columns,\n        Column,\n        TextColumns,\n        Typography,\n        BubbleMenuExtension,\n        TextAlign.configure({\n            types: ['heading', 'paragraph', 'image', 'video'],\n        }),\n        TextStyle,\n        FontFamily,\n        Color,\n        Highlight.configure({\n            multicolor: true,\n        }),\n        Table.configure({\n            resizable: true,\n        }),\n        TableRow,\n        TableHeader,\n        TableCell,\n        CodeBlockWithCopyExtension.configure({\n            lowlight,\n        }),\n        HtmlEmbed,\n        Icon,\n    ],\n    editorProps: {\n        attributes: {\n            class: 'focus:outline-none min-h-[400px]',\n        },\n        handleDOMEvents: {\n            dblclick: (view, event) => {\n                // Check if we clicked on a media node\n                if (editor.value && (editor.value.isActive('image') || editor.value.isActive('video') || editor.value.isActive('htmlEmbed') || editor.value.isActive('icon'))) {\n                    openProperties()\n                    return true\n                }\n                return false\n            }\n        }\n    },\n    onUpdate: () => {\n        if (editor.value) {\n            emit('update:modelValue', editor.value.getHTML())\n        }\n    },\n})\n\n// Sync content\nwatch(() => props.modelValue, (newValue) => {\n    const isSame = editor.value?.getHTML() === newValue\n    if (editor.value && !isSame) {\n        editor.value.commands.setContent(newValue, { emitUpdate: false })\n    }\n})\n\n// Media Handlers\nfunction handleMediaSelect(media: any) {\n    const url = media?.url || media?.path || media?.file_url\n    if (url && editor.value) {\n        editor.value.chain().focus().setImage({ \n            src: url, \n            alt: media?.alt || media?.name || '' \n        }).run()\n    }\n    showMediaPicker.value = false\n}\n\nfunction openProperties() {\n    if (!editor.value) return;\n    \n    let type = 'image'\n    if (editor.value.isActive('video')) type = 'video'\n    else if (editor.value.isActive('htmlEmbed')) type = 'htmlEmbed'\n    else if (editor.value.isActive('icon')) type = 'icon'\n\n    // Get current selection position\n    const { from } = editor.value.state.selection\n\n    selectedNodeForProperties.value = {\n        type,\n        pos: from,\n        attrs: editor.value.getAttributes(type)\n    }\n    \n    // Get DOM element for anchoring\n    const dom = editor.value.view.nodeDOM(from)\n    propertiesAnchor.value = dom instanceof HTMLElement ? dom : null\n    \n    showPropertiesModal.value = true\n}\n\nfunction saveMediaProperties(properties: any) {\n    if (!editor.value || !selectedNodeForProperties.value) return;\n    \n    const { pos } = selectedNodeForProperties.value\n    // Use setNodeMarkup to update specific node by position, keeping focus in popover\n    editor.value.chain().command(({ tr }) => {\n        tr.setNodeMarkup(pos, undefined, properties)\n        return true\n    }).run()\n}\n\n// Table Handlers\nfunction insertTable(config: { rows: number, cols: number }) {\n    if (editor.value) {\n        editor.value.chain().focus().insertTable({ \n            rows: config.rows, \n            cols: config.cols, \n            withHeaderRow: true \n        }).run()\n    }\n}\n\n// HTML View Handlers\nfunction toggleHtmlView() {\n    if (!editor.value) return;\n    \n    if (!showHtmlView.value) {\n        htmlContent.value = editor.value.getHTML()\n    } else {\n        applyHtmlChanges()\n    }\n    showHtmlView.value = !showHtmlView.value\n}\n\nfunction applyHtmlChanges() {\n    if (editor.value && htmlContent.value !== editor.value.getHTML()) {\n        editor.value.commands.setContent(htmlContent.value, { emitUpdate: false })\n        emit('update:modelValue', htmlContent.value)\n    }\n}\n\nfunction insertHtmlEmbed() {\n    if (editor.value) {\n        editor.value.chain().focus().insertHtmlEmbed('').run()\n    }\n}\n\nfunction insertIcon(iconName: string) {\n    if (iconName && editor.value) {\n        editor.value.chain().focus().insertContent({\n            type: 'icon',\n            attrs: {\n                name: iconName\n            }\n        }).insertContent(' ').run() // Add space after icon for better UX\n    }\n}\n\n// Context Menu Logic\nconst handleContextMenu = (e: MouseEvent) => {\n    if (!editor.value) return \n    \n    // Allow default browser context menu inside the text area in HTML view\n    if (showHtmlView.value) return\n\n    e.preventDefault()\n\n    const items: ContextMenuItem[] = []\n\n    // Contextual actions based on selection\n    if (editor.value.isActive('image') || editor.value.isActive('video') || editor.value.isActive('htmlEmbed') || editor.value.isActive('icon')) {\n        items.push({ label: 'Properties', icon: SettingsIcon, action: 'properties' })\n        items.push({ label: 'Delete', icon: Trash2, action: 'delete' })\n    } else if (editor.value.isActive('table')) {\n        items.push({ label: 'Delete Table', icon: Trash2, action: 'deleteTable' })\n    } else {\n         // General actions\n         items.push({ label: 'Bold', icon: Bold, action: 'bold' })\n         items.push({ label: 'Italic', icon: Italic, action: 'italic' })\n         items.push({ label: 'Clean Formatting', icon: RemoveFormatting, action: 'clearFormatting' })\n         items.push({ type: 'separator' })\n         items.push({ label: 'Undo', icon: Undo, action: 'undo' })\n         items.push({ label: 'Redo', icon: Redo, action: 'redo' })\n    }\n\n    if (items.length === 0) return\n\n    contextMenu.position = { x: e.clientX, y: e.clientY }\n    // @ts-expect-error: Internal type mismatch\n    contextMenu.items = items\n    contextMenu.show = true\n}\n\nconst handleContextMenuAction = (action: string) => {\n    contextMenu.show = false\n    \n    if (!editor.value) return;\n\n    switch (action) {\n        case 'properties':\n            openProperties()\n            break\n        case 'delete':\n            editor.value.chain().focus().deleteSelection().run()\n            break\n        case 'deleteTable':\n            editor.value.chain().focus().deleteTable().run()\n            break\n        case 'clearFormatting':\n            editor.value.chain().focus().unsetAllMarks().clearNodes().run()\n            break\n        case 'bold':\n            editor.value.chain().focus().toggleBold().run()\n            break\n        case 'italic':\n            editor.value.chain().focus().toggleItalic().run()\n            break\n        case 'undo':\n            editor.value.chain().focus().undo().run()\n            break\n        case 'redo':\n            editor.value.chain().focus().redo().run()\n            break\n    }\n}\n\nonBeforeUnmount(() => {\n    editor.value?.destroy()\n})\n</script>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/components/editor/nodes/HtmlEmbedComponent.vue","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/components/media/MediaPropertiesPanel.vue","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Media' is defined but never used.","line":212,"column":15,"nodeType":"Identifier","messageId":"unusedVar","endLine":212,"endColumn":20,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Media"},"fix":{"range":[11080,11121],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'loading' is assigned a value but never used.","line":226,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":226,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Separator' is assigned a value but never used.","line":250,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":250,"endColumn":16},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":286,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":286,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12972,12975],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12972,12975],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":318,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":318,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n    <div \n        class=\"border-l border-border/40 bg-background/95 lg:bg-transparent flex flex-col transition-[width] duration-300 overflow-hidden h-full fixed right-0 top-0 bottom-0 z-50 lg:static lg:z-auto shadow-xl lg:shadow-none will-change-[width]\"\n        :class=\"[isVisible ? 'w-80 sm:w-96 backdrop-blur-md lg:backdrop-blur-none' : 'w-0 border-l-0']\"\n    >\n        <div v-if=\"isVisible\" class=\"flex flex-col h-full w-80 sm:w-96\">\n            <!-- Header -->\n            <div class=\"p-3 border-b border-border/40 flex items-center justify-between bg-transparent shrink-0\">\n                <h3 class=\"font-semibold text-xs uppercase tracking-widest text-muted-foreground/80\">{{ $t('features.media.modals.edit.title') }}</h3>\n                <Button variant=\"ghost\" size=\"icon\" @click=\"closePanel\" class=\"h-7 w-7\">\n                    <X class=\"w-3.5 h-3.5\" />\n                </Button>\n            </div>\n\n            <!-- Content -->\n            <div v-if=\"activeMedia\" class=\"flex-1 overflow-y-auto p-4 space-y-4\">\n                <!-- Preview Section -->\n                <div class=\"relative h-40 rounded-xl bg-muted/30 border border-border/40 overflow-hidden flex items-center justify-center group shrink-0\">\n                    <img \n                        v-if=\"activeMedia.mime_type?.startsWith('image/')\" \n                        :src=\"activeMedia.url\" \n                        :alt=\"activeMedia.alt || activeMedia.name\" \n                        class=\"max-w-full max-h-full object-contain p-2\" \n                    />\n                    <div v-else class=\"flex flex-col items-center gap-2 text-muted-foreground\">\n                         <VideoIcon v-if=\"activeMedia.mime_type?.startsWith('video/')\" class=\"w-12 h-12 stroke-1\" />\n                        <FileIcon v-else class=\"w-12 h-12 stroke-1\" />\n                        <span class=\"text-xs font-medium uppercase tracking-tighter\">{{ activeMedia.mime_type }}</span>\n                    </div>\n                </div>\n\n                <!-- Info Grid -->\n                <div class=\"grid grid-cols-2 gap-3 p-3 bg-muted/30 rounded-lg border border-border/20 text-xs\">\n                     <div>\n                        <span class=\"text-muted-foreground block mb-0.5\">{{ $t('features.media.modals.edit.size') }}</span>\n                        <span class=\"font-medium text-foreground\">{{ formatFileSize(activeMedia.size) }}</span>\n                    </div>\n                     <div class=\"truncate\">\n                        <span class=\"text-muted-foreground block mb-0.5\">{{ $t('features.media.modals.edit.type') }}</span>\n                        <span class=\"font-medium text-foreground truncate\" :title=\"activeMedia.mime_type\">{{ activeMedia.mime_type }}</span>\n                    </div>\n                     <div class=\"col-span-2 truncate\">\n                        <span class=\"text-muted-foreground block mb-0.5\">{{ $t('features.media.modals.edit.folder') }}</span>\n                        <span class=\"font-medium text-foreground truncate\">\n                             {{ getFolderName(activeMedia.folder_id) }}\n                        </span>\n                    </div>\n                </div>\n\n                <div class=\"h-px bg-border/40 w-full my-4\"></div>\n\n                <!-- Edit Form -->\n                <form @submit.prevent=\"handleSubmit\" class=\"space-y-4\">\n                    <!-- Name -->\n                    <div class=\"space-y-1\">\n                        <label class=\"text-xs font-medium text-foreground\">\n                            {{ $t('features.media.modals.edit.name') }}\n                        </label>\n                        <Input\n                            v-model=\"form.name\"\n                            type=\"text\"\n                            required\n                            class=\"bg-background h-8 text-xs\"\n                        />\n                    </div>\n\n                    <!-- Alt Text -->\n                    <div class=\"space-y-1\">\n                        <label class=\"text-xs font-medium text-foreground\">\n                            {{ $t('features.media.modals.edit.altText') }}\n                        </label>\n                        <Input\n                            v-model=\"form.alt\"\n                            type=\"text\"\n                            :placeholder=\"$t('features.media.modals.edit.altPlaceholder')\"\n                             class=\"bg-background h-8 text-xs\"\n                        />\n                    </div>\n\n                     <!-- Caption -->\n                    <div class=\"space-y-1\">\n                        <label class=\"text-xs font-medium text-foreground\">\n                            {{ $t('features.media.modals.edit.caption') || 'Caption' }}\n                        </label>\n                        <Input\n                            v-model=\"form.caption\"\n                            type=\"text\"\n                             class=\"bg-background h-8 text-xs\"\n                        />\n                    </div>\n\n                    <!-- Description -->\n                    <div class=\"space-y-1\">\n                        <label class=\"text-xs font-medium text-foreground\">\n                            {{ $t('features.media.modals.edit.description') }}\n                        </label>\n                        <textarea\n                            v-model=\"form.description\"\n                            rows=\"2\"\n                            class=\"w-full px-3 py-2 border border-input bg-background/50 text-foreground rounded-md focus:outline-none focus:ring-2 focus:ring-ring resize-none text-xs\"\n                        />\n                    </div>\n\n                    <!-- Tags -->\n                    <div class=\"space-y-1\">\n                        <label class=\"text-xs font-medium text-foreground\">\n                            {{ $t('features.media.modals.edit.tags') || 'Tags' }}\n                        </label>\n                        <div class=\"flex flex-wrap gap-1.5 mb-2\">\n                            <div \n                                v-for=\"tag in form.tags\" \n                                :key=\"tag\" \n                                class=\"inline-flex items-center px-2 py-0.5 rounded-md bg-primary/10 text-primary text-[10px] font-medium border border-primary/20\"\n                            >\n                                {{ tag }}\n                                <button \n                                    type=\"button\"\n                                    @click=\"removeTag(tag)\"\n                                    class=\"ml-1.5 text-primary/60 hover:text-primary\"\n                                >\n                                    <X class=\"w-3 h-3\" />\n                                </button>\n                            </div>\n                        </div>\n                        <Input\n                            v-model=\"tagInput\"\n                            type=\"text\"\n                            placeholder=\"Add tags...\"\n                            @keydown.enter.prevent=\"addTag\"\n                            @keydown=\"onTagKeydown\"\n                             class=\"bg-background h-8 text-xs\"\n                        />\n                    </div>\n\n                     <!-- Shared Status -->\n                    <div v-if=\"canManageMedia\" class=\"flex items-start space-x-2 p-2.5 bg-blue-50/50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg\">\n                        <Checkbox \n                            id=\"is_shared_sidebar\" \n                            v-model:checked=\"form.is_shared\"\n                            class=\"mt-0.5\"\n                        />\n                        <div class=\"flex-1\">\n                             <label for=\"is_shared_sidebar\" class=\"text-xs font-medium text-foreground cursor-pointer block\">\n                                {{ $t('features.media.modals.edit.isShared') }}\n                            </label>\n                             <p class=\"text-[10px] text-muted-foreground mt-0.5 leading-snug\">\n                                {{ $t('features.media.modals.edit.isSharedHelp') }}\n                            </p>\n                        </div>\n                    </div>\n\n                     <div class=\"pt-3 sticky bottom-0 pb-2 mt-4 bg-transparent\">\n                        <div class=\"flex gap-2\">\n                            <Button \n                                type=\"submit\" \n                                class=\"flex-1 h-9\"\n                                size=\"sm\"\n                                :disabled=\"saving || !isDirty\"\n                            >\n                                {{ saving ? $t('features.media.modals.edit.saving') : $t('features.media.actions.save') }}\n                            </Button>\n                             <Button \n                                type=\"button\"\n                                variant=\"outline\"\n                                size=\"icon\"\n                                class=\"shrink-0 h-9 w-9\"\n                                @click=\"copyUrl\"\n                                :title=\"$t('features.media.actions.copyUrl')\"\n                            >\n                                <Link class=\"w-4 h-4\" />\n                            </Button>\n                             <Button \n                                type=\"button\"\n                                variant=\"outline\"\n                                size=\"icon\"\n                                class=\"shrink-0 h-9 w-9\"\n                                @click=\"handleDownload\"\n                                :title=\"$t('features.media.actions.download')\"\n                            >\n                                <Download class=\"w-4 h-4\" />\n                            </Button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n\n            <!-- Empty State -->\n            <div v-else class=\"flex-1 flex flex-col items-center justify-center p-8 text-center text-muted-foreground\">\n                <div class=\"w-16 h-16 rounded-full bg-muted/10 flex items-center justify-center mb-4\">\n                    <Info class=\"w-8 h-8 opacity-20\" />\n                </div>\n                <p class=\"text-sm font-medium\">{{ $t('features.media.modals.edit.select_item') || 'Select item to view details' }}</p>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, inject, computed, watch } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { useToast } from '@/composables/useToast';\nimport { useAuthStore } from '@/stores/auth';\nimport api from '@/services/api';\nimport X from 'lucide-vue-next/dist/esm/icons/x.js';\nimport FileIcon from 'lucide-vue-next/dist/esm/icons/file-text.js';\nimport VideoIcon from 'lucide-vue-next/dist/esm/icons/video.js';\nimport Download from 'lucide-vue-next/dist/esm/icons/download.js';\nimport Link from 'lucide-vue-next/dist/esm/icons/link.js';\nimport Info from 'lucide-vue-next/dist/esm/icons/info.js';\nimport { Button, Input, Checkbox } from '@/components/ui';\nimport { MediaManagerKey } from '@/keys';\nimport type { Media } from '@/types/cms';\n\nconst { t } = useI18n();\nconst toast = useToast();\nconst authStore = useAuthStore();\n\nconst {\n    showPropertiesPanel: isVisible,\n    editingMedia: activeMedia,\n    togglePropertiesPanel,\n    folders,\n    fetchMedia\n} = inject(MediaManagerKey)!;\n\nconst loading = ref(false);\nconst saving = ref(false);\nconst tagInput = ref('');\n\ninterface MediaEditForm {\n    name: string;\n    alt: string;\n    description: string;\n    caption: string;\n    is_shared: boolean;\n    tags: string[];\n}\n\nconst form = ref<MediaEditForm>({\n    name: '',\n    alt: '',\n    description: '',\n    caption: '',\n    is_shared: false,\n    tags: [],\n});\n\nconst initialForm = ref<MediaEditForm | null>(null);\n\nconst Separator = {\n  template: '<div class=\"h-px bg-border/40 w-full my-4\"></div>'\n}\n\nconst isDirty = computed(() => {\n    if (!initialForm.value) return false;\n    return JSON.stringify(form.value) !== JSON.stringify(initialForm.value);\n});\n\nconst canManageMedia = authStore.hasPermission('manage media');\n\nconst getFolderName = (id?: number | null) => {\n    if (!id) return t('features.media.modals.edit.noFolder');\n    const folder = folders.value.find(f => f.id === id);\n    return folder ? folder.name : t('features.media.modals.edit.noFolder');\n};\n\nconst formatFileSize = (bytes: number) => {\n    if (!bytes) return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\n};\n\nconst closePanel = () => {\n    togglePropertiesPanel(); // Toggles off\n};\n\n// Initialize form when activeMedia changes\nwatch(activeMedia, (media) => {\n    if (media) {\n        form.value = {\n            name: media.name || '',\n            alt: media.alt || '',\n            description: media.description || '',\n            caption: (media as any).caption || '',\n            is_shared: media.is_shared || false,\n            tags: [...(media.tag_names || [])],\n        };\n        initialForm.value = JSON.parse(JSON.stringify(form.value));\n    }\n}, { immediate: true });\n\nconst onTagKeydown = (e: KeyboardEvent) => {\n    if (e.key === ',') {\n        e.preventDefault();\n        addTag();\n    }\n};\n\nconst addTag = () => {\n    const val = tagInput.value.trim().replace(/,$/, '');\n    if (val && !form.value.tags.includes(val)) {\n        form.value.tags = [...form.value.tags, val];\n    }\n    tagInput.value = '';\n};\n\nconst removeTag = (tag: string) => {\n    form.value.tags = form.value.tags.filter(t => t !== tag);\n};\n\nconst copyUrl = async () => {\n    if (activeMedia.value?.url) {\n        try {\n            await navigator.clipboard.writeText(activeMedia.value.url);\n            toast.success.action(t('features.media.toast.urlCopied'));\n        } catch (err) {\n            toast.error.default('Failed to copy URL');\n        }\n    }\n};\n\nconst handleDownload = () => {\n    if (activeMedia.value?.url) {\n        const link = document.createElement('a');\n        link.href = activeMedia.value.url;\n        link.download = activeMedia.value.name;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n    }\n};\n\nconst handleSubmit = async () => {\n    if (!activeMedia.value) return;\n    \n    saving.value = true;\n    try {\n        await api.put(`/admin/ja/media/${activeMedia.value.id}`, {\n            name: form.value.name,\n            alt: form.value.alt,\n            description: form.value.description,\n            caption: form.value.caption,\n            is_shared: form.value.is_shared,\n            tags: form.value.tags,\n             // Note: Folder change requires move action, keep separate or impl here if API supports\n        });\n        \n        initialForm.value = JSON.parse(JSON.stringify(form.value));\n        await fetchMedia(); // Refresh list to reflect changes\n        toast.success.action(t('features.media.messages.updateSuccess'));\n    } catch (error) {\n        toast.error.fromResponse(error);\n    } finally {\n        saving.value = false;\n    }\n};\n</script>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/components/menus/properties/ItemPropertyField.vue","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/components/menus/sidebar/SourcePanel.vue","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":251,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":251,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13010,13013],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13010,13013],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":252,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":252,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13040,13043],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13040,13043],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":253,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":253,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13075,13078],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13075,13078],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":302,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":302,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14551,14554],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14551,14554],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":312,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":312,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14831,14834],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14831,14834],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":320,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":320,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15013,15016],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15013,15016],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n    <Card class=\"border-t-4 border-t-primary/20\">\n        <CardHeader class=\"pb-3\">\n            <div class=\"flex items-center justify-between\">\n                <CardTitle class=\"text-base\">{{ t('features.menus.form.addItems') }}</CardTitle>\n                <Button \n                    variant=\"ghost\" \n                    size=\"icon\" \n                    class=\"h-8 w-8\"\n                    @click=\"$emit('collapse')\"\n                >\n                    <PanelLeftClose class=\"w-4 h-4\" />\n                </Button>\n            </div>\n        </CardHeader>\n        <CardContent class=\"p-0\">\n            <Accordion type=\"multiple\" class=\"w-full\" :default-value=\"['pages', 'custom']\">\n                <!-- Pages -->\n                <AccordionItem value=\"pages\">\n                    <AccordionTrigger class=\"px-4 py-3 hover:no-underline hover:bg-muted/50\">\n                        <div class=\"flex items-center gap-2 flex-1\">\n                            <FileText class=\"w-4 h-4 text-blue-500\" />\n                            <span>{{ t('features.menus.form.types.page') }}</span>\n                            <Badge variant=\"secondary\" class=\"ml-2\">{{ pages.length }}</Badge>\n                            <Button \n                                size=\"icon\" \n                                variant=\"ghost\" \n                                class=\"ml-auto h-6 w-6\" \n                                title=\"Add All\" \n                                @click.stop=\"addAll('page', pages)\"\n                            >\n                                <Plus class=\"w-3 h-3\" />\n                            </Button>\n                        </div>\n                    </AccordionTrigger>\n                    <AccordionContent class=\"px-4 pb-4\">\n                        <div class=\"max-h-[250px] overflow-y-auto pr-2 custom-scrollbar\">\n                            <div v-if=\"loadingPages\" class=\"flex justify-center py-4\">\n                                <Loader2 class=\"w-5 h-5 animate-spin text-muted-foreground\" />\n                            </div>\n                            <draggable\n                                v-else\n                                :list=\"pages\"\n                                :group=\"{ name: 'menu', pull: 'clone', put: false }\"\n                                :clone=\"(item: any) => createItem('page', item)\"\n                                item-key=\"id\"\n                                class=\"space-y-2\"\n                            >\n                                <template #item=\"{ element }\">\n                                    <SourceItem \n                                        :item=\"element\" \n                                        :type=\"'page'\"\n                                        @add=\"addItem('page', element)\"\n                                    />\n                                </template>\n                            </draggable>\n                            <div v-if=\"!loadingPages && pages.length === 0\" class=\"text-center py-4 text-muted-foreground text-xs\">\n                                {{ t('features.menus.form.noPages') }}\n                            </div>\n                        </div>\n                    </AccordionContent>\n                </AccordionItem>\n\n                <!-- Posts -->\n                <AccordionItem value=\"posts\">\n                    <AccordionTrigger class=\"px-4 py-3 hover:no-underline hover:bg-muted/50\">\n                        <div class=\"flex items-center gap-2 flex-1\">\n                            <File class=\"w-4 h-4 text-orange-500\" />\n                            <span>{{ t('features.menus.form.types.post') }}</span>\n                            <Badge variant=\"secondary\" class=\"ml-2\">{{ posts.length }}</Badge>\n                            <Button \n                                size=\"icon\" \n                                variant=\"ghost\" \n                                class=\"ml-auto h-6 w-6\" \n                                title=\"Add All\" \n                                @click.stop=\"addAll('post', posts)\"\n                            >\n                                <Plus class=\"w-3 h-3\" />\n                            </Button>\n                        </div>\n                    </AccordionTrigger>\n                    <AccordionContent class=\"px-4 pb-4\">\n                        <div class=\"max-h-[250px] overflow-y-auto pr-2 custom-scrollbar\">\n                            <div v-if=\"loadingPosts\" class=\"flex justify-center py-4\">\n                                <Loader2 class=\"w-5 h-5 animate-spin text-muted-foreground\" />\n                            </div>\n                            <draggable\n                                v-else\n                                :list=\"posts\"\n                                :group=\"{ name: 'menu', pull: 'clone', put: false }\"\n                                :clone=\"(item: any) => createItem('post', item)\"\n                                item-key=\"id\"\n                                class=\"space-y-2\"\n                            >\n                                <template #item=\"{ element }\">\n                                    <SourceItem \n                                        :item=\"element\" \n                                        :type=\"'post'\"\n                                        @add=\"addItem('post', element)\"\n                                    />\n                                </template>\n                            </draggable>\n                            <div v-if=\"!loadingPosts && posts.length === 0\" class=\"text-center py-4 text-muted-foreground text-xs\">\n                                {{ t('features.menus.form.noPosts') }}\n                            </div>\n                        </div>\n                    </AccordionContent>\n                </AccordionItem>\n\n                <!-- Categories -->\n                <AccordionItem value=\"categories\">\n                    <AccordionTrigger class=\"px-4 py-3 hover:no-underline hover:bg-muted/50\">\n                        <div class=\"flex items-center gap-2 flex-1\">\n                            <Tag class=\"w-4 h-4 text-purple-500\" />\n                            <span>{{ t('features.menus.form.types.category') }}</span>\n                            <Badge variant=\"secondary\" class=\"ml-2\">{{ categories.length }}</Badge>\n                            <Button \n                                size=\"icon\" \n                                variant=\"ghost\" \n                                class=\"ml-auto h-6 w-6\" \n                                title=\"Add All\" \n                                @click.stop=\"addAll('category', categories)\"\n                            >\n                                <Plus class=\"w-3 h-3\" />\n                            </Button>\n                        </div>\n                    </AccordionTrigger>\n                    <AccordionContent class=\"px-4 pb-4\">\n                        <div class=\"max-h-[250px] overflow-y-auto pr-2 custom-scrollbar\">\n                            <div v-if=\"loadingCategories\" class=\"flex justify-center py-4\">\n                                <Loader2 class=\"w-5 h-5 animate-spin text-muted-foreground\" />\n                            </div>\n                            <draggable\n                                v-else\n                                :list=\"categories\"\n                                :group=\"{ name: 'menu', pull: 'clone', put: false }\"\n                                :clone=\"(item: any) => createItem('category', item)\"\n                                item-key=\"id\"\n                                class=\"space-y-2\"\n                            >\n                                <template #item=\"{ element }\">\n                                    <SourceItem \n                                        :item=\"element\" \n                                        :type=\"'category'\"\n                                        @add=\"addItem('category', element)\"\n                                    />\n                                </template>\n                            </draggable>\n                            <div v-if=\"!loadingCategories && categories.length === 0\" class=\"text-center py-4 text-muted-foreground text-xs\">\n                                {{ t('features.menus.form.noCategories') }}\n                            </div>\n                        </div>\n                    </AccordionContent>\n                </AccordionItem>\n\n                <!-- Custom Link -->\n                <AccordionItem value=\"custom\">\n                    <AccordionTrigger class=\"px-4 py-3 hover:no-underline hover:bg-muted/50\">\n                        <div class=\"flex items-center gap-2\">\n                            <LinkIcon class=\"w-4 h-4 text-emerald-500\" />\n                            <span>{{ t('features.menus.form.customLink') }}</span>\n                        </div>\n                    </AccordionTrigger>\n                    <AccordionContent class=\"px-4 pb-4 pt-2\">\n                        <div class=\"space-y-3\">\n                            <div class=\"space-y-1.5\">\n                                <Label class=\"text-xs\">{{ t('features.menus.form.linkText') }}</Label>\n                                <Input v-model=\"customLink.title\" class=\"h-8\" :placeholder=\"t('features.menus.form.labelPlaceholder')\" />\n                            </div>\n                            <div class=\"space-y-1.5\">\n                                <Label class=\"text-xs\">{{ t('features.menus.form.url') }}</Label>\n                                <Input v-model=\"customLink.url\" class=\"h-8\" placeholder=\"https://\" />\n                            </div>\n                            <Button size=\"sm\" class=\"w-full mt-2\" @click=\"addCustomLink\" :disabled=\"!customLink.title\">\n                                <PlusCircle class=\"w-3.5 h-3.5 mr-2\" />\n                                <PlusCircle v-if=\"!customLink.title && 0\" /> <!-- Fake usage to suppress icon unused warning if any -->\n                                {{ t('features.menus.actions.addToMenu') }}\n                            </Button>\n                        </div>\n                    </AccordionContent>\n                </AccordionItem>\n\n                <!-- Column Group -->\n                <AccordionItem value=\"structure\">\n                    <AccordionTrigger class=\"px-4 py-3 hover:no-underline hover:bg-muted/50\">\n                        <div class=\"flex items-center gap-2\">\n                            <Columns class=\"w-4 h-4 text-indigo-500\" />\n                            <span>{{ t('features.menus.form.structure') }}</span>\n                        </div>\n                    </AccordionTrigger>\n                    <AccordionContent class=\"px-4 pb-4 pt-2\">\n                        <Button \n                            size=\"sm\" \n                            variant=\"outline\" \n                            class=\"w-full border-dashed\"\n                            @click.prevent=\"addColumnGroup\"\n                        >\n                            <Columns class=\"w-3.5 h-3.5 mr-2\" />\n                            {{ t('features.menus.form.addColumnGroup') }}\n                        </Button>\n                    </AccordionContent>\n                </AccordionItem>\n            </Accordion>\n        </CardContent>\n    </Card>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport draggable from 'vuedraggable';\nimport api from '../../../services/api';\n// @ts-expect-error: Internal type mismatch\nimport { parseResponse, ensureArray } from '../../../utils/responseParser';\nimport { useMenuContext } from '../../../composables/useMenu';\nimport { menuItemRegistry } from '../registry';\n\n// UI Components\nimport Card from '../../ui/card.vue';\nimport CardHeader from '../../ui/card-header.vue';\nimport CardTitle from '../../ui/card-title.vue';\nimport CardContent from '../../ui/card-content.vue';\nimport Accordion from '../../ui/accordion.vue';\nimport AccordionContent from '../../ui/accordion-content.vue';\nimport AccordionItem from '../../ui/accordion-item.vue';\nimport AccordionTrigger from '../../ui/accordion-trigger.vue';\nimport Badge from '../../ui/badge.vue';\nimport Button from '../../ui/button.vue';\nimport Input from '../../ui/input.vue';\nimport Label from '../../ui/label.vue';\nimport SourceItem from './SourceItem.vue';\n\nimport FileText from 'lucide-vue-next/dist/esm/icons/file-text.js';\nimport File from 'lucide-vue-next/dist/esm/icons/file.js';\nimport Tag from 'lucide-vue-next/dist/esm/icons/tag.js';\nimport LinkIcon from 'lucide-vue-next/dist/esm/icons/link.js';\nimport Columns from 'lucide-vue-next/dist/esm/icons/columns-2.js';\nimport Plus from 'lucide-vue-next/dist/esm/icons/plus.js';\nimport PlusCircle from 'lucide-vue-next/dist/esm/icons/circle-plus.js';\nimport Loader2 from 'lucide-vue-next/dist/esm/icons/loader-circle.js';\nimport PanelLeftClose from 'lucide-vue-next/dist/esm/icons/panel-left-close.js';\n\nconst { t } = useI18n();\nconst menuContext = useMenuContext();\n\ndefineEmits<{\n    (e: 'collapse'): void;\n}>();\n\n// Data sources\nconst pages = ref<any[]>([]);\nconst posts = ref<any[]>([]);\nconst categories = ref<any[]>([]);\nconst loadingPages = ref(false);\nconst loadingPosts = ref(false);\nconst loadingCategories = ref(false);\n\n// Custom link form\nconst customLink = ref({ title: '', url: 'https://' });\n\n// Fetch data sources\nconst fetchPages = async () => {\n    loadingPages.value = true;\n    try {\n        const response = await api.get('/admin/ja/contents?type=page&status=published');\n        const { data } = parseResponse(response);\n        pages.value = ensureArray(data);\n    } catch (error) {\n        console.error('Failed to fetch pages:', error);\n    } finally {\n        loadingPages.value = false;\n    }\n};\n\nconst fetchPosts = async () => {\n    loadingPosts.value = true;\n    try {\n        const response = await api.get('/admin/ja/contents?type=post&status=published');\n        const { data } = parseResponse(response);\n        posts.value = ensureArray(data);\n    } catch (error) {\n        console.error('Failed to fetch posts:', error);\n    } finally {\n        loadingPosts.value = false;\n    }\n};\n\nconst fetchCategories = async () => {\n    loadingCategories.value = true;\n    try {\n        const response = await api.get('/admin/ja/categories');\n        const { data } = parseResponse(response);\n        categories.value = ensureArray(data);\n    } catch (error) {\n        console.error('Failed to fetch categories:', error);\n    } finally {\n        loadingCategories.value = false;\n    }\n};\n\n// Create menu item from source\nconst createItem = (type: string, sourceItem: any) => {\n    const item = menuItemRegistry.createInstance(type, {\n        title: sourceItem.title || sourceItem.name,\n        target_id: sourceItem.id,\n        url: sourceItem.url || null\n    });\n    return item;\n};\n\n// Add single item\nconst addItem = (type: string, sourceItem: any) => {\n    const item = createItem(type, sourceItem);\n    if (item) {\n        menuContext.addItem(item);\n    }\n};\n\n// Add all items of a type\nconst addAll = (type: string, items: any[]) => {\n    items.forEach(sourceItem => {\n        addItem(type, sourceItem);\n    });\n};\n\n// Add custom link\nconst addCustomLink = () => {\n    if (!customLink.value.title) return;\n    \n    const item = menuItemRegistry.createInstance('custom', {\n        title: customLink.value.title,\n        url: customLink.value.url || '#'\n    });\n    \n    if (item) {\n        menuContext.addItem(item);\n        customLink.value = { title: '', url: 'https://' };\n    }\n};\n\n// Add column group\nconst addColumnGroup = () => {\n    const item = menuItemRegistry.createInstance('column_group', {\n        title: t('features.menus.form.newColumnGroup')\n    });\n    if (item) {\n        menuContext.addItem(item);\n    }\n};\n\nonMounted(() => {\n    fetchPages();\n    fetchPosts();\n    fetchCategories();\n});\n</script>\n\n<style scoped>\n.custom-scrollbar {\n    scrollbar-width: thin;\n    scrollbar-color: hsl(var(--border)) transparent;\n}\n.custom-scrollbar::-webkit-scrollbar {\n    width: 4px;\n}\n.custom-scrollbar::-webkit-scrollbar-track {\n    background: transparent;\n}\n.custom-scrollbar::-webkit-scrollbar-thumb {\n    background-color: hsl(var(--border));\n    border-radius: 4px;\n}\n</style>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/components/themes/customizer/sidebar/Sidebar.vue","messages":[{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formValues\" prop.","line":108,"column":38,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":108,"endColumn":61},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":173,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":173,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9785,9788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9785,9788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":221,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":221,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10938,10941],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10938,10941],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formValues\" prop.","line":224,"column":9,"nodeType":"AssignmentExpression","messageId":"unexpectedMutation","endLine":224,"endColumn":61}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n    <div \n        class=\"flex flex-col bg-card border-r shadow-2xl transition-colors duration-300 ease-in-out z-10\"\n        :class=\"isCollapsed ? 'w[60px]' : 'w-96'\"\n    >\n        <!-- Header -->\n        <div class=\"h-16 flex items-center px-4 border-b shrink-0 bg-muted/30 transition-colors justify-between\">\n            <div class=\"flex items-center gap-3 overflow-hidden\" :class=\"{'opacity-0 w-0': isCollapsed}\">\n                <div>\n                    <h2 class=\"font-semibold text-lg tracking-tight whitespace-nowrap\">Customize</h2>\n                    <p class=\"text-xs text-muted-foreground truncate max-w-[150px]\">{{ themeName }}</p>\n                </div>\n            </div>\n\n            <div class=\"flex items-center gap-1\">\n                 <!-- Collapse Button -->\n                 <button \n                    @click=\"isCollapsed = !isCollapsed\"\n                    class=\"p-2 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors\"\n                    :title=\"isCollapsed ? 'Expand Sidebar' : 'Collapse Sidebar'\"\n                >\n                    <svg \n                        class=\"w-5 h-5 transition-transform duration-300\" \n                        :class=\"{'rotate-180': isCollapsed}\" \n                        fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\n                    >\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 19l-7-7 7-7m8 14l-7-7 7-7\" />\n                    </svg>\n                </button>\n\n                 <!-- Actions (Hidden when collapsed) -->\n                 <div v-show=\"!isCollapsed\" class=\"flex items-center gap-1 animate-in fade-in duration-200\">\n                    <div class=\"flex items-center border rounded-md bg-background mr-2 overflow-hidden\">\n                        <button \n                            @click=\"$emit('undo')\" \n                            :disabled=\"!canUndo\"\n                            class=\"p-1.5 hover:bg-muted text-muted-foreground hover:text-foreground disabled:opacity-30 transition-colors\"\n                            title=\"Undo\"\n                        >\n                            <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\" /></svg>\n                        </button>\n                        <div class=\"w-px h-4 bg-border\"></div>\n                        <button \n                            @click=\"$emit('redo')\" \n                            :disabled=\"!canRedo\"\n                            class=\"p-1.5 hover:bg-muted text-muted-foreground hover:text-foreground disabled:opacity-30 transition-colors\"\n                            title=\"Redo\"\n                        >\n                            <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 10h-10a8 8 0 00-8 8v2M21 10l-6 6m6-6l-6-6\" /></svg>\n                        </button>\n                    </div>\n\n                    <button \n                        @click=\"$emit('reset')\"\n                        class=\"p-2 text-muted-foreground hover:text-primary transition-colors rounded-full hover:bg-muted\"\n                        title=\"Reset Default\"\n                    >\n                        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" /></svg>\n                    </button>\n                    <button \n                        @click=\"$emit('close')\"\n                        class=\"p-2 text-muted-foreground hover:text-destructive transition-colors rounded-full hover:bg-muted\"\n                        title=\"Close\"\n                    >\n                        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" /></svg>\n                    </button>\n                </div>\n            </div>\n        </div>\n\n        <!-- Content -->\n        <div v-show=\"!isCollapsed\" class=\"flex-1 overflow-y-auto px-6 py-6 custom-scrollbar animate-in fade-in slide-in-from-left-4 duration-300\">\n<!-- Loading State -->\n            <div v-if=\"loading\" class=\"flex items-center justify-center py-12\">\n                <svg class=\"w-8 h-8 text-primary animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                    <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n            </div>\n\n            <!-- Settings Sections -->\n            <div v-else class=\"space-y-6\">\n                 <div v-for=\"section in sections\" :key=\"section.id\" class=\"space-y-3\">\n                    <button \n                        @click=\"toggleSection(section.id)\"\n                        class=\"w-full flex items-center justify-between py-2 text-sm font-medium hover:text-primary transition-colors border-b group\"\n                    >\n                        <span class=\"group-hover:translate-x-1 transition-transform\">{{ section.label }}</span>\n                        <svg \n                            class=\"w-4 h-4 transition-transform duration-200\"\n                            :class=\"{ 'rotate-180': expandedSections.includes(section.id) }\"\n                            fill=\"none\" \n                            viewBox=\"0 0 24 24\" \n                            stroke=\"currentColor\"\n                        >\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                        </svg>\n                    </button>\n\n                    <div \n                        v-show=\"expandedSections.includes(section.id)\" \n                        class=\"space-y-5 pl-2 animate-in slide-in-from-top-2 duration-200\"\n                    >\n                        <SettingControl \n                            v-for=\"setting in section.settings\" \n                            :key=\"setting.key\"\n                            :setting=\"setting\"\n                            v-model=\"formValues[setting.key]\"\n                            @change=\"$emit('change')\"\n                            @pick-media=\"openMediaPicker(setting.key)\"\n                        />\n                    </div>\n                 </div>\n\n                 <!-- Custom CSS Section -->\n                 <div class=\"space-y-3 pt-6 border-t\">\n                    <button \n                        @click=\"showCustomCss = !showCustomCss\"\n                        class=\"w-full flex items-center justify-between py-2 text-sm font-medium hover:text-primary transition-colors\"\n                    >\n                        <span>Custom CSS</span>\n                        <span class=\"text-[10px] bg-muted px-2 py-0.5 rounded text-muted-foreground font-mono\">&lt;/&gt;</span>\n                    </button>\n                    \n                    <div v-show=\"showCustomCss\" class=\"animate-in slide-in-from-top-2\">\n                        <textarea\n                            :value=\"customCss\"\n                            @input=\"$emit('update:customCss', ($event.target as HTMLTextAreaElement).value)\"\n                            @change=\"$emit('change')\"\n                            rows=\"8\"\n                            class=\"w-full p-3 bg-background border rounded-lg text-xs font-mono custom-scrollbar focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-colors leading-relaxed\"\n                            placeholder=\"/* Enter custom CSS here... */\"\n                            spellcheck=\"false\"\n                        ></textarea>\n                     </div>\n                 </div>\n            </div>\n        </div>\n\n        <!-- Footer Actions -->\n        <div v-show=\"!isCollapsed\" class=\"p-4 border-t bg-muted/30 shrink-0 animate-in fade-in duration-300\">\n            <button\n                @click=\"$emit('save')\"\n                :disabled=\"saving || !isDirty\"\n                class=\"w-full h-10 flex items-center justify-center gap-2 bg-primary text-primary-foreground text-sm font-medium rounded-lg hover:bg-muted transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n                <svg v-if=\"saving\" class=\"w-4 h-4 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                    <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                <span>{{ saving ? 'Saving Changes...' : 'Save Configuration' }}</span>\n            </button>\n        </div>\n\n        <!-- Media Picker Modal -->\n        <MediaPicker\n            v-model:open=\"showMediaPicker\"\n            @selected=\"handleMediaSelect\"\n        >\n            <template #trigger><span class=\"hidden\"></span></template>\n        </MediaPicker>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue';\nimport SettingControl from './SettingControl.vue';\nimport MediaPicker from '@/components/media/MediaPicker.vue';\nimport type { ThemeSection } from '@/types/theme';\n\nconst props = withDefaults(defineProps<{\n    sections?: ThemeSection[];\n    formValues: Record<string, any>;\n    customCss?: string;\n    loading?: boolean;\n    saving?: boolean;\n    isDirty?: boolean;\n    themeName?: string;\n    canUndo?: boolean;\n    canRedo?: boolean;\n}>(), {\n    sections: () => [],\n    customCss: '',\n    loading: false,\n    saving: false,\n    isDirty: false,\n    themeName: '',\n    canUndo: false,\n    canRedo: false\n});\n\nconst emit = defineEmits<{\n    (e: 'update:customCss', value: string): void;\n    (e: 'change'): void;\n    (e: 'undo'): void;\n    (e: 'redo'): void;\n    (e: 'save'): void;\n    (e: 'reset'): void;\n    (e: 'close'): void;\n}>();\n\nconst isCollapsed = ref(false);\nconst expandedSections = ref(['General']);\nconst showCustomCss = ref(false);\nconst showMediaPicker = ref(false);\nconst activeMediaField = ref<string | null>(null);\n\nconst toggleSection = (id: string) => {\n    if (expandedSections.value.includes(id)) {\n        expandedSections.value = expandedSections.value.filter(s => s !== id);\n    } else {\n        expandedSections.value.push(id);\n    }\n};\n\nconst openMediaPicker = (fieldKey: string) => {\n    activeMediaField.value = fieldKey;\n    showMediaPicker.value = true;\n};\n\nconst handleMediaSelect = (media: any) => {\n    if (activeMediaField.value) {\n        // Mutate formValues directly as it's a reactive prop object from parent\n        props.formValues[activeMediaField.value] = media.url;\n        emit('change');\n    }\n    showMediaPicker.value = false;\n    activeMediaField.value = null;\n};\n</script>\n\n<style scoped>\n.custom-scrollbar::-webkit-scrollbar {\n    width: 4px;\n}\n.custom-scrollbar::-webkit-scrollbar-track {\n    background: transparent;\n}\n.custom-scrollbar::-webkit-scrollbar-thumb {\n    background: hsl(var(--muted-foreground) / 0.3);\n    border-radius: 4px;\n}\n.custom-scrollbar::-webkit-scrollbar-thumb:hover {\n    background: hsl(var(--muted-foreground) / 0.5);\n}\n</style>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/components/ui/color-picker.vue","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'computed' is defined but never used.","line":129,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":129,"endColumn":33,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"computed"},"fix":{"range":[6805,6815],"text":""},"desc":"Remove unused variable \"computed\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'hasEyeDropper' is assigned a value but never used.","line":164,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":164,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":164,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":164,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7893,7896],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7893,7896],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":258,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":258,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10886,10889],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10886,10889],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":262,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":262,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11054,11057],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11054,11057],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n    <Popover>\n        <PopoverTrigger as-child v-if=\"$slots.default\">\n            <slot />\n        </PopoverTrigger>\n        <PopoverTrigger as-child v-else>\n            <button \n                class=\"w-8 h-8 rounded border border-border shadow-sm shrink-0 cursor-pointer transition-transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary/50 relative overflow-hidden\"\n                :style=\"{ backgroundColor: modelValue || '#000000' }\"\n                :title=\"title || 'Pick a color'\"\n            >\n                <div class=\"absolute inset-0 bg-gradient-to-br from-transparent to-black/10\"></div>\n            </button>\n        </PopoverTrigger>\n        <PopoverContent class=\"w-72 p-0 z-[9999]\" align=\"start\">\n            <Tabs default-value=\"picker\" class=\"w-full\">\n                <TabsList class=\"w-full grid grid-cols-2 rounded-t-md rounded-b-none\">\n                    <TabsTrigger value=\"picker\" class=\"text-xs\">Custom</TabsTrigger>\n                    <TabsTrigger value=\"presets\" class=\"text-xs\">Presets</TabsTrigger>\n                </TabsList>\n                \n                <!-- CUSTOM PICKER TAB -->\n                <TabsContent value=\"picker\" class=\"p-3 space-y-4\">\n<!-- Saturation/Brightness Area -->\n                    <div \n                        class=\"w-full h-32 rounded-md relative cursor-crosshair overflow-hidden border border-border\"\n                        :style=\"{ backgroundColor: `hsl(${hsv.h}, 100%, 50%)` }\"\n                        @mousedown=\"startDragSaturation\"\n                        ref=\"saturationArea\"\n                    >\n                        <div class=\"absolute inset-0 bg-gradient-to-r from-white to-transparent\"></div>\n                        <div class=\"absolute inset-0 bg-gradient-to-t from-black to-transparent\"></div>\n                        <div \n                            class=\"absolute w-3 h-3 rounded-full border-2 border-white shadow-sm -ml-1.5 -mt-1.5 pointer-events-none\"\n                            :style=\"{ \n                                left: `${hsv.s}%`, \n                                top: `${100 - hsv.v}%`,\n                                backgroundColor: modelValue\n                            }\"\n                        ></div>\n                    </div>\n\n                    <!-- Sliders -->\n                    <div class=\"space-y-3\">\n                        <!-- Hue Slider -->\n                        <div class=\"space-y-1\">\n                            <input \n                                type=\"range\" \n                                v-model.number=\"hsv.h\" \n                                min=\"0\" \n                                max=\"360\" \n                                class=\"w-full h-3 rounded-lg appearance-none cursor-pointer\"\n                                :style=\"{ background: 'linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%)' }\"\n                            />\n                        </div>\n                    </div>\n\n                    <!-- Inputs -->\n                    <div class=\"flex gap-2 items-end\">\n                        <div class=\"flex-1 space-y-0.5\">\n                            <label class=\"text-[9px] text-muted-foreground font-mono ml-1\">HEX</label>\n                            <Input \n                                :model-value=\"modelValue\" \n                                @update:model-value=\"handleHexInput\"\n                                class=\"h-8 text-xs font-mono uppercase\" \n                                maxlength=\"7\"\n                            />\n                        </div>\n                        <div class=\"flex gap-1\">\n                             <div class=\"h-8 w-8 rounded border border-border shrink-0\" :style=\"{ backgroundColor: modelValue }\"></div>\n                             \n                             <!-- Eyedropper Button -->\n                             <button\n                                type=\"button\" \n                                class=\"h-8 w-8 rounded border border-input bg-background hover:bg-accent hover:text-accent-foreground flex items-center justify-center transition-colors\"\n                                @click=\"pickEyeDropper\"\n                                title=\"Pick color from screen\"\n                             >\n                                <Pipette class=\"w-4 h-4\" />\n                             </button>\n                        </div>\n                    </div>\n</TabsContent>\n\n                <!-- PRESETS TAB -->\n                <TabsContent value=\"presets\" class=\"p-3 space-y-4\">\n                     <!-- Quick Colors -->\n                    <div class=\"space-y-2\">\n                        <p class=\"text-[10px] font-bold text-muted-foreground\">Quick Colors</p>\n                        <div class=\"grid grid-cols-8 gap-1.5\">\n                            <button\n                                type=\"button\"\n                                v-for=\"color in colorPalette\"\n                                :key=\"color\"\n                                class=\"w-6 h-6 rounded border border-border/50 transition-transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-primary/50\"\n                                :class=\"{ 'ring-2 ring-primary': modelValue === color }\"\n                                :style=\"{ backgroundColor: color }\"\n                                @click=\"updateFromPreset(color)\"\n                                :title=\"color\"\n                            >\n                            </button>\n                        </div>\n                    </div>\n\n                    <!-- Theme Colors -->\n                    <div v-if=\"themeColors && themeColors.length > 0\" class=\"space-y-2\">\n                        <p class=\"text-[10px] font-bold text-muted-foreground\">Theme Colors</p>\n                        <div class=\"flex flex-wrap gap-1.5\">\n                            <button\n                                type=\"button\"\n                                v-for=\"color in themeColors\"\n                                :key=\"color.variable\"\n                                class=\"w-6 h-6 rounded border border-border/50 transition-transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-primary/50\"\n                                :class=\"{ 'ring-2 ring-primary': modelValue === color.variable }\"\n                                :style=\"{ backgroundColor: color.value }\"\n                                @click=\"updateFromPreset(color.variable)\"\n                                :title=\"color.name\"\n                            >\n                            </button>\n                        </div>\n                    </div>\n                </TabsContent>\n            </Tabs>\n        </PopoverContent>\n    </Popover>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, computed, watch } from 'vue';\nimport Popover from '@/components/ui/popover.vue';\nimport PopoverTrigger from '@/components/ui/popover-trigger.vue';\nimport PopoverContent from '@/components/ui/popover-content.vue';\nimport Tabs from '@/components/ui/tabs.vue';\nimport TabsList from '@/components/ui/tabs-list.vue';\nimport TabsTrigger from '@/components/ui/tabs-trigger.vue';\nimport TabsContent from '@/components/ui/tabs-content.vue';\nimport Input from '@/components/ui/input.vue';\nimport Pipette from 'lucide-vue-next/dist/esm/icons/pipette.js';\n\ninterface ColorPreset {\n    variable: string;\n    value: string;\n    name: string;\n}\n\nconst props = withDefaults(defineProps<{\n    modelValue?: string;\n    title?: string;\n    themeColors?: ColorPreset[];\n}>(), {\n    modelValue: '#000000',\n    title: '',\n    themeColors: () => []\n});\n\nconst emit = defineEmits<{\n    'update:modelValue': [value: string];\n}>();\n\n// HSV State\nconst hsv = reactive({ h: 0, s: 0, v: 0 });\nconst saturationArea = ref<HTMLElement | null>(null);\nconst isDragging = ref(false);\nconst hasEyeDropper = ref((window as any).EyeDropper !== undefined);\n\n// Helper: Hex to HSV\nconst hexToHsv = (hex: string) => {\n    let r = 0, g = 0, b = 0;\n    if (hex.length === 4) {\n        r = parseInt(\"0x\" + hex[1] + hex[1]);\n        g = parseInt(\"0x\" + hex[2] + hex[2]);\n        b = parseInt(\"0x\" + hex[3] + hex[3]);\n    } else if (hex.length === 7) {\n        r = parseInt(\"0x\" + hex[1] + hex[2]);\n        g = parseInt(\"0x\" + hex[3] + hex[4]);\n        b = parseInt(\"0x\" + hex[5] + hex[6]);\n    }\n    r /= 255; g /= 255; b /= 255;\n    \n    let max = Math.max(r, g, b), min = Math.min(r, g, b);\n    let h = 0, s, v = max;\n    let d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if (max === min) {\n        h = 0; \n    } else {\n        switch (max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: Math.round(h * 360), s: Math.round(s * 100), v: Math.round(v * 100) };\n};\n\n// Helper: HSV to Hex\nconst hsvToHex = (h: number, s: number, v: number) => {\n    let r = 0, g = 0, b = 0, i, f, p, q, t;\n    h /= 360; s /= 100; v /= 100;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n    switch (i % 6) {\n        case 0: r = v; g = t; b = p; break;\n        case 1: r = q; g = v; b = p; break;\n        case 2: r = p; g = v; b = t; break;\n        case 3: r = p; g = q; b = v; break;\n        case 4: r = t; g = p; b = v; break;\n        case 5: r = v; g = p; b = q; break;\n    }\n    const toHex = (x: number) => {\n        let hex = Math.round(x * 255).toString(16);\n        return hex.length === 1 ? '0' + hex : hex;\n    };\n    return `#${toHex(r)}${toHex(g)}${toHex(b)}`;\n};\n\n// Sync HSV from Prop\nwatch(() => props.modelValue, (val) => {\n    // If dragging, we are the source of truth, don't sync back from prop (prevents lag/loop)\n    if (isDragging.value) return;\n\n    if (val && !val.startsWith('var')) { // Don't parse theme vars\n        const newHsv = hexToHsv(val);\n        // Only update if significantly different (avoid slider jitter)\n        if (Math.abs(newHsv.h - hsv.h) > 1 || Math.abs(newHsv.s - hsv.s) > 1 || Math.abs(newHsv.v - hsv.v) > 1) {\n            Object.assign(hsv, newHsv);\n        }\n    }\n}, { immediate: true });\n\n// Sync Prop from HSV (Watcher on HSV)\nwatch(hsv, () => {\n    // Only emit if not triggered by prop change (cycle)\n    // Actually we strictly compute Hex from HSV here\n    const hex = hsvToHex(hsv.h, hsv.s, hsv.v);\n    if (hex.toUpperCase() !== (props.modelValue || '').toUpperCase()) {\n        emit('update:modelValue', hex);\n    }\n});\n\nconst handleHexInput = (val: string | number) => {\n    const sVal = String(val);\n    if (/^#[0-9A-Fa-f]{6}$/.test(sVal)) {\n        emit('update:modelValue', sVal);\n    }\n};\n\nconst updateFromPreset = (color: string) => {\n    emit('update:modelValue', color);\n};\n\nconst pickEyeDropper = async () => {\n    if (!(window as any).EyeDropper) {\n        alert('Your browser does not support the Eyedropper API. Test in Chrome/Edge.');\n        return;\n    }\n    const eyeDropper = new (window as any).EyeDropper();\n    try {\n        const result = await eyeDropper.open();\n        if (result && result.sRGBHex) {\n            emit('update:modelValue', result.sRGBHex);\n            const newHsv = hexToHsv(result.sRGBHex);\n            Object.assign(hsv, newHsv);\n        }\n    } catch (e) {\n        console.warn('Eyedropper failed:', e);\n    }\n};\n\n// Saturation/Brightness Drag Logic\nconst handleDrag = (event: MouseEvent) => {\n    if (!saturationArea.value) return;\n    const rect = saturationArea.value.getBoundingClientRect();\n    let x = (event.clientX - rect.left) / rect.width;\n    let y = 1 - (event.clientY - rect.top) / rect.height; // Invert Y (Bottom is 0)\n\n    x = Math.max(0, Math.min(1, x));\n    y = Math.max(0, Math.min(1, y));\n\n    hsv.s = Math.round(x * 100);\n    hsv.v = Math.round(y * 100);\n};\n\nconst startDragSaturation = (event: MouseEvent) => {\n    isDragging.value = true;\n    handleDrag(event);\n    window.addEventListener('mousemove', onMouseMove);\n    window.addEventListener('mouseup', stopDragSaturation);\n};\n\nconst onMouseMove = (event: MouseEvent) => {\n    if (isDragging.value) handleDrag(event);\n};\n\nconst stopDragSaturation = () => {\n    isDragging.value = false;\n    window.removeEventListener('mousemove', onMouseMove);\n    window.removeEventListener('mouseup', stopDragSaturation);\n};\n\n// Palette\nconst colorPalette = [\n    '#000000', '#374151', '#6B7280', '#9CA3AF', '#D1D5DB', '#E5E7EB', '#F3F4F6', '#FFFFFF',\n    '#EF4444', '#F87171', '#FCA5A5', '#FECACA',\n    '#F97316', '#FB923C', '#FDBA74', '#FED7AA',\n    '#EAB308', '#FACC15', '#FDE047', '#FEF08A',\n    '#22C55E', '#4ADE80', '#86EFAC', '#BBF7D0',\n    '#06B6D4', '#22D3EE', '#67E8F9', '#A5F3FC',\n    '#3B82F6', '#60A5FA', '#93C5FD', '#BFDBFE',\n    '#8B5CF6', '#A78BFA', '#C4B5FD', '#DDD6FE',\n    '#EC4899', '#F472B6', '#FBCFE8', '#FCE7F3'\n];\n</script>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/composables/useAutoSave.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[281,284],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[281,284],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[317,320],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[317,320],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[355,358],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[355,358],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[775,778],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[775,778],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1604,1607],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1604,1607],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":46,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1681,1684],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1681,1684],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ref, computed, onMounted, onUnmounted, watch, type Ref, type ComputedRef } from 'vue';\nimport api from '@/services/api';\n\ninterface AutoSaveOptions {\n    interval?: number;\n    enabled?: boolean | Ref<boolean> | ComputedRef<boolean> | (() => boolean);\n    onSave?: (data: any) => void;\n    onError?: (error: any) => void;\n    shouldSave?: (form: any) => boolean;\n}\n\ninterface AutoSaveReturn {\n    isSaving: Ref<boolean>;\n    lastSaved: Ref<Date | null>;\n    saveStatus: Ref<'idle' | 'saving' | 'saved' | 'error'>;\n    hasChanges: Ref<boolean>;\n    saveNow: () => Promise<void>;\n    formatLastSaved: () => string;\n    startAutoSave: () => void;\n    stopAutoSave: () => void;\n}\n\n/**\n * Auto-save composable for content editor\n */\nexport function useAutoSave(form: Ref<any>, contentId: Ref<number | null | string> | number | string | null = null, options: AutoSaveOptions = {}): AutoSaveReturn {\n    const {\n        interval = 30000, // 30 seconds\n        enabled: enabledOption = true,\n        onSave = null,\n        onError = null,\n    } = options;\n\n    // Support both boolean and getter function for enabled\n    const enabled = typeof enabledOption === 'function'\n        ? computed(enabledOption)\n        : (typeof enabledOption === 'object' && enabledOption !== null && 'value' in enabledOption\n            ? enabledOption\n            : ref(enabledOption)) as Ref<boolean>;\n\n    const isSaving = ref(false);\n    const lastSaved = ref<Date | null>(null);\n    const saveStatus = ref<'idle' | 'saving' | 'saved' | 'error'>('idle'); // idle, saving, saved, error\n    const autoSaveInterval = ref<any>(null);\n    const hasChanges = ref(false);\n    const lastSavedData = ref<any>(null);\n\n    // Track form changes\n    const checkChanges = () => {\n        if (!lastSavedData.value) {\n            hasChanges.value = true;\n            return;\n        }\n\n        try {\n            const currentData = JSON.stringify(form.value || {});\n            const savedData = JSON.stringify(lastSavedData.value || {});\n            hasChanges.value = currentData !== savedData;\n        } catch (e) {\n            console.warn('AutoSave: Failed to compare changes', e);\n            hasChanges.value = true; // Assume changed on error\n        }\n    };\n\n    // Watch form for changes\n    watch(\n        () => form.value,\n        () => {\n            hasChanges.value = true;\n            checkChanges();\n        },\n        { deep: true }\n    );\n\n    // Helper to get enabled value\n    const getEnabled = () => {\n        return enabled.value;\n    };\n\n    // Auto-save function\n    const performAutoSave = async () => {\n        // Don't save if session terminated, no changes, already saving, or disabled\n        // @ts-expect-error: Internal type mismatch - window.__isSessionTerminated is global\n        if (window.__isSessionTerminated || !hasChanges.value || isSaving.value || !getEnabled()) {\n            // @ts-expect-error: Internal type mismatch\n            if (window.__isSessionTerminated) stopAutoSave();\n            return;\n        }\n\n        // Check custom validator or default title check\n        const shouldSaveFn = options.shouldSave;\n        if (shouldSaveFn) {\n            if (!shouldSaveFn(form.value)) {\n                return;\n            }\n        } else if (!form.value.title || form.value.title.trim() === '') {\n            // Default check: must have title\n            return;\n        }\n\n        isSaving.value = true;\n        saveStatus.value = 'saving';\n\n        try {\n            let response;\n            const currentContentId = typeof contentId === 'object' && contentId !== null && 'value' in contentId\n                ? contentId.value\n                : contentId;\n\n            // Prepare payload (tags should already be in form.value if using formWithTags)\n            const payload = {\n                ...form.value,\n                status: 'draft', // Always save as draft for auto-save\n            };\n\n            if (currentContentId) {\n                // Update existing content\n                response = await api.patch(`/admin/ja/contents/${currentContentId}/autosave`, payload);\n            } else {\n                // Create new draft\n                response = await api.post('/admin/ja/contents/autosave', payload);\n\n                // If new content was created, update contentId\n                if (response.data?.data?.id) {\n                    if (typeof contentId === 'object' && contentId !== null && 'value' in contentId) {\n                        contentId.value = response.data.data.id;\n                    } else {\n                        // Can't update primitive contentId, but that's okay\n                        console.warn('Auto-save created content but contentId is not reactive');\n                    }\n                }\n            }\n\n            lastSaved.value = new Date();\n            saveStatus.value = 'saved';\n            hasChanges.value = false;\n            try {\n                lastSavedData.value = JSON.parse(JSON.stringify(form.value || {}));\n            } catch (e) {\n                console.warn('AutoSave: Failed to update last saved state', e);\n            }\n\n            // Callback\n            if (onSave) {\n                onSave(response.data);\n            }\n\n            // Reset status after 3 seconds\n            setTimeout(() => {\n                if (saveStatus.value === 'saved') {\n                    saveStatus.value = 'idle';\n                }\n            }, 3000);\n        } catch (error) {\n            console.error('Auto-save failed:', error);\n            saveStatus.value = 'error';\n\n            // Callback\n            if (onError) {\n                onError(error);\n            }\n\n            // Reset error status after 5 seconds\n            setTimeout(() => {\n                if (saveStatus.value === 'error') {\n                    saveStatus.value = 'idle';\n                }\n            }, 5000);\n        } finally {\n            isSaving.value = false;\n        }\n    };\n\n    // Start auto-save interval\n    const startAutoSave = () => {\n        if (!getEnabled()) return;\n\n        // Initial save after 5 seconds if there are changes\n        setTimeout(() => {\n            if (hasChanges.value) {\n                performAutoSave();\n            }\n        }, 5000);\n\n        // Then save every interval\n        autoSaveInterval.value = setInterval(() => {\n            performAutoSave();\n        }, interval);\n    };\n\n    // Stop auto-save\n    const stopAutoSave = () => {\n        if (autoSaveInterval.value) {\n            clearInterval(autoSaveInterval.value);\n            autoSaveInterval.value = null;\n        }\n    };\n\n    // Manual save trigger\n    const saveNow = async () => {\n        await performAutoSave();\n    };\n\n    // Format last saved time\n    const formatLastSaved = () => {\n        if (!lastSaved.value) return 'Not saved yet';\n\n        const now = new Date();\n        const diff = now.getTime() - lastSaved.value.getTime();\n        const seconds = Math.floor(diff / 1000);\n        const minutes = Math.floor(seconds / 60);\n        const hours = Math.floor(minutes / 60);\n\n        if (seconds < 10) return 'Just now';\n        if (seconds < 60) return `${seconds}s ago`;\n        if (minutes < 60) return `${minutes}m ago`;\n        if (hours < 24) return `${hours}h ago`;\n\n        return lastSaved.value.toLocaleTimeString('en-US', {\n            hour: '2-digit',\n            minute: '2-digit',\n        });\n    };\n\n    // Initialize\n    onMounted(() => {\n        try {\n            lastSavedData.value = JSON.parse(JSON.stringify(form.value || {}));\n        } catch (e) {\n            console.warn('AutoSave: Failed to clone initial state', e);\n            lastSavedData.value = {};\n        }\n\n        if (getEnabled()) {\n            startAutoSave();\n        }\n    });\n\n    // Watch enabled flag\n    watch(enabled, (newValue) => {\n        if (newValue && !autoSaveInterval.value) {\n            startAutoSave();\n        } else if (!newValue && autoSaveInterval.value) {\n            stopAutoSave();\n        }\n    });\n\n    // Cleanup\n    onUnmounted(() => {\n        stopAutoSave();\n    });\n\n    return {\n        isSaving,\n        lastSaved,\n        saveStatus,\n        hasChanges,\n        saveNow,\n        formatLastSaved,\n        startAutoSave,\n        stopAutoSave,\n    };\n}\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/composables/useSessionTimeout.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[897,900],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[897,900],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[933,936],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[933,936],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[973,976],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[973,976],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":104,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":104,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3070,3073],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3070,3073],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":119,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":119,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3593,3596],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3593,3596],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":120,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":120,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3627,3630],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3627,3630],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ref, onMounted, onUnmounted, computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useAuthStore } from '@/stores/auth';\nimport { useSystemError } from '@/composables/useSystemError';\nimport { triggerVaporLock } from '@/services/api';\nimport api from '@/services/api';\n\nconst { showError } = useSystemError();\n\nexport function useSessionTimeout() {\n    const router = useRouter();\n    const authStore = useAuthStore();\n\n    // Session configuration (in seconds)\n    // @ts-expect-error: Internal type mismatch\n    const SESSION_LIFETIME = parseInt(import.meta.env.VITE_SESSION_LIFETIME || '28800'); // 8 hours default\n    const WARNING_TIME = 300; // Show warning 5 minutes before expiry\n\n    // State\n    const isWarningVisible = ref(false);\n    const timeRemaining = ref(WARNING_TIME);\n    const lastActivityTime = ref(Date.now());\n\n    // Timers\n    let warningTimer: any = null;\n    let countdownTimer: any = null;\n    let activityCheckTimer: any = null;\n\n    // Computed\n    const sessionExpiryTime = computed(() => {\n        return lastActivityTime.value + (SESSION_LIFETIME * 1000);\n    });\n\n    const timeUntilExpiry = computed(() => {\n        return Math.max(0, Math.floor((sessionExpiryTime.value - Date.now()) / 1000));\n    });\n\n    const isAuthenticated = computed(() => authStore.isAuthenticated);\n\n    // Activity tracking\n    const trackActivity = () => {\n        if (!isAuthenticated.value) return;\n\n        lastActivityTime.value = Date.now();\n        resetTimers();\n    };\n\n    // Event listeners for user activity\n    const activityEvents = ['mousedown', 'keypress', 'scroll', 'touchstart', 'click'];\n\n    const setupActivityListeners = () => {\n        activityEvents.forEach(event => {\n            window.addEventListener(event, trackActivity, { passive: true });\n        });\n    };\n\n    const removeActivityListeners = () => {\n        activityEvents.forEach(event => {\n            window.removeEventListener(event, trackActivity);\n        });\n    };\n\n    // Timer management\n    const startWarningTimer = () => {\n        clearWarningTimer();\n\n        if (!isAuthenticated.value) return;\n\n        const timeUntilWarning = (SESSION_LIFETIME - WARNING_TIME) * 1000;\n\n        warningTimer = setTimeout(() => {\n            showWarning();\n        }, timeUntilWarning);\n    };\n\n    const clearWarningTimer = () => {\n        if (warningTimer) {\n            clearTimeout(warningTimer);\n            warningTimer = null;\n        }\n    };\n\n    const startCountdownTimer = () => {\n        clearCountdownTimer();\n\n        countdownTimer = setInterval(() => {\n            if (timeRemaining.value > 0) {\n                timeRemaining.value--;\n            } else {\n                handleTimeout();\n            }\n        }, 1000);\n    };\n\n    const clearCountdownTimer = () => {\n        if (countdownTimer) {\n            clearInterval(countdownTimer);\n            countdownTimer = null;\n        }\n    };\n\n    // Heartbeat logic\n    const HEARTBEAT_INTERVAL = 30 * 1000; // Check every 30 seconds for faster detection\n    let heartbeatTimer: any = null;\n\n    const startHeartbeat = () => {\n        clearHeartbeat();\n        if (!isAuthenticated.value) return;\n\n        heartbeatTimer = setInterval(async () => {\n            // Early exit if session is already dead to prevent redundant calls/loops\n            if (window.__isSessionTerminated) {\n                stopAllTimers();\n                return;\n            }\n\n            try {\n                // Lightweight check to validate session\n                await api.get('/user', { _skipManualRedirect: true } as any);\n            } catch (error: any) {\n                // Double check flag to prevent race conditions with api.js interceptor\n                if (window.__isSessionTerminated) {\n                    stopAllTimers();\n                    return;\n                }\n\n                // If it's a session error (401, 403, or 419)\n                const status = error.response?.status;\n                if (status === 401 || status === 403 || status === 419) {\n                    // Stop everything instantly via Vapor Lock\n                    triggerVaporLock();\n\n                    // Stop heartbeat and cleanup locally\n                    stopAllTimers();\n\n                    // Force update auth store state to prevent loops\n                    authStore.clearAuth();\n\n                    // Logic: Concurrent because it's a heartbeat failure\n                    const reason = 'concurrent';\n\n                    // Use modal instead of hard redirect\n                    showError({\n                        code: status || 419,\n                        title: 'Session Expired',\n                        message: 'Your session has expired due to concurrent login.',\n                        description: 'Please login again to continue.',\n                        reason: reason,\n                        redirect: router.currentRoute.value.fullPath\n                    });\n                }\n            }\n        }, HEARTBEAT_INTERVAL);\n    };\n\n    const clearHeartbeat = () => {\n        if (heartbeatTimer) {\n            clearInterval(heartbeatTimer);\n            heartbeatTimer = null;\n        }\n    };\n\n    const startActivityCheckTimer = () => {\n        clearActivityCheckTimer();\n\n        // Check every 30 seconds if session should show warning\n        activityCheckTimer = setInterval(() => {\n            if (!isAuthenticated.value) {\n                stopAllTimers();\n                return;\n            }\n\n            const timeLeft = timeUntilExpiry.value;\n\n            if (timeLeft <= 0) {\n                handleTimeout();\n            } else if (timeLeft <= WARNING_TIME && !isWarningVisible.value) {\n                showWarning();\n            }\n        }, 30000); // Check every 30 seconds\n    };\n\n    const clearActivityCheckTimer = () => {\n        if (activityCheckTimer) {\n            clearInterval(activityCheckTimer);\n            activityCheckTimer = null;\n        }\n    };\n\n    const stopAllTimers = () => {\n        clearWarningTimer();\n        clearCountdownTimer();\n        clearActivityCheckTimer();\n        clearHeartbeat();\n    };\n\n    const resetTimers = () => {\n        if (!isWarningVisible.value) {\n            startWarningTimer();\n            // No need to reset heartbeat on activity, it should run independently\n        }\n    };\n\n    // Warning modal\n    const showWarning = () => {\n        if (!isAuthenticated.value) return;\n\n        isWarningVisible.value = true;\n        timeRemaining.value = timeUntilExpiry.value;\n        startCountdownTimer();\n    };\n\n    const hideWarning = () => {\n        isWarningVisible.value = false;\n        clearCountdownTimer();\n        timeRemaining.value = WARNING_TIME;\n    };\n\n    // Actions\n    const extendSession = async () => {\n        try {\n            // Make a lightweight API call to extend the session\n            await api.get('/user');\n\n            // Reset activity time\n            lastActivityTime.value = Date.now();\n\n            // Hide warning and reset timers\n            hideWarning();\n            startWarningTimer();\n\n        } catch (error) {\n            console.error('Failed to extend session:', error);\n            // If extend fails, likely session already expired\n            handleTimeout();\n        }\n    };\n\n    const handleTimeout = () => {\n        // Stop everything via Vapor Lock\n        triggerVaporLock();\n        stopAllTimers();\n        hideWarning();\n\n        // Logout user locally\n        localStorage.removeItem('auth_token');\n        localStorage.removeItem('user');\n        authStore.isAuthenticated = false;\n\n        // Use modal instead of hard redirect\n        const currentPath = router.currentRoute.value.fullPath;\n        showError({\n            code: 419,\n            title: 'Session Timeout',\n            message: 'Your session has timed out due to inactivity.',\n            description: 'Please login again to continue.',\n            reason: 'timeout',\n            redirect: currentPath !== '/' ? currentPath : '/admin'\n        });\n    };\n\n    const manualLogout = async () => {\n        stopAllTimers();\n        hideWarning();\n        removeActivityListeners();\n\n        await authStore.logout();\n        router.push('/login');\n    };\n\n    // Initialization\n    const initialize = () => {\n        if (!isAuthenticated.value) return;\n\n        setupActivityListeners();\n        startWarningTimer();\n        startActivityCheckTimer();\n        startHeartbeat();\n        lastActivityTime.value = Date.now();\n    };\n\n    const cleanup = () => {\n        stopAllTimers();\n        removeActivityListeners();\n        hideWarning();\n    };\n\n    // Lifecycle hooks\n    onMounted(() => {\n        initialize();\n    });\n\n    onUnmounted(() => {\n        cleanup();\n    });\n\n    // Watch for auth changes\n    const watchAuth = () => {\n        const unwatch = authStore.$subscribe((mutation, state) => {\n            if (state.isAuthenticated) {\n                initialize();\n            } else {\n                cleanup();\n            }\n        });\n\n        onUnmounted(unwatch);\n    };\n\n    watchAuth();\n\n    return {\n        // State\n        isWarningVisible,\n        timeRemaining,\n        timeUntilExpiry,\n\n        // Actions\n        extendSession,\n        manualLogout,\n        showWarning,\n        hideWarning,\n        trackActivity,\n\n        // Utilities\n        initialize,\n        cleanup,\n    };\n}\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/shared/blocks/AlertBlock.vue","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BlockInstance' is defined but never used.","line":80,"column":15,"nodeType":"Identifier","messageId":"unusedVar","endLine":80,"endColumn":28,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"BlockInstance"},"fix":{"range":[3118,3132],"text":""},"desc":"Remove unused variable \"BlockInstance\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":87,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":87,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3346,3349],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3346,3349],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":90,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3413,3416],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3413,3416],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":92,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":92,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3533,3536],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3533,3536],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":103,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3750,3753],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3750,3753],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":105,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3871,3874],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3871,3874],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":116,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":116,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4637,4640],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4637,4640],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":121,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":121,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4808,4811],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4808,4811],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":127,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":127,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4924,4927],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4924,4927],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":128,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4982,4985],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4982,4985],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":134,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":134,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5113,5116],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5113,5116],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":139,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":139,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5279,5282],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5279,5282],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n  <BaseBlock\n    :module=\"module\"\n    :mode=\"mode\"\n    :device=\"device\"\n    class=\"alert-block\"\n  >\n    <template #default=\"{ settings, device: blockDevice }\">\n      <div \n        v-if=\"!dismissed\" \n        class=\"w-full\"\n        :id=\"getVal(settings, 'html_id', blockDevice)\"\n        :style=\"containerStyles(settings, blockDevice)\"\n      >\n        <Alert \n           class=\"transition-colors duration-300 relative overflow-hidden\"\n           :class=\"[\n             alertClasses(settings, blockDevice),\n             getVal(settings, 'class')\n           ]\"\n           :style=\"alertStyles(settings, blockDevice)\"\n           :aria-label=\"getVal(settings, 'aria_label', blockDevice) || undefined\"\n           :role=\"getVal(settings, 'aria_label', blockDevice) ? 'alert' : undefined\"\n        >\n          <component \n            v-if=\"getVal(settings, 'showIcon', blockDevice) !== false\"\n            :is=\"getAlertIcon(settings, blockDevice)\" \n            class=\"h-4 w-4 shrink-0\" \n            :style=\"{ color: getVal(settings, 'iconColor') || themeColors(settings, blockDevice).icon }\"\n          />\n          \n          <div class=\"flex-1 min-w-0\">\n            <AlertTitle \n              v-if=\"mode === 'edit' || getVal(settings, 'title', blockDevice)\"\n              :contenteditable=\"mode === 'edit'\"\n              @blur=\"onTitleBlur($event)\"\n              class=\"mb-2 transition-colors duration-300\"\n              :style=\"getTypographyStyles(settings, 'title_', blockDevice)\"\n            >\n              <div v-html=\"getVal(settings, 'title', blockDevice) || (mode === 'edit' ? 'Alert Title' : '')\"></div>\n            </AlertTitle>\n            \n            <AlertDescription \n              :contenteditable=\"mode === 'edit'\"\n              @blur=\"onMessageBlur($event)\"\n              class=\"transition-colors duration-300\"\n              :style=\"getTypographyStyles(settings, 'message_', blockDevice)\"\n            >\n              <div v-html=\"getVal(settings, 'message', blockDevice) || (mode === 'edit' ? 'Alert message goes here...' : '')\"></div>\n            </AlertDescription>\n          </div>\n\n          <button \n            v-if=\"getVal(settings, 'dismissible', blockDevice)\" \n            class=\"absolute right-4 top-4 rounded-sm hover:opacity-100 opacity-60 transition-opacity\"\n            @click=\"dismissed = true\"\n            aria-label=\"Dismiss alert\"\n          >\n            <X class=\"h-4 w-4\" />\n          </button>\n        </Alert>\n      </div>\n    </template>\n  </BaseBlock>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, inject } from 'vue'\nimport Info from 'lucide-vue-next/dist/esm/icons/info.js';\nimport CheckCircle from 'lucide-vue-next/dist/esm/icons/circle-check.js';\nimport AlertTriangle from 'lucide-vue-next/dist/esm/icons/triangle-alert.js';\nimport XCircle from 'lucide-vue-next/dist/esm/icons/circle-x.js';\nimport X from 'lucide-vue-next/dist/esm/icons/x.js';import BaseBlock from '../components/BaseBlock.vue'\nimport { Alert, AlertTitle, AlertDescription } from '../ui'\nimport { \n    getVal, \n    getTypographyStyles,\n    getLayoutStyles \n} from '../utils/styleUtils'\nimport type { BlockInstance, BuilderInstance, BlockProps } from '../../types/builder'\n\nconst props = withDefaults(defineProps<BlockProps>(), {\n  mode: 'view',\n  device: 'desktop'\n})\n\nconst builder = inject<BuilderInstance>('builder', null as any)\nconst dismissed = ref(false)\n\nconst getAlertIcon = (settings: any, device: string) => {\n  const variant = getVal(settings, 'variant', device) || 'info'\n  const icons: Record<string, any> = { \n    info: Info, \n    success: CheckCircle, \n    warning: AlertTriangle, \n    error: XCircle,\n    default: Info,\n    destructive: XCircle\n  }\n  return icons[variant] || Info\n}\n\nconst themeColors = (settings: any, device: string) => {\n  const variant = getVal(settings, 'variant', device) || 'info'\n  const colors: Record<string, any> = {\n    info: { bg: 'bg-blue-50', border: 'border-blue-200', text: 'text-blue-900', icon: 'text-blue-600' },\n    success: { bg: 'bg-green-50', border: 'border-green-200', text: 'text-green-900', icon: 'text-green-600' },\n    warning: { bg: 'bg-yellow-50', border: 'border-yellow-200', text: 'text-yellow-900', icon: 'text-yellow-600' },\n    error: { bg: 'bg-red-50', border: 'border-red-200', text: 'text-red-900', icon: 'text-red-600' },\n    default: { bg: 'bg-background', border: 'border-border', text: 'text-foreground', icon: 'text-foreground' },\n    destructive: { bg: 'bg-destructive/15', border: 'border-destructive/50', text: 'text-destructive', icon: 'text-destructive' }\n  }\n  return colors[variant] || colors.info\n}\n\nconst alertClasses = (settings: any, device: string) => {\n    const colors = themeColors(settings, device)\n    return `${colors.bg} ${colors.border} ${colors.text}`\n}\n\nconst containerStyles = (settings: any, device: string) => {\n  return {\n    ...getLayoutStyles(settings, device)\n  }\n}\n\nconst alertStyles = (settings: any, device: string) => {\n    const style: Record<string, any> = {\n      '--hover-opacity': getVal(settings, 'hover_opacity', device) ?? 1\n    }\n    return style\n}\n\nconst onTitleBlur = (e: any) => {\n  if (props.mode !== 'edit' || !builder) return\n  builder.updateModuleSettings(props.module.id, { title: e.target.innerText })\n}\n\nconst onMessageBlur = (e: any) => {\n  if (props.mode !== 'edit' || !builder) return\n  builder.updateModuleSettings(props.module.id, { message: e.target.innerText })\n}\n</script>\n\n<style scoped>\n.alert-block { width: 100%; }\n\n.alert-block :deep(.alert) {\n  will-change: opacity, transform;\n}\n\n.alert-block :deep(.alert:hover) {\n  opacity: var(--hover-opacity);\n}\n</style>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/shared/blocks/ContactFormBlock.vue","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":79,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":79,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3117,3120],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3117,3120],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":86,"column":81,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":86,"endColumn":84,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3277,3280],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3277,3280],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":101,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":101,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3617,3620],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3617,3620],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n  <BaseBlock \n    :module=\"module\" \n    :mode=\"mode\" \n    :device=\"device\"\n    class=\"contact-form-block transition-colors duration-300\"\n    :id=\"settings.html_id\"\n    :aria-label=\"settings.aria_label || 'Contact Form'\"\n    :style=\"cardStyles\"\n  >\n    <template #default=\"{ settings: blockSettings }\">\n      <div \n        class=\"contact-form-container mx-auto\" \n        :style=\"containerStyles\"\n      >\n        <!-- Header -->\n        <div v-if=\"blockSettings.title || blockSettings.description\" class=\"form-header text-center mb-10\">\n          <h2 v-if=\"blockSettings.title\" class=\"form-title text-3xl font-bold mb-3\" :style=\"titleStyles\">{{ blockSettings.title }}</h2>\n          <p v-if=\"blockSettings.description\" class=\"form-description opacity-70\" :style=\"descriptionStyles\">{{ blockSettings.description }}</p>\n        </div>\n        \n        <!-- Fields Container -->\n        <form @submit.prevent=\"handleSubmit\" class=\"form-grid grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\n          <!-- Builder Mode -->\n          <template v-if=\"mode === 'edit'\">\n              <slot />\n          </template>\n          \n          <!-- Renderer Mode -->\n          <template v-else>\n              <ContactFieldBlock \n                v-for=\"child in nestedBlocks\" \n                :key=\"child.id\"\n                :module=\"child\"\n                mode=\"view\"\n              />\n          </template>\n          \n          <!-- Submit Button -->\n          <div class=\"form-footer col-span-full text-center mt-6\">\n            <Button \n              type=\"submit\" \n              class=\"h-14 px-12 rounded-full font-bold shadow-xl shadow-primary/20 transition-colors hover:-translate-y-1 active:translate-y-0\"\n              :style=\"buttonStyles\"\n              :disabled=\"isSubmitting\"\n            >\n              <Loader2 v-if=\"isSubmitting\" class=\"w-5 h-5 animate-spin mr-2\" />\n              <Send v-else class=\"w-5 h-5 mr-2\" />\n              <span>{{ isSubmitting ? (blockSettings.submittingText || 'Sending...') : (blockSettings.buttonText || 'Send Message') }}</span>\n            </Button>\n            \n            <div v-if=\"submitted\" class=\"success-message mt-6 p-4 rounded-lg bg-green-50 text-green-700 border border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800\">\n              {{ blockSettings.successMessage || 'Thank you! Your message has been sent.' }}\n            </div>\n          </div>\n        </form>\n      </div>\n    </template>\n  </BaseBlock>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from 'vue'\nimport BaseBlock from '../components/BaseBlock.vue'\nimport ContactFieldBlock from './ContactFieldBlock.vue'\nimport { Button } from '../ui'\nimport Send from 'lucide-vue-next/dist/esm/icons/send.js';\nimport Loader2 from 'lucide-vue-next/dist/esm/icons/loader-circle.js';import { \n  getTypographyStyles,\n  getLayoutStyles,\n  getVal\n} from '../utils/styleUtils'\nimport type { BlockInstance } from '@/types/builder'\n\nconst props = withDefaults(defineProps<{\n  module: BlockInstance\n  mode?: 'view' | 'edit'\n  device?: 'desktop' | 'tablet' | 'mobile'\n  nestedBlocks?: any[]\n}>(), {\n  mode: 'view',\n  device: 'desktop',\n  nestedBlocks: () => []\n})\n\nconst settings = computed(() => (props.module.settings || {}) as Record<string, any>)\n\nconst isSubmitting = ref(false)\nconst submitted = ref(false)\n\nconst handleSubmit = () => {\n    if (props.mode === 'edit') return\n    isSubmitting.value = true\n    setTimeout(() => {\n        isSubmitting.value = false\n        submitted.value = true\n    }, 1500)\n}\n\nconst cardStyles = computed(() => {\n    const styles: Record<string, any> = {}\n    const hoverScale = getVal(settings.value, 'hover_scale', props.device) || 1\n    const hoverBrightness = getVal(settings.value, 'hover_brightness', props.device) || 100\n    \n    styles['--hover-scale'] = hoverScale\n    styles['--hover-brightness'] = `${hoverBrightness}%`\n    \n    return styles\n})\n\nconst containerStyles = computed(() => {\n    return getLayoutStyles(settings.value, props.device)\n})\n\nconst titleStyles = computed(() => getTypographyStyles(settings.value, 'title_', props.device))\nconst descriptionStyles = computed(() => getTypographyStyles(settings.value, 'description_', props.device))\n\nconst buttonStyles = computed(() => {\n    const styles = getTypographyStyles(settings.value, 'button_', props.device)\n    return {\n        ...styles,\n        backgroundColor: settings.value.buttonBackgroundColor || '',\n        color: settings.value.buttonTextColor || ''\n    }\n})\n</script>\n\n<style scoped>\n.contact-form-block { width: 100%; }\n.contact-form-block {\n    transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), filter 0.3s ease;\n}\n.contact-form-block:hover {\n    transform: scale(var(--hover-scale, 1));\n    filter: brightness(var(--hover-brightness, 100%));\n}\n.success-message { animation: fadeIn 0.3s ease-out; }\n@keyframes fadeIn {\n  from { opacity: 0; transform: translateY(10px); }\n  to { opacity: 1; transform: translateY(0); }\n}\n</style>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/shared/blocks/FormCheckboxBlock.vue","messages":[{"ruleId":"vue/no-unused-vars","severity":2,"message":"'blockMode' is defined but never used.","line":3,"column":33,"nodeType":"Identifier","messageId":"unusedVariable","endLine":3,"endColumn":42},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":46,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1693,1696],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1693,1696],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1765,1768],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1765,1768],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n  <BaseBlock :module=\"module\" :mode=\"mode\" :device=\"device\">\n    <template #default=\"{ mode: blockMode, settings, device: blockDevice }\">\n      <div \n        class=\"form-field-block\"\n        :style=\"[getLayoutStyles(settings, blockDevice)]\"\n      >\n        <label \n          v-if=\"getVal(settings, 'label')\"\n          class=\"block text-sm font-medium mb-1.5\"\n        >\n          {{ getVal(settings, 'label') }}\n          <span v-if=\"getVal(settings, 'is_required')\" class=\"text-destructive\">*</span>\n        </label>\n        \n        <div class=\"space-y-2\">\n          <div v-for=\"option in getVal(settings, 'options')\" :key=\"option.value\" class=\"flex items-center space-x-2\">\n            <input \n              type=\"checkbox\"\n              :id=\"`check-${module.id}-${option.value}`\"\n              :value=\"option.value\"\n              v-model=\"value\"\n              :disabled=\"mode === 'edit'\"\n              class=\"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary\"\n            />\n            <label :for=\"`check-${module.id}-${option.value}`\" class=\"text-sm cursor-pointer select-none\">{{ option.label }}</label>\n          </div>\n        </div>\n\n        <p v-if=\"getVal(settings, 'help_text')\" class=\"mt-1.5 text-xs text-muted-foreground\">\n          {{ getVal(settings, 'help_text') }}\n        </p>\n      </div>\n    </template>\n  </BaseBlock>\n</template>\n\n<script setup lang=\"ts\">\nimport { inject, computed } from 'vue'\nimport BaseBlock from '../components/BaseBlock.vue'\nimport { getVal, getLayoutStyles } from '../utils/styleUtils'\nimport type { BlockProps } from '../../types/builder'\n\nconst props = defineProps<BlockProps>()\n\nconst formState = inject<Record<string, any>>('formState', {})\nconst updateFormValue = inject<(id: string, val: any) => void>('updateFormValue', () => {})\n\nconst fieldId = computed(() => getVal(props.settings || {}, 'field_id'))\n\nconst value = computed({\n  get: () => {\n    const val = fieldId.value ? formState[fieldId.value] : []\n    return Array.isArray(val) ? val : [val].filter(Boolean)\n  },\n  set: (val) => {\n    if (fieldId.value) {\n      updateFormValue(fieldId.value, val)\n    }\n  }\n})\n</script>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/shared/blocks/FormInputBlock.vue","messages":[{"ruleId":"vue/no-unused-vars","severity":2,"message":"'blockMode' is defined but never used.","line":3,"column":33,"nodeType":"Identifier","messageId":"unusedVariable","endLine":3,"endColumn":42},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":51,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1880,1883],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1880,1883],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":52,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1952,1955],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1952,1955],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n  <BaseBlock :module=\"module\" :mode=\"mode\" :device=\"device\">\n    <template #default=\"{ mode: blockMode, settings, device: blockDevice }\">\n      <div \n        class=\"form-field-block\"\n        :style=\"[getLayoutStyles(settings, blockDevice)]\"\n      >\n        <label \n          v-if=\"getVal(settings, 'label')\"\n          class=\"block text-sm font-medium mb-1.5\"\n          :style=\"{ \n            color: getVal(settings, 'label_text_color'),\n            fontSize: getVal(settings, 'label_font_size', blockDevice)\n          }\"\n        >\n          {{ getVal(settings, 'label') }}\n          <span v-if=\"getVal(settings, 'is_required')\" class=\"text-destructive\">*</span>\n        </label>\n        \n        <div class=\"relative\">\n          <input\n            v-model=\"value\"\n            :type=\"getVal(settings, 'type') || 'text'\"\n            :placeholder=\"getVal(settings, 'placeholder')\"\n            class=\"w-full px-3 py-2 border border-input rounded-md bg-transparent focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all\"\n            :style=\"{ \n              backgroundColor: getVal(settings, 'field_bg_color'),\n              ...getTypographyStyles(settings, '', blockDevice)\n            }\"\n            :disabled=\"mode === 'edit'\"\n            :required=\"getVal(settings, 'is_required')\"\n          />\n        </div>\n\n        <p v-if=\"getVal(settings, 'help_text')\" class=\"mt-1.5 text-xs text-muted-foreground\">\n          {{ getVal(settings, 'help_text') }}\n        </p>\n      </div>\n    </template>\n  </BaseBlock>\n</template>\n\n<script setup lang=\"ts\">\nimport { inject, computed } from 'vue'\nimport BaseBlock from '../components/BaseBlock.vue'\nimport { getTypographyStyles, getVal, getLayoutStyles } from '../utils/styleUtils'\nimport type { BlockProps } from '../../types/builder'\n\nconst props = defineProps<BlockProps>()\n\nconst formState = inject<Record<string, any>>('formState', {})\nconst updateFormValue = inject<(id: string, val: any) => void>('updateFormValue', () => {})\n\nconst fieldId = computed(() => getVal(props.settings || {}, 'field_id'))\n\nconst value = computed({\n  get: () => fieldId.value ? formState[fieldId.value] : '',\n  set: (val) => {\n    if (fieldId.value) {\n      updateFormValue(fieldId.value, val)\n    }\n  }\n})\n</script>\n\n<style scoped>\n.form-field-block {\n  width: 100%;\n}\n</style>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/shared/blocks/FormRadioBlock.vue","messages":[{"ruleId":"vue/no-unused-vars","severity":2,"message":"'blockMode' is defined but never used.","line":3,"column":33,"nodeType":"Identifier","messageId":"unusedVariable","endLine":3,"endColumn":42},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1725,1728],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1725,1728],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":48,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1797,1800],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1797,1800],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n  <BaseBlock :module=\"module\" :mode=\"mode\" :device=\"device\">\n    <template #default=\"{ mode: blockMode, settings, device: blockDevice }\">\n      <div \n        class=\"form-field-block\"\n        :style=\"[getLayoutStyles(settings, blockDevice)]\"\n      >\n        <label \n          v-if=\"getVal(settings, 'label')\"\n          class=\"block text-sm font-medium mb-1.5\"\n        >\n          {{ getVal(settings, 'label') }}\n          <span v-if=\"getVal(settings, 'is_required')\" class=\"text-destructive\">*</span>\n        </label>\n        \n        <div class=\"space-y-2\">\n          <div v-for=\"option in getVal(settings, 'options')\" :key=\"option.value\" class=\"flex items-center space-x-2\">\n            <input \n              type=\"radio\"\n              :id=\"`radio-${module.id}-${option.value}`\"\n              :name=\"`radio-${module.id}`\"\n              :value=\"option.value\"\n              v-model=\"value\"\n              :disabled=\"mode === 'edit'\"\n              class=\"h-4 w-4 border-gray-300 text-primary focus:ring-primary\"\n            />\n            <label :for=\"`radio-${module.id}-${option.value}`\" class=\"text-sm cursor-pointer select-none\">{{ option.label }}</label>\n          </div>\n        </div>\n\n        <p v-if=\"getVal(settings, 'help_text')\" class=\"mt-1.5 text-xs text-muted-foreground\">\n          {{ getVal(settings, 'help_text') }}\n        </p>\n      </div>\n    </template>\n  </BaseBlock>\n</template>\n\n<script setup lang=\"ts\">\nimport { inject, computed } from 'vue'\nimport BaseBlock from '../components/BaseBlock.vue'\nimport { getVal, getLayoutStyles } from '../utils/styleUtils'\nimport type { BlockProps } from '../../types/builder'\n\nconst props = defineProps<BlockProps>()\n\nconst formState = inject<Record<string, any>>('formState', {})\nconst updateFormValue = inject<(id: string, val: any) => void>('updateFormValue', () => {})\n\nconst fieldId = computed(() => getVal(props.settings || {}, 'field_id'))\n\nconst value = computed({\n  get: () => fieldId.value ? formState[fieldId.value] : '',\n  set: (val) => {\n    if (fieldId.value) {\n      updateFormValue(fieldId.value, val)\n    }\n  }\n})\n</script>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/shared/blocks/FormSelectBlock.vue","messages":[{"ruleId":"vue/no-unused-vars","severity":2,"message":"'blockMode' is defined but never used.","line":3,"column":33,"nodeType":"Identifier","messageId":"unusedVariable","endLine":3,"endColumn":42},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":51,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2034,2037],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2034,2037],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":52,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2106,2109],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2106,2109],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n  <BaseBlock :module=\"module\" :mode=\"mode\" :device=\"device\">\n    <template #default=\"{ mode: blockMode, settings, device: blockDevice }\">\n      <div \n        class=\"form-field-block\"\n        :style=\"[getLayoutStyles(settings, blockDevice)]\"\n      >\n        <label \n          v-if=\"getVal(settings, 'label')\"\n          class=\"block text-sm font-medium mb-1.5\"\n        >\n          {{ getVal(settings, 'label') }}\n          <span v-if=\"getVal(settings, 'is_required')\" class=\"text-destructive\">*</span>\n        </label>\n        \n        <div class=\"relative\">\n          <select\n            v-model=\"value\"\n            class=\"w-full px-3 py-2 border border-input rounded-md bg-transparent appearance-none disabled:opacity-100\"\n            :disabled=\"mode === 'edit'\"\n            :required=\"getVal(settings, 'is_required')\"\n          >\n            <option value=\"\" disabled>{{ getVal(settings, 'placeholder') || 'Select an option' }}</option>\n            <option v-for=\"option in getVal(settings, 'options')\" :key=\"option.value\" :value=\"option.value\">\n              {{ option.label }}\n            </option>\n          </select>\n          <div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-muted-foreground\">\n            <svg class=\"h-4 w-4 fill-current\" viewBox=\"0 0 20 20\">\n              <path d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" />\n            </svg>\n          </div>\n        </div>\n\n        <p v-if=\"getVal(settings, 'help_text')\" class=\"mt-1.5 text-xs text-muted-foreground\">\n          {{ getVal(settings, 'help_text') }}\n        </p>\n      </div>\n    </template>\n  </BaseBlock>\n</template>\n\n<script setup lang=\"ts\">\nimport { inject, computed } from 'vue'\nimport BaseBlock from '../components/BaseBlock.vue'\nimport { getVal, getLayoutStyles } from '../utils/styleUtils'\nimport type { BlockProps } from '../../types/builder'\n\nconst props = defineProps<BlockProps>()\n\nconst formState = inject<Record<string, any>>('formState', {})\nconst updateFormValue = inject<(id: string, val: any) => void>('updateFormValue', () => {})\n\nconst fieldId = computed(() => getVal(props.settings || {}, 'field_id'))\n\nconst value = computed({\n  get: () => fieldId.value ? formState[fieldId.value] : '',\n  set: (val) => {\n    if (fieldId.value) {\n      updateFormValue(fieldId.value, val)\n    }\n  }\n})\n</script>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/shared/blocks/FormTextareaBlock.vue","messages":[{"ruleId":"vue/no-unused-vars","severity":2,"message":"'blockMode' is defined but never used.","line":3,"column":33,"nodeType":"Identifier","messageId":"unusedVariable","endLine":3,"endColumn":42},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1474,1477],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1474,1477],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1546,1549],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1546,1549],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n  <BaseBlock :module=\"module\" :mode=\"mode\" :device=\"device\">\n    <template #default=\"{ mode: blockMode, settings, device: blockDevice }\">\n      <div \n        class=\"form-field-block\"\n        :style=\"[getLayoutStyles(settings, blockDevice)]\"\n      >\n        <label \n          v-if=\"getVal(settings, 'label')\"\n          class=\"block text-sm font-medium mb-1.5\"\n        >\n          {{ getVal(settings, 'label') }}\n          <span v-if=\"getVal(settings, 'is_required')\" class=\"text-destructive\">*</span>\n        </label>\n        \n        <textarea\n          v-model=\"value\"\n          :rows=\"getVal(settings, 'rows') || 4\"\n          :placeholder=\"getVal(settings, 'placeholder')\"\n          class=\"w-full px-3 py-2 border border-input rounded-md bg-transparent focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all\"\n          :disabled=\"mode === 'edit'\"\n          :required=\"getVal(settings, 'is_required')\"\n        ></textarea>\n\n        <p v-if=\"getVal(settings, 'help_text')\" class=\"mt-1.5 text-xs text-muted-foreground\">\n          {{ getVal(settings, 'help_text') }}\n        </p>\n      </div>\n    </template>\n  </BaseBlock>\n</template>\n\n<script setup lang=\"ts\">\nimport { inject, computed } from 'vue'\nimport BaseBlock from '../components/BaseBlock.vue'\nimport { getVal, getLayoutStyles } from '../utils/styleUtils'\nimport type { BlockProps } from '../../types/builder'\n\nconst props = defineProps<BlockProps>()\n\nconst formState = inject<Record<string, any>>('formState', {})\nconst updateFormValue = inject<(id: string, val: any) => void>('updateFormValue', () => {})\n\nconst fieldId = computed(() => getVal(props.settings || {}, 'field_id'))\n\nconst value = computed({\n  get: () => fieldId.value ? formState[fieldId.value] : '',\n  set: (val) => {\n    if (fieldId.value) {\n      updateFormValue(fieldId.value, val)\n    }\n  }\n})\n</script>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/shared/blocks/GroupCarouselBlock.vue","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":83,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":83,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3673,3676],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3673,3676],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":85,"column":81,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":85,"endColumn":84,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3842,3845],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3842,3845],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":87,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":87,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3878,3881],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3878,3881],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n  <BaseBlock \n    :module=\"module\" \n    :settings=\"settings\" \n    :mode=\"mode\"\n    class=\"group-carousel-block transition-colors duration-300\"\n    :id=\"settings.html_id\"\n    :aria-label=\"settings.aria_label || 'Group Carousel'\"\n  >\n    <div class=\"carousel-container relative group\" :style=\"containerStyles\">\n        <Carousel \n          class=\"w-full\" \n          :opts=\"carouselOptions\"\n          :plugins=\"carouselPlugins\"\n        >\n          <CarouselContent class=\"-ml-4\">\n             <!-- Builder Mode -->\n             <template v-if=\"mode === 'edit'\">\n                <slot />\n                <!-- Fallback placeholders if no children -->\n                <template v-if=\"!module.children?.length\">\n                  <CarouselItem v-for=\"i in 3\" :key=\"i\" class=\"pl-4\" :class=\"slideBasisClass\">\n                      <div class=\"slide-placeholder h-[300px] flex flex-col items-center justify-center p-12 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-[2rem] text-slate-400 gap-4 transition-colors hover:border-primary/50 group-hover:bg-slate-50/50 dark:group-hover:bg-slate-900/50\">\n                          <div class=\"w-16 h-16 rounded-2xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center shadow-sm\">\n                              <Layers class=\"w-8 h-8 opacity-40 text-primary\" />\n                          </div>\n                          <div class=\"text-center\">\n                              <span class=\"font-black text-slate-600 dark:text-slate-400 block tracking-tight\">Slide {{ i }}</span>\n                              <small class=\"opacity-60 font-medium tracking-wide\">Drop components here</small>\n                          </div>\n                      </div>\n                  </CarouselItem>\n                </template>\n             </template>\n\n             <!-- Renderer Mode -->\n             <template v-else>\n                <CarouselItem \n                  v-for=\"child in (module.children || [])\" \n                  :key=\"child.id\" \n                  class=\"pl-4\"\n                  :class=\"slideBasisClass\"\n                >\n                    <BlockRenderer\n                      v-if=\"BlockRenderer\"\n                      :block=\"child\"\n                      :mode=\"mode\"\n                    />\n                </CarouselItem>\n             </template>\n          </CarouselContent>\n\n          <!-- Navigation -->\n          <template v-if=\"showControls\">\n              <CarouselPrevious v-if=\"settings.showArrows !== false\" class=\"left-2 opacity-0 group-hover:opacity-100 transition-[width] duration-500 hover:scale-110 active:scale-95 shadow-xl border-none\" :style=\"arrowStyles\" />\n              <CarouselNext v-if=\"settings.showArrows !== false\" class=\"right-2 opacity-0 group-hover:opacity-100 transition-[width] duration-500 hover:scale-110 active:scale-95 shadow-xl border-none\" :style=\"arrowStyles\" />\n          </template>\n        </Carousel>\n    </div>\n  </BaseBlock>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, inject } from 'vue'\nimport BaseBlock from '../components/BaseBlock.vue'\nimport Carousel from '../ui/Carousel.vue'\nimport CarouselContent from '../ui/CarouselContent.vue'\nimport CarouselItem from '../ui/CarouselItem.vue'\nimport CarouselNext from '../ui/CarouselNext.vue'\nimport CarouselPrevious from '../ui/CarouselPrevious.vue'\nimport Autoplay from 'embla-carousel-autoplay'\nimport Layers from 'lucide-vue-next/dist/esm/icons/layers.js';import { \n  getVal,\n  getLayoutStyles\n} from '../utils/styleUtils'\nimport type { BlockInstance } from '@/types/builder'\n\nconst props = defineProps<{\n  module: BlockInstance\n  mode: 'view' | 'edit'\n}>()\n\nconst builder = inject<any>('builder', null)\nconst device = computed(() => builder?.device?.value || 'desktop')\nconst settings = computed(() => (props.module.settings || {}) as Record<string, any>)\n\nconst BlockRenderer = inject<any>('BlockRenderer', null)\n\nconst slidesPerView = computed(() => {\n  const val = getVal(settings.value, 'slidesPerView', device.value)\n  return parseInt(val) || 1\n})\n\nconst slideBasisClass = computed(() => {\n    const spv = slidesPerView.value\n    if (device.value === 'mobile') return 'basis-full'\n    if (device.value === 'tablet') return spv > 1 ? 'basis-1/2' : 'basis-full'\n    \n    if (spv === 1) return 'basis-full'\n    if (spv === 2) return 'basis-1/2'\n    if (spv === 3) return 'basis-1/3'\n    if (spv === 4) return 'basis-1/4'\n    if (spv === 5) return 'basis-1/5'\n    if (spv === 6) return 'basis-1/6'\n    return 'basis-full'\n})\n\nconst totalSlides = computed(() => props.module.children?.length || 0)\nconst showControls = computed(() => totalSlides.value > slidesPerView.value)\n\nconst carouselOptions = computed(() => ({\n    align: 'start' as const,\n    loop: settings.value.loop !== false,\n    dragFree: settings.value.dragFree || false,\n    slidesToScroll: slidesPerView.value\n}))\n\nconst carouselPlugins = computed(() => {\n    const plugins = []\n    if (settings.value.autoplay && props.mode === 'view') {\n        plugins.push(Autoplay({\n            delay: parseInt(settings.value.autoplaySpeed) || 5000,\n            stopOnInteraction: false,\n            stopOnMouseEnter: true\n        }))\n    }\n    return plugins\n})\n\nconst containerStyles = computed(() => {\n    return getLayoutStyles(settings.value, device.value)\n})\n\nconst arrowStyles = computed(() => ({\n  backgroundColor: settings.value.arrowBackgroundColor || 'var(--primary)',\n  color: settings.value.arrowColor || '#ffffff'\n}))\n</script>\n\n<style scoped>\n.group-carousel-block { width: 100%; }\n</style>\n\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/shared/blocks/PostTitleBlock.vue","messages":[{"ruleId":"vue/multiline-html-element-content-newline","severity":1,"message":"Expected 1 line break after opening tag (`<component>`), but no line breaks found.","line":19,"column":8,"nodeType":"HTMLTagClose","messageId":"unexpectedAfterClosingBracket","endLine":19,"endColumn":8,"fix":{"range":[579,579],"text":"\n"}},{"ruleId":"vue/multiline-html-element-content-newline","severity":1,"message":"Expected 1 line break before closing tag (`</component>`), but no line breaks found.","line":19,"column":26,"nodeType":"HTMLEndTagOpen","messageId":"unexpectedBeforeOpeningBracket","endLine":19,"endColumn":26,"fix":{"range":[597,597],"text":"\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1116,1119],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1116,1119],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":81,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":84,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1218,1221],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1218,1221],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":57,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1605,1608],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1605,1608],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":2,"source":"<template>\n  <BaseBlock \n    :module=\"module\" \n    :mode=\"mode\"\n    :device=\"device\"\n    class=\"post-title-block transition-[width] duration-500\"\n    :id=\"settings.html_id\"\n    :aria-label=\"settings.aria_label || 'Post Title'\"\n    :style=\"cardStyles\"\n  >\n    <div class=\"w-full\" :style=\"containerStyles\">\n      <component \n        :is=\"tag\" \n        class=\"post-title transition-[width] duration-500 font-serif leading-tight outline-none\" \n        :class=\"alignmentClass\"\n        :style=\"titleStyles\"\n        :contenteditable=\"mode === 'edit'\"\n        @blur=\"updateTitle\"\n      >{{ displayTitle }}</component>\n    </div>\n  </BaseBlock>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, inject } from 'vue'\nimport BaseBlock from '../components/BaseBlock.vue'\nimport { \n  getVal,\n  getLayoutStyles,\n  getTypographyStyles\n} from '../utils/styleUtils'\nimport type { BlockInstance } from '@/types/builder'\n\nconst props = withDefaults(defineProps<{\n  module: BlockInstance;\n  mode?: 'view' | 'edit';\n  device?: 'desktop' | 'tablet' | 'mobile';\n}>(), {\n  mode: 'view',\n  device: 'desktop'\n})\n\nconst builder = inject<any>('builder', null)\nconst settings = computed(() => (props.module.settings || {}) as Record<string, any>)\n\n// Dynamic data injection\nconst postTitle = inject<string>('postTitle', 'Dynamic Post Title')\n\nconst displayTitle = computed(() => {\n    if (props.mode === 'edit') return settings.value.title || postTitle\n    return postTitle\n})\n\nconst tag = computed(() => getVal(settings.value, 'tag', props.device) || 'h1')\n\nconst cardStyles = computed(() => {\n    const styles: Record<string, any> = {}\n    const hoverScale = getVal(settings.value, 'hover_scale', props.device) || 1\n    const hoverBrightness = getVal(settings.value, 'hover_brightness', props.device) || 100\n    \n    styles['--hover-scale'] = hoverScale\n    styles['--hover-brightness'] = `${hoverBrightness}%`\n    \n    return styles\n})\n\nconst containerStyles = computed(() => {\n    return getLayoutStyles(settings.value, props.device)\n})\n\nconst alignmentClass = computed(() => {\n    const align = getVal(settings.value, 'alignment', props.device) || 'left'\n    return `text-${align}`\n})\n\nconst updateTitle = (event: FocusEvent) => {\n    if (props.mode !== 'edit' || !builder) return\n    const text = (event.target as HTMLElement).innerText\n    builder.updateModuleSettings(props.module.id, { title: text })\n}\n\nconst titleStyles = computed(() => {\n  return getTypographyStyles(settings.value, '', props.device)\n})\n</script>\n\n<style scoped>\n.post-title-block {\n    width: 100%;\n    transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), filter 0.4s ease;\n}\n.post-title-block:hover {\n    transform: scale(var(--hover-scale, 1));\n    filter: brightness(var(--hover-brightness, 100%));\n}\n.post-title { margin: 0; word-wrap: break-word; }\n</style>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/shared/blocks/StarRatingBlock.vue","messages":[{"ruleId":"vue/multiline-html-element-content-newline","severity":1,"message":"Expected 1 line break after opening tag (`<Badge>`), but no line breaks found.","line":49,"column":10,"nodeType":"HTMLTagClose","messageId":"unexpectedAfterClosingBracket","endLine":49,"endColumn":10,"fix":{"range":[1661,1661],"text":"\n"}},{"ruleId":"vue/multiline-html-element-content-newline","severity":1,"message":"Expected 1 line break before closing tag (`</badge>`), but no line breaks found.","line":49,"column":38,"nodeType":"HTMLEndTagOpen","messageId":"unexpectedBeforeOpeningBracket","endLine":49,"endColumn":38,"fix":{"range":[1689,1689],"text":"\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":84,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":84,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2793,2796],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2793,2796],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":86,"column":81,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":86,"endColumn":84,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2962,2965],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2962,2965],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":110,"column":106,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":110,"endColumn":109,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4184,4187],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4184,4187],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":111,"column":92,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":111,"endColumn":95,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4280,4283],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4280,4283],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":2,"source":"<template>\n  <BaseBlock\n    :module=\"module\"\n    :mode=\"mode\"\n    :settings=\"settings\"\n    class=\"star-rating-block transition-colors duration-300\"\n    :id=\"settings.html_id\"\n    :aria-label=\"settings.aria_label || 'Star Rating'\"\n  >\n    <div \n      class=\"star-rating-container flex items-center gap-4 flex-wrap\"\n      :style=\"containerStyles\"\n    >\n      <div class=\"stars-group flex gap-1\">\n        <div \n          v-for=\"i in maxRating\" \n          :key=\"i\" \n          class=\"relative\"\n          :style=\"{ width: starSize + 'px', height: starSize + 'px' }\"\n        >\n          <!-- Base / Empty Star -->\n          <Star \n            class=\"absolute inset-0\" \n            :style=\"{ color: emptyStarColor, width: starSize + 'px', height: starSize + 'px', fill: 'currentColor' }\" \n          />\n          <!-- Filled Star -->\n          <div \n            class=\"absolute inset-0 overflow-hidden text-amber-400\" \n            :style=\"{ \n                width: getStarFillWidth(i), \n                color: starColor,\n                transition: 'width 0.3s ease'\n            }\"\n          >\n            <Star \n                class=\"shrink-0\" \n                :style=\"{ width: starSize + 'px', height: starSize + 'px', fill: 'currentColor' }\" \n            />\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"rating-info flex items-center gap-3\">\n        <Badge \n          v-if=\"getVal(settings, 'showNumber', device) !== false\" \n          variant=\"secondary\"\n          class=\"rating-number font-black text-lg h-9 px-4 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white border-none\" \n          :style=\"textStyles\"\n        >{{ ratingValue.toFixed(1) }}</Badge>\n        \n        <div v-if=\"getVal(settings, 'showReviewCount', device) !== false\" class=\"review-count-wrapper flex items-center gap-1.5 text-slate-400 dark:text-slate-500 font-medium text-sm\">\n          <span class=\"opacity-30 font-bold ml-1\">(</span>\n          <span \n            class=\"review-number outline-none\"\n            :style=\"reviewStyles\"\n          >{{ reviewCount }}</span>\n          <span \n            class=\"review-label outline-none\"\n            :style=\"reviewStyles\"\n          >{{ reviewText }}</span>\n          <span class=\"opacity-30 font-bold\">)</span>\n        </div>\n      </div>\n    </div>\n  </BaseBlock>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, inject } from 'vue'\nimport Star from 'lucide-vue-next/dist/esm/icons/star.js';import { Badge } from '../ui'\nimport BaseBlock from '../components/BaseBlock.vue'\nimport { \n  getVal, \n  getLayoutStyles,\n  getTypographyStyles \n} from '../utils/styleUtils'\nimport type { BlockInstance } from '@/types/builder'\n\nconst props = defineProps<{\n  module: BlockInstance\n  mode: 'view' | 'edit'\n}>()\n\nconst builder = inject<any>('builder', null)\nconst device = computed(() => builder?.device?.value || 'desktop')\nconst settings = computed(() => (props.module.settings || {}) as Record<string, any>)\n\nconst ratingValue = computed(() => parseFloat(getVal(settings.value, 'rating', device.value)) || 4.5)\nconst maxRating = computed(() => parseInt(getVal(settings.value, 'maxRating', device.value)) || 5)\nconst reviewCount = computed(() => getVal(settings.value, 'reviewCount', device.value) || 0)\nconst reviewText = computed(() => getVal(settings.value, 'reviewText', device.value) || 'reviews')\n\nconst starSize = computed(() => parseInt(getVal(settings.value, 'starSize', device.value)) || 24)\nconst starColor = computed(() => getVal(settings.value, 'starColor', device.value) || '#f59e0b')\nconst emptyStarColor = computed(() => getVal(settings.value, 'emptyStarColor', device.value) || '#e2e8f0')\n\nconst getStarFillWidth = (i: number) => {\n  const rating = ratingValue.value\n  if (i <= Math.floor(rating)) return '100%'\n  if (i === Math.ceil(rating)) return `${(rating % 1) * 100}%`\n  return '0%'\n}\n\nconst containerStyles = computed(() => {\n  const layout = getLayoutStyles(settings.value, device.value)\n  const align = getVal(settings.value, 'alignment', device.value) || 'center'\n  \n  return {\n    ...layout,\n    justifyContent: (align === 'center' ? 'center' : (align === 'right' ? 'flex-end' : 'flex-start')) as any,\n    textAlign: (align === 'center' ? 'center' : (align === 'right' ? 'right' : 'left')) as any\n  }\n})\n\nconst textStyles = computed(() => getTypographyStyles(settings.value, 'text_', device.value))\nconst reviewStyles = computed(() => getTypographyStyles(settings.value, 'review_', device.value))\n\n</script>\n\n<style scoped>\n.star-rating-block { width: 100%; }\n.rating-number { transition: transform 0.2s ease; }\n.rating-number:hover { transform: scale(1.05); }\n</style>\n\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/shared/utils/performance.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[278,281],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[278,281],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[288,291],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[288,291],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[442,445],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[442,445],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[769,772],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[769,772],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[779,782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[779,782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[893,896],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[893,896],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Performance utilities for throttling and debouncing\n */\n\n/**\n * Creates a debounced function that delays invoking func until after wait milliseconds \n * have elapsed since the last time the debounced function was invoked.\n */\nexport function debounce<T extends (...args: any[]) => any>(func: T, wait: number): (...args: Parameters<T>) => void {\n    let timeout: ReturnType<typeof setTimeout> | null = null;\n\n    return function (this: any, ...args: Parameters<T>) {\n        if (timeout) clearTimeout(timeout);\n\n        timeout = setTimeout(() => {\n            func.apply(this, args);\n        }, wait);\n    };\n}\n\n/**\n * Creates a throttled function that only invokes func at most once per every wait milliseconds.\n */\nexport function throttle<T extends (...args: any[]) => any>(func: T, wait: number): (...args: Parameters<T>) => void {\n    let lastTime = 0;\n\n    return function (this: any, ...args: Parameters<T>) {\n        const now = Date.now();\n        if (now - lastTime >= wait) {\n            func.apply(this, args);\n            lastTime = now;\n        }\n    };\n}\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/shared/utils/styleUtils.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":108,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":111,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[323,326],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[323,326],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1067,1070],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1067,1070],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":92,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":95,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1657,1660],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1657,1660],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":136,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":136,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5464,5467],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5464,5467],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":144,"column":128,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":144,"endColumn":131,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6050,6053],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6050,6053],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":145,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":145,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6087,6090],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6087,6090],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":177,"column":147,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":177,"endColumn":150,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7507,7510],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7507,7510],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":181,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":181,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7635,7638],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7635,7638],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":192,"column":131,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":192,"endColumn":134,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8129,8132],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8129,8132],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":195,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":195,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8274,8277],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8274,8277],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":228,"column":137,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":228,"endColumn":140,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9547,9550],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9547,9550],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":237,"column":140,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":237,"endColumn":143,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10048,10051],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10048,10051],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":246,"column":103,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":246,"endColumn":106,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10494,10497],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10494,10497],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":247,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":247,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10531,10534],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10531,10534],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":273,"column":107,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":273,"endColumn":110,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11524,11527],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11524,11527],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":275,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":275,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11590,11593],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11590,11593],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":289,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":289,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12087,12090],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12087,12090],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":294,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":294,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12323,12326],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12323,12326],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":294,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":294,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12350,12353],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12350,12353],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":351,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":351,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14743,14746],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14743,14746],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":359,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":359,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15290,15293],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15290,15293],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":366,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":366,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15557,15560],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15557,15560],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":382,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":382,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16613,16616],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16613,16616],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":396,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":396,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17226,17229],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17226,17229],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":400,"column":74,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":400,"endColumn":77,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17545,17548],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17545,17548],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":400,"column":105,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":400,"endColumn":108,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17576,17579],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17576,17579],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":400,"column":137,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":400,"endColumn":140,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17608,17611],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17608,17611],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":404,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":404,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17774,17777],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17774,17777],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":404,"column":83,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":404,"endColumn":86,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17813,17816],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17813,17816],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":442,"column":103,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":442,"endColumn":106,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[19450,19453],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[19450,19453],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":443,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":443,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[19487,19490],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[19487,19490],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":475,"column":103,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":475,"endColumn":106,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[20888,20891],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[20888,20891],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":476,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":476,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[20925,20928],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[20925,20928],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":523,"column":106,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":523,"endColumn":109,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[22875,22878],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[22875,22878],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":555,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":555,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[24583,24586],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[24583,24586],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":632,"column":106,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":632,"endColumn":109,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[27074,27077],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[27074,27077],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":633,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":633,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[27111,27114],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[27111,27114],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":663,"column":107,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":663,"endColumn":110,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[28203,28206],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[28203,28206],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":664,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":664,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[28240,28243],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[28240,28243],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":706,"column":108,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":706,"endColumn":111,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[29911,29914],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[29911,29914],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":707,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":707,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[29951,29954],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[29951,29954],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":726,"column":107,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":726,"endColumn":110,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[30817,30820],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[30817,30820],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":727,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":727,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[30854,30857],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[30854,30857],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":763,"column":123,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":763,"endColumn":126,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[32280,32283],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[32280,32283],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":764,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":764,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[32317,32320],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[32317,32320],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":791,"column":130,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":791,"endColumn":133,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[33305,33308],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[33305,33308],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":792,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":792,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[33342,33345],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[33342,33345],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":812,"column":122,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":812,"endColumn":125,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[34012,34015],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[34012,34015],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":813,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":813,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[34049,34052],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[34049,34052],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":49,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { BackgroundPatterns, BackgroundMasks } from './AssetLibrary'\nimport type { ModuleSettings } from '../../types/builder'\n\n/**\n * Universal Style Utilities for both Builder (Editor) and Renderer (Frontend)\n */\n\nexport function getResponsiveValue(settings: ModuleSettings, baseKey: string, device: string = 'desktop'): any {\n    if (!settings) return undefined\n    if (device === 'desktop') return settings[baseKey]\n\n    // Normalize device names (mobile, phone, tablet)\n    const suffix = device === 'mobile' || device === 'phone' ? '_mobile' : `_${device}`\n    const deviceValue = settings[baseKey + suffix]\n\n    // Fallback: Phone/Mobile -> Tablet -> Desktop\n    if (deviceValue !== undefined && deviceValue !== null && deviceValue !== '') return deviceValue\n\n    if (device === 'mobile' || device === 'phone') {\n        const tabletValue = settings[baseKey + '_tablet']\n        if (tabletValue !== undefined && tabletValue !== null && tabletValue !== '') return tabletValue\n    }\n\n    return settings[baseKey]\n}\n\nexport const generateGradientCSS = (gradient: any) => {\n    if (!gradient || !gradient.stops || gradient.stops.length < 2) return ''\n    const stops = [...gradient.stops]\n        .sort((a, b) => a.position - b.position)\n        .map(s => `${s.color} ${s.position}%`)\n        .join(', ')\n    return `linear-gradient(${gradient.direction || '180deg'}, ${stops})`\n}\n\n/**\n * Robust value getter that handles:\n * 1. camelCase vs snake_case fallback\n * 2. Aliases (e.g. bgColor vs backgroundColor)\n * 3. Responsive objects (desktop/tablet/mobile)\n */\nexport function getVal(settings: ModuleSettings, key: string, device: string = 'desktop'): any {\n    if (!settings) return undefined\n\n    const aliases: Record<string, string[]> = {\n        'backgroundColor': ['bgColor', 'background_color'],\n        'text_color': ['color', 'textColor'],\n        'text_shadow': ['textShadow'],\n        'backgroundImage': ['bgImage', 'background_image', 'image'],\n        'backgroundSize': ['bgSize', 'background_size', 'size'],\n        'backgroundPosition': ['bgPos', 'bgPosition', 'background_position', 'position'],\n        'backgroundRepeat': ['bgRepeat', 'background_repeat', 'repeat'],\n        'borderRadius': ['radius', 'r', 'border_radius'],\n        'minHeight': ['min_height'],\n        'maxHeight': ['max_height'],\n        'minWidth': ['min_width'],\n        'maxWidth': ['max_width'],\n        'layoutType': ['layout_type'],\n        'displayStyle': ['display_style', 'style'],\n        'direction': ['flexDirection', 'flex_direction', 'grid_direction'],\n        'flexWrap': ['flex_wrap', 'wrap'],\n        'justifyContent': ['justify_content'],\n        'alignItems': ['align_items'],\n        'gapX': ['gap_x', 'columnGap', 'column_gap'],\n        'gapY': ['gap_y', 'rowGap', 'row_gap'],\n        'fontSize': ['font_size', 'size'],\n        'fontWeight': ['font_weight', 'weight'],\n        'lineHeight': ['line_height'],\n        'letterSpacing': ['letter_spacing'],\n        'textAlign': ['text_align', 'alignment', 'align'],\n        'textDecoration': ['text_decoration'],\n        'textTransform': ['text_transform'],\n        'fontFamily': ['font_family', 'font'],\n        'fontStyle': ['font_style', 'style'],\n        'verticalAlign': ['vertical_align', 'vAlign'],\n        'value': ['percentage', 'percent', 'progress'],\n    }\n\n    const tryKeys = [key]\n    if (aliases[key]) tryKeys.push(...aliases[key])\n\n    // Support prefixed aliases (e.g. title_text_color -> title_color)\n    for (const [baseKey, propAliases] of Object.entries(aliases)) {\n        if (key.endsWith(`_${baseKey}`)) {\n            const prefix = key.substring(0, key.length - baseKey.length - 1)\n            propAliases.forEach(a => {\n                const aliasedKey = `${prefix}_${a}`\n                if (!tryKeys.includes(aliasedKey)) tryKeys.push(aliasedKey)\n            })\n        }\n    }\n\n    // Add snake_case and camelCase variants\n    const snake = key.replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`)\n    const camel = key.replace(/_([a-z])/g, (g) => g[1].toUpperCase())\n    if (!tryKeys.includes(snake)) tryKeys.push(snake)\n    if (!tryKeys.includes(camel)) tryKeys.push(camel)\n\n    // Also add camel/snake variants for aliases? \n    const originalTryKeys = [...tryKeys]\n    originalTryKeys.forEach(k => {\n        const s = k.replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`)\n        const c = k.replace(/_([a-z])/g, (g) => g[1].toUpperCase())\n        if (!tryKeys.includes(s)) tryKeys.push(s)\n        if (!tryKeys.includes(c)) tryKeys.push(c)\n    })\n\n    for (const k of tryKeys) {\n        const val = getResponsiveValue(settings, k, device)\n        if (val !== undefined && val !== null && val !== '') return val\n    }\n\n    // Secondary Check: Nested objects (e.g. background.color)\n    const backgroundProps: Record<string, string> = {\n        'backgroundColor': 'color',\n        'backgroundImage': 'image',\n        'backgroundPosition': 'position',\n        'backgroundRepeat': 'repeat',\n        'backgroundSize': 'size'\n    }\n\n    const bgObj = settings.background\n    if (bgObj && typeof bgObj === 'object') {\n        for (const k of tryKeys) {\n            if (backgroundProps[k]) {\n                const subKey = backgroundProps[k]\n                const val = getResponsiveValue(bgObj, subKey, device)\n                if (val !== undefined && val !== null && val !== '') return val\n            }\n        }\n    }\n\n    return undefined\n}\n\nexport function toCSS(val: any, unit: string = 'px'): string | undefined {\n    if (val === undefined || val === null || val === '' || typeof val === 'object') return undefined\n    const s = String(val)\n    if (s.includes('px') || s.includes('rem') || s.includes('em') || s.includes('%') || s.includes('vh') || s.includes('vw') || s.includes('calc') || s.includes('var') || s === 'auto' || s === 'inherit') return s\n    if (s.match(/^-?\\d*\\.?\\d+$/)) return `${s}${unit}`\n    return s\n}\n\nexport function getTypographyStyles(settings: ModuleSettings, prefix: string = '', device: string = 'desktop'): Record<string, any> {\n    const css: Record<string, any> = {}\n    const fields = [\n        { key: 'font_family', prop: 'fontFamily' },\n        { key: 'font_size', prop: 'fontSize', unit: 'px' },\n        { key: 'line_height', prop: 'lineHeight', unit: 'em' },\n        { key: 'letter_spacing', prop: 'letterSpacing', unit: 'px' },\n        { key: 'text_color', prop: 'color' },\n        { key: 'font_weight', prop: 'fontWeight' },\n        { key: 'font_style', prop: 'fontStyle' },\n        { key: 'text_align', prop: 'textAlign' },\n        { key: 'text_transform', prop: 'textTransform' },\n        { key: 'text_decoration', prop: 'textDecoration' },\n        { key: 'text_shadow', prop: 'textShadow' }\n    ]\n\n    fields.forEach(f => {\n        const sep = (prefix && !prefix.endsWith('_')) ? '_' : ''\n        const fullKey = prefix ? `${prefix}${sep}${f.key}` : f.key\n        const val = getVal(settings, fullKey, device)\n        if (val !== undefined && val !== null && val !== '') {\n            if (f.key === 'text_shadow') {\n                const shadowStyles = getTextShadowStyles(settings, fullKey, device)\n                if (shadowStyles.textShadow) css.textShadow = shadowStyles.textShadow\n            } else {\n                css[f.prop] = f.unit ? toCSS(val, f.unit) : val\n            }\n        }\n    })\n\n    return css\n}\n\nexport function getSpacingStyles(settings: ModuleSettings, baseKey: string, device: string = 'desktop', type: string = 'padding'): Record<string, any> {\n    const value = getResponsiveValue(settings, baseKey, device)\n    if (!value) return {}\n\n    const css: Record<string, any> = {}\n    const { top, bottom, left, right, unit = 'px' } = value\n\n    if (top !== undefined) css[`${type}Top`] = toCSS(top, unit)\n    if (bottom !== undefined) css[`${type}Bottom`] = toCSS(bottom, unit)\n    if (left !== undefined) css[`${type}Left`] = toCSS(left, unit)\n    if (right !== undefined) css[`${type}Right`] = toCSS(right, unit)\n\n    return css\n}\n\nexport function getBorderStyles(settings: ModuleSettings, baseKey: string = 'border', device: string = 'desktop'): Record<string, any> {\n    const borderSettings = getResponsiveValue(settings, baseKey, device)\n    if (!borderSettings) return {}\n    const css: Record<string, any> = {}\n\n    // Radius\n    const radius = borderSettings.radius\n    if (radius) {\n        if (typeof radius === 'object') {\n            const { tl, tr, bl, br } = radius\n            if (tl !== undefined) css.borderTopLeftRadius = toCSS(tl)\n            if (tr !== undefined) css.borderTopRightRadius = toCSS(tr)\n            if (bl !== undefined) css.borderBottomLeftRadius = toCSS(bl)\n            if (br !== undefined) css.borderBottomRightRadius = toCSS(br)\n        } else {\n            css.borderRadius = toCSS(radius)\n        }\n    }\n\n    // Border Sides\n    if (borderSettings.styles) {\n        const sides = ['top', 'right', 'bottom', 'left']\n        sides.forEach(side => {\n            const conf = borderSettings.styles[side]\n            if (conf && conf.width > 0 && conf.style !== 'none') {\n                const sideCap = side.charAt(0).toUpperCase() + side.slice(1)\n                css[`border${sideCap}Width`] = toCSS(conf.width)\n                css[`border${sideCap}Style`] = conf.style || 'solid'\n                css[`border${sideCap}Color`] = conf.color || 'transparent'\n            }\n        })\n    }\n\n    return css\n}\n\nexport function getBoxShadowStyles(settings: ModuleSettings, baseKey: string = 'boxShadow', device: string = 'desktop'): Record<string, any> {\n    const s = getResponsiveValue(settings, baseKey, device)\n    if (!s || s === 'none' || s.preset === 'none') return {}\n\n    const { horizontal = 0, vertical = 0, blur = 0, spread = 0, color = 'rgba(0,0,0,0)', inset } = s\n    const i = inset ? 'inset ' : ''\n    return { boxShadow: `${i}${horizontal}px ${vertical}px ${blur}px ${spread}px ${color}` }\n}\n\nexport function getTextShadowStyles(settings: ModuleSettings, baseKey: string = 'text_shadow', device: string = 'desktop'): Record<string, any> {\n    const s = getResponsiveValue(settings, baseKey, device)\n    if (!s || s === 'none' || s.preset === 'none') return {}\n\n    // text-shadow does NOT support spread or inset\n    const { horizontal = 0, vertical = 0, blur = 0, color = 'rgba(0,0,0,0)' } = s\n    return { textShadow: `${horizontal}px ${vertical}px ${blur}px ${color}` }\n}\n\nexport function getSizingStyles(settings: ModuleSettings, device: string = 'desktop'): Record<string, any> {\n    const css: Record<string, any> = {}\n    const props = ['width', 'maxWidth', 'minWidth', 'height', 'maxHeight', 'minHeight', 'zIndex']\n\n    props.forEach(p => {\n        const val = getVal(settings, p, device)\n        if (val !== undefined && val !== null && val !== '') {\n            css[p] = (p === 'zIndex') ? val : toCSS(val)\n        }\n    })\n\n    // Special alignment logic\n    const align = getVal(settings, 'align', device)\n    if (align === 'center') { css.marginLeft = 'auto'; css.marginRight = 'auto' }\n    else if (align === 'left') { css.marginLeft = '0'; css.marginRight = 'auto' }\n    else if (align === 'right') { css.marginLeft = 'auto'; css.marginRight = '0' }\n\n    return css\n}\n\nconst svgToDataUri = (svgStr: string): string => {\n    const encoded = encodeURIComponent(svgStr)\n        .replace(/'/g, '%27')\n        .replace(/\"/g, '%22')\n    return `data:image/svg+xml;charset=utf-8,${encoded}`\n}\n\nexport function getBackgroundStyles(settings: ModuleSettings, device: string = 'desktop'): Record<string, any> {\n    if (!settings) return {}\n    const css: Record<string, any> = {}\n\n    const bgColor = getVal(settings, 'backgroundColor', device)\n    if (bgColor) css.backgroundColor = bgColor\n\n    const layers: string[] = []\n    const sizes: string[] = []\n    const repeatList: string[] = []\n    const posList: string[] = []\n    const blendList: string[] = []\n\n    // --- 0. Pattern (Top Layer) ---\n    const patternId = getVal(settings, 'backgroundPattern', device)\n    if (patternId && patternId !== 'none') {\n        const patternObj = BackgroundPatterns.find((p: any) => p.id === patternId)\n        if (patternObj) {\n            const rawSvg = patternObj.svg\n            // Resolve object structure if necessary\n            let svg: string = typeof rawSvg === 'object'\n                ? ((rawSvg as any).default || (rawSvg as any).regular || '')\n                : (rawSvg as string)\n\n            if (svg) {\n                // Wrap in full SVG tag if it's just a fragment\n                if (!svg.startsWith('<svg')) {\n                    const w = patternObj.width || 100\n                    const h = patternObj.height || 100\n                    svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${w}\" height=\"${h}\" viewBox=\"0 0 ${w} ${h}\">${svg}</svg>`\n                }\n\n                // Pattern Color\n                const pColor = getVal(settings, 'backgroundPatternColor', device)\n                if (pColor) {\n                    svg = svg.replace(/fill=\"currentColor\"/g, `fill=\"${pColor}\"`)\n                        .replace(/stroke=\"currentColor\"/g, `stroke=\"${pColor}\"`)\n                        .replace(/fill=\"[^\"]*\"/g, `fill=\"${pColor}\"`)\n                        .replace(/stroke=\"[^\"]*\"/g, `stroke=\"${pColor}\"`)\n                }\n\n                layers.push(`url(\"${svgToDataUri(svg)}\")`)\n\n                const pSize = getVal(settings, 'backgroundPatternSize', device) || 'auto'\n                const pWidth = getVal(settings, 'backgroundPatternWidth', device)\n                const pHeight = getVal(settings, 'backgroundPatternHeight', device)\n\n                if (pSize === 'custom' && pWidth && pHeight) {\n                    sizes.push(`${toCSS(pWidth)} ${toCSS(pHeight)}`)\n                } else if (pSize === 'cover' || pSize === 'contain') {\n                    sizes.push(pSize)\n                } else {\n                    sizes.push('auto')\n                }\n\n                const pRepeat = getVal(settings, 'backgroundPatternRepeat', device) || 'repeat'\n                repeatList.push(pRepeat)\n\n                // Pattern Position (Offset via position)\n                posList.push('0 0')\n\n                const pBlend = getVal(settings, 'backgroundPatternBlendMode', device) || 'normal'\n                blendList.push(pBlend)\n            }\n        }\n    }\n\n    // --- 1. Gradients ---\n    const gradientList = getVal(settings, 'backgroundGradients', device) || []\n    const singleGradient = getVal(settings, 'backgroundGradient', device)\n    let finalGradientList = []\n\n    if (gradientList.length > 0) {\n        finalGradientList = gradientList\n    } else if (singleGradient) {\n        finalGradientList = [singleGradient]\n    }\n\n    const gradientCSSList = finalGradientList.map((g: any) => {\n        if (!g || !g.stops || g.stops.length < 2) return ''\n        const { type = 'linear', direction = '180deg', stops, repeat = false } = g\n        const prefix = repeat ? 'repeating-' : ''\n        const sortedStops = [...stops].sort((a, b) => a.position - b.position)\n        const stopString = sortedStops.map(s => `${s.color} ${s.position}%`).join(', ')\n        if (type === 'linear') return `${prefix}linear-gradient(${direction}, ${stopString})`\n        return `${prefix}radial-gradient(circle, ${stopString})`\n    }).filter((c: any) => !!c)\n\n    // --- 2. Image ---\n    const bgImage = getVal(settings, 'backgroundImage', device)\n    const imageCSS = bgImage ? `url(\"${bgImage}\")` : ''\n\n    if (getVal(settings, 'backgroundGradientShowAboveImage', device)) {\n        gradientCSSList.forEach((g: any) => { layers.push(g as string); sizes.push('100% 100%'); repeatList.push('no-repeat'); posList.push('center'); blendList.push('normal') })\n        if (imageCSS) {\n            layers.push(imageCSS);\n            sizes.push(getVal(settings, 'backgroundImageSize', device) || 'cover');\n            repeatList.push(getVal(settings, 'backgroundImageRepeat', device) || 'no-repeat');\n            posList.push(getVal(settings, 'backgroundImagePosition', device) || 'center');\n            blendList.push(getVal(settings, 'backgroundImageBlendMode', device) || 'normal')\n        }\n    } else {\n        if (imageCSS) {\n            layers.push(imageCSS);\n            sizes.push(getVal(settings, 'backgroundImageSize', device) || 'cover');\n            repeatList.push(getVal(settings, 'backgroundImageRepeat', device) || 'no-repeat');\n            posList.push(getVal(settings, 'backgroundImagePosition', device) || 'center');\n            blendList.push(getVal(settings, 'backgroundImageBlendMode', device) || 'normal')\n        }\n        gradientCSSList.forEach((g: any) => { layers.push(g as string); sizes.push('100% 100%'); repeatList.push('no-repeat'); posList.push('center'); blendList.push('normal') })\n    }\n\n    if (layers.length > 0) {\n        css.backgroundImage = layers.join(', ')\n        css.backgroundSize = sizes.join(', ')\n        css.backgroundRepeat = repeatList.join(', ')\n        css.backgroundPosition = posList.join(', ')\n        css.backgroundBlendMode = blendList.join(', ')\n    }\n\n    // --- 3. Mask ---\n    const maskId = getVal(settings, 'backgroundMask', device)\n    if (maskId && maskId !== 'none') {\n        const maskObj = BackgroundMasks.find((m: any) => m.id === maskId)\n        if (maskObj) {\n            const variant = device === 'mobile' || device === 'phone' ? 'portrait' : (device === 'tablet' ? 'square' : 'landscape')\n            const rawSvgSet = maskObj.svg?.default || maskObj.svg\n            let maskSvg = typeof rawSvgSet === 'object' ? ((rawSvgSet as any)[variant] || (rawSvgSet as any).landscape || (rawSvgSet as any).default || '') : (rawSvgSet as string)\n\n            if (maskSvg) {\n                if (!maskSvg.startsWith('<svg')) {\n                    const vb = (maskObj as any).viewBox?.[variant] || (maskObj as any).viewBox?.landscape || '0 0 100 100'\n                    const safeSvg = maskSvg.replace(/currentColor/g, 'black')\n                    maskSvg = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"${vb}\" width=\"100%\" height=\"100%\" preserveAspectRatio=\"none\">${safeSvg}</svg>`\n                } else {\n                    maskSvg = maskSvg.replace(/currentColor/g, 'black')\n                }\n\n                const maskUri = `url(\"${svgToDataUri(maskSvg)}\")`\n                css.maskImage = maskUri\n                css.webkitMaskImage = maskUri\n\n                const mSize = getVal(settings, 'backgroundMaskSize', device) || 'fit'\n                let sizeVal = 'contain'\n                if (mSize === 'custom') {\n                    const mW = getVal(settings, 'backgroundMaskWidth', device)\n                    const mH = getVal(settings, 'backgroundMaskHeight', device)\n                    sizeVal = (mW && mH) ? `${toCSS(mW)} ${toCSS(mH)}` : 'contain'\n                } else if (mSize === 'fit') {\n                    sizeVal = 'contain'\n                } else if (mSize === 'fill') {\n                    sizeVal = '100% 100%'\n                } else {\n                    sizeVal = mSize\n                }\n\n                css.maskSize = sizeVal\n                css.webkitMaskSize = sizeVal\n                css.maskPosition = 'center'\n                css.webkitMaskPosition = 'center'\n                css.maskRepeat = 'no-repeat'\n                css.webkitMaskRepeat = 'no-repeat'\n            }\n        }\n    }\n\n    return css\n}\n\nexport function getLayoutStyles(settings: ModuleSettings, device: string = 'desktop'): Record<string, any> {\n    const css: Record<string, any> = {}\n    const layoutType = getVal(settings, 'layoutType', device)\n\n    if (layoutType === 'flex') {\n        css.display = 'flex'\n        css.flexDirection = getVal(settings, 'direction', device) || 'column'\n        css.flexWrap = getVal(settings, 'flexWrap', device) || 'nowrap'\n        css.justifyContent = getVal(settings, 'justifyContent', device) || 'flex-start'\n        css.alignItems = getVal(settings, 'alignItems', device) || 'stretch'\n\n        const gapX = toCSS(getVal(settings, 'gapX', device))\n        const gapY = toCSS(getVal(settings, 'gapY', device))\n        if (gapX && gapY) css.gap = `${gapY} ${gapX}`\n        else if (gapX) css.columnGap = gapX\n        else if (gapY) css.rowGap = gapY\n\n    } else if (layoutType === 'grid') {\n        css.display = 'grid'\n        const cols = getVal(settings, 'columnCount', device) || 3\n        css.gridTemplateColumns = cols === 'auto' ? `repeat(auto-fit, minmax(0, 1fr))` : `repeat(${cols}, 1fr)`\n\n        const gapX = toCSS(getVal(settings, 'gapX', device))\n        const gapY = toCSS(getVal(settings, 'gapY', device))\n        if (gapX && gapY) css.gap = `${gapY} ${gapX}`\n\n        css.justifyContent = getVal(settings, 'justifyContent', device)\n        css.alignItems = getVal(settings, 'alignItems', device)\n    }\n\n    return css\n}\n\nexport function getFilterStyles(settings: ModuleSettings, device: string = 'desktop'): Record<string, any> {\n    const css: Record<string, any> = {}\n    const filters: string[] = []\n\n    const getFilterVal = (key: string) => {\n        const nested = getResponsiveValue(settings, 'filter', device)\n        if (nested) {\n            if (nested[key] !== undefined) return nested[key]\n            const snake = key.replace(/[A-Z]/g, l => `_${l.toLowerCase()}`)\n            if (nested[snake] !== undefined) return nested[snake]\n        }\n        return getVal(settings, key, device)\n    }\n\n    const opacity = getFilterVal('opacity')\n    if (opacity !== undefined && opacity != 100) css.opacity = opacity / 100\n\n    const blendMode = getFilterVal('blendMode') || getFilterVal('blend_mode')\n    if (blendMode && blendMode !== 'normal') css.mixBlendMode = blendMode\n\n    const blur = getFilterVal('blur')\n    if (blur && blur > 0) filters.push(`blur(${blur}px)`)\n\n    const brightness = getFilterVal('brightness')\n    if (brightness !== undefined && brightness != 100) filters.push(`brightness(${brightness}%)`)\n\n    const contrast = getFilterVal('contrast')\n    if (contrast !== undefined && contrast != 100) filters.push(`contrast(${contrast}%)`)\n\n    const grayscale = getFilterVal('grayscale')\n    if (grayscale && grayscale > 0) filters.push(`grayscale(${grayscale}%)`)\n\n    const sepia = getFilterVal('sepia')\n    if (sepia && sepia > 0) filters.push(`sepia(${sepia}%)`)\n\n    const preserveSaturate = getFilterVal('saturate')\n    if (preserveSaturate !== undefined && preserveSaturate != 100) filters.push(`saturate(${preserveSaturate}%)`)\n\n    const hueRotate = getFilterVal('hueRotate') || getFilterVal('hue_rotate')\n    if (hueRotate && hueRotate > 0) filters.push(`hue-rotate(${hueRotate}deg)`)\n\n    const invert = getFilterVal('invert')\n    if (invert && invert > 0) filters.push(`invert(${invert}%)`)\n\n    if (filters.length > 0) css.filter = filters.join(' ')\n    return css\n}\n\nexport function getTransformStyles(settings: ModuleSettings, device: string = 'desktop'): Record<string, any> {\n    const transforms: string[] = []\n    const getTransVal = (key: string) => {\n        const nested = getResponsiveValue(settings, 'transform', device)\n        if (nested) {\n            if (nested[key] !== undefined) return nested[key]\n            const snake = key.replace(/[A-Z]/g, l => `_${l.toLowerCase()}`)\n            if (nested[snake] !== undefined) return nested[snake]\n        }\n        return getVal(settings, key, device)\n    }\n\n    const scale = getTransVal('scale') ?? getTransVal('transformScale') ?? getTransVal('transform_scale')\n    if (scale !== undefined && scale != 100) transforms.push(`scale(${scale / 100})`)\n\n    const tx = getTransVal('translateX') ?? getTransVal('translate_x') ?? getTransVal('transform_translate_x')\n    const ty = getTransVal('translateY') ?? getTransVal('translate_y') ?? getTransVal('transform_translate_y')\n    if ((tx && tx != 0) || (ty && ty != 0)) transforms.push(`translate(${toCSS(tx)}, ${toCSS(ty)})`)\n\n    const rx = getTransVal('rotateX') ?? getTransVal('transform_rotate') ?? 0\n    const ry = getTransVal('rotateY') ?? getTransVal('transform_rotate_y') ?? 0\n    const rz = getTransVal('rotateZ') ?? getTransVal('rotate') ?? getTransVal('transform_rotate_z') ?? 0\n\n    if (rx && rx != 0) transforms.push(`rotateX(${rx}deg)`)\n    if (ry && ry != 0) transforms.push(`rotateY(${ry}deg)`)\n    if (rz && rz != 0) transforms.push(`rotateZ(${rz}deg)`)\n\n    const sx = getTransVal('skewX') ?? getTransVal('transform_skew_x') ?? 0\n    const sy = getTransVal('skewY') ?? getTransVal('transform_skew_y') ?? 0\n    if (sx && sx != 0) transforms.push(`skewX(${sx}deg)`)\n    if (sy && sy != 0) transforms.push(`skewY(${sy}deg)`)\n\n    const css: Record<string, any> = {}\n    if (transforms.length > 0) css.transform = transforms.join(' ')\n    const origin = getTransVal('origin') ?? getTransVal('transformOrigin')\n    if (origin && origin !== 'center') css.transformOrigin = origin\n\n    return css\n}\n\nexport function hexToHsl(hex: string): { h: number; s: number; l: number } {\n    hex = hex.replace('#', '')\n    if (hex.length === 3) hex = hex.split('').map(c => c + c).join('')\n\n    const r = parseInt(hex.substring(0, 2), 16) / 255\n    const g = parseInt(hex.substring(2, 4), 16) / 255\n    const b = parseInt(hex.substring(4, 6), 16) / 255\n\n    const max = Math.max(r, g, b), min = Math.min(r, g, b)\n    const l: number = (max + min) / 2\n    let h: number, s: number\n\n    if (max === min) {\n        h = s = 0\n    } else {\n        const d = max - min\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min)\n        switch (max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break\n            case g: h = (b - r) / d + 2; break\n            case b: h = (r - g) / d + 4; break\n            default: h = 0;\n        }\n        h /= 6\n    }\n\n    return { h: h * 360, s: s * 100, l: l * 100 }\n}\n\nexport function hslToHex(h: number, s: number, l: number): string {\n    h /= 360; s /= 100; l /= 100\n    let r: number, g: number, b: number\n    if (s === 0) {\n        r = g = b = l\n    } else {\n        const hue2rgb = (p: number, q: number, t: number) => {\n            if (t < 0) t += 1\n            if (t > 1) t -= 1\n            if (t < 1 / 6) return p + (q - p) * 6 * t\n            if (t < 1 / 2) return q\n            if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6\n            return p\n        }\n        const q = l < 0.5 ? l * (1 + s) : l + s - l * s\n        const p = 2 * l - q\n        r = hue2rgb(p, q, h + 1 / 3)\n        g = hue2rgb(p, q, h)\n        b = hue2rgb(p, q, h - 1 / 3)\n    }\n    const toHex = (x: number) => {\n        const hex = Math.round(x * 255).toString(16)\n        return hex.length === 1 ? '0' + hex : hex\n    }\n    return `#${toHex(r)}${toHex(g)}${toHex(b)}`\n}\n\nexport function getHarmoniousGradientColors(baseHex: string): [string, string] {\n    const { h, s, l } = hexToHsl(baseHex)\n\n    const secondaryHue = (h + 25) % 360\n    const secondaryL = l > 60 ? l - 20 : l + 20\n    const secondaryS = Math.min(100, s + 10)\n\n    return [\n        baseHex,\n        hslToHex(secondaryHue, secondaryS, secondaryL)\n    ]\n}\n\nexport function getAnimationStyles(settings: ModuleSettings, device: string = 'desktop'): Record<string, any> {\n    const css: Record<string, any> = {}\n\n    const getAnimVal = (key: string) => {\n        const nested = getResponsiveValue(settings, 'animation', device)\n        if (nested && nested[key] !== undefined) return nested[key]\n        return getResponsiveValue(settings, `animation_${key}`, device)\n    }\n\n    const effect = getAnimVal('effect')\n\n    if (effect) {\n        const duration = getAnimVal('duration')\n        const delay = getAnimVal('delay')\n        const repeat = getAnimVal('repeat') || 'once'\n        const curve = getAnimVal('curve')\n\n        if (duration !== undefined && duration !== null) css.animationDuration = `${duration}ms`\n        if (delay !== undefined && delay !== null) css.animationDelay = `${delay}ms`\n        if (curve) css.animationTimingFunction = curve\n\n        if (repeat === 'infinite') {\n            css.animationIterationCount = 'infinite'\n        } else if (repeat === 'once' || repeat === '1') {\n            css.animationIterationCount = '1'\n        }\n    }\n\n    return css\n}\n\nexport function getVisibilityStyles(settings: ModuleSettings, device: string = 'desktop'): Record<string, any> {\n    const css: Record<string, any> = {}\n\n    const visibility = settings.visibility\n    if (visibility && !Array.isArray(getVal(settings, 'disable_on', device))) {\n        const desktop = visibility.desktop !== false\n        const tablet = visibility.tablet !== undefined ? visibility.tablet !== false : desktop\n        const mobile = visibility.mobile !== undefined ? visibility.mobile !== false : tablet\n\n        let isVisible = true\n        if (device === 'desktop') isVisible = desktop\n        else if (device === 'tablet') isVisible = tablet\n        else if (device === 'mobile') isVisible = mobile\n\n        if (!isVisible) css.display = 'none'\n    }\n\n    // Overflow logic\n    const ox = getVal(settings, 'overflow_x', device)\n    const oy = getVal(settings, 'overflow_y', device)\n    if (ox && ox !== 'visible') css.overflowX = ox\n    if (oy && oy !== 'visible') css.overflowY = oy\n\n    return css\n}\n\nexport function getVisibilityClasses(settings: ModuleSettings, device: string = 'desktop', isBuilder: boolean = false): string {\n    const disabledOn = getVal(settings, 'disable_on', device)\n    const isHidden = Array.isArray(disabledOn) && disabledOn.includes(device)\n\n    if (isHidden) {\n        return isBuilder ? 'opacity-30 pointer-events-auto' : 'hidden'\n    }\n\n    return ''\n}\n\nexport function getAnimationClasses(settings: ModuleSettings, device: string = 'desktop'): string {\n    const nested = getResponsiveValue(settings, 'animation', device)\n    const effect = (nested && nested.effect) || getResponsiveValue(settings, 'animation_effect', device)\n    return effect || ''\n}\n\nexport function getPositioningStyles(settings: ModuleSettings, device: string = 'desktop'): Record<string, any> {\n    const styles: Record<string, any> = {}\n    const zIndex = getVal(settings, 'z_index', device) || getResponsiveValue(settings, 'zIndex', device)\n\n    if (zIndex !== undefined && zIndex !== '' && zIndex !== 0) {\n        styles.zIndex = zIndex\n    }\n\n    const pos = getVal(settings, 'position', device)\n    if (pos && pos !== 'static' && pos !== 'default') {\n        styles.position = pos\n        const top = getVal(settings, 'top', device); if (top) styles.top = toCSS(top)\n        const bottom = getVal(settings, 'bottom', device); if (bottom) styles.bottom = toCSS(bottom)\n        const left = getVal(settings, 'left', device); if (left) styles.left = toCSS(left)\n        const right = getVal(settings, 'right', device); if (right) styles.right = toCSS(right)\n    }\n\n    return styles\n}\n\nexport function getTransitionStyles(settings: ModuleSettings, device: string = 'desktop'): Record<string, any> {\n    const css: Record<string, any> = {}\n    const duration = getVal(settings, 'transition_duration', device)\n    const delay = getVal(settings, 'transition_delay', device)\n    const curve = getVal(settings, 'transition_curve', device)\n\n    if (duration !== undefined && (duration as number) > 0) {\n        css.transitionDuration = `${duration}ms`\n        css.transitionProperty = 'all' // Default to all\n        if (delay) css.transitionDelay = `${delay}ms`\n        if (curve && curve !== 'auto') css.transitionTimingFunction = curve\n    }\n\n    return css\n}\n\nexport function getColorVariables(settings: ModuleSettings, hoverSettings: ModuleSettings = {}, device: string = 'desktop'): Record<string, string> {\n    const styles: Record<string, string> = {}\n\n    const textColor = getVal(settings, 'textColor', device)\n    const hoverTextColor = getVal(hoverSettings, 'textColor', device)\n\n    const bgColor = getVal(settings, 'backgroundColor', device)\n    const hoverBgColor = getVal(hoverSettings, 'backgroundColor', device)\n\n    if (textColor) styles['--text-color'] = textColor\n    if (hoverTextColor) styles['--hover-text-color'] = hoverTextColor\n\n    if (bgColor) styles['--bg-color'] = bgColor\n    if (hoverBgColor) styles['--hover-bg-color'] = hoverBgColor\n\n    return styles\n}\n\n/**\n * Premium Utility: Glassmorphism Styles\n */\nexport function getGlassStyles(settings: ModuleSettings, prefix: string = '', device: string = 'desktop'): Record<string, any> {\n    const css: Record<string, any> = {}\n    const p = prefix ? `${prefix}_` : ''\n\n    if (getVal(settings, `${p}enable_glass`, device)) {\n        const blur = getVal(settings, `${p}glass_blur`, device) || 10\n        const opacity = getVal(settings, `${p}glass_opacity`, device) || 10\n        const color = getVal(settings, `${p}glass_color`, device) || '#ffffff'\n        const border = getVal(settings, `${p}glass_border`, device) || 1\n\n        css.backdropFilter = `blur(${blur}px)`\n        css.webkitBackdropFilter = `blur(${blur}px)`\n\n        // Convert hex to rgba for background\n        const { h, s, l } = hexToHsl(color)\n        css.backgroundColor = `hsla(${h}, ${s}%, ${l}%, ${opacity / 100})`\n\n        if (border > 0) {\n            css.border = `${border}px solid hsla(${h}, ${s}%, ${l}%, 0.2)`\n        }\n    }\n\n    return css\n}\n\n/**\n * Premium Utility: Text Gradient Styles\n */\nexport function getTextGradientStyles(settings: ModuleSettings, prefix: string = '', device: string = 'desktop'): Record<string, any> {\n    const css: Record<string, any> = {}\n    const p = prefix ? `${prefix}_` : ''\n\n    if (getVal(settings, `${p}use_gradient`, device)) {\n        const g = getVal(settings, `${p}gradient`, device)\n        if (g && g.stops && g.stops.length >= 2) {\n            css.backgroundImage = generateGradientCSS(g)\n            css.webkitBackgroundClip = 'text'\n            css.backgroundClip = 'text'\n            css.color = 'transparent'\n            css.display = 'inline-block' // Required for clip to work well\n        }\n    }\n\n    return css\n}\n\n/**\n * Premium Utility: Mask Styles\n */\nexport function getMaskStyles(settings: ModuleSettings, prefix: string = '', device: string = 'desktop'): Record<string, any> {\n    const css: Record<string, any> = {}\n    const p = prefix ? `${prefix}_` : ''\n    const shape = getVal(settings, `${p}mask_shape`, device)\n\n    if (shape && shape !== 'none') {\n        const masks: Record<string, string> = {\n            circle: 'circle(50% at 50% 50%)',\n            squircle: 'polygon(33% 0%, 67% 0%, 100% 33%, 100% 67%, 67% 100%, 33% 100%, 0% 67%, 0% 33%)',\n            diamond: 'polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)',\n            triangle: 'polygon(50% 0%, 0% 100%, 100% 100%)',\n            blob1: 'path(\"M48.5,-57.7C61.4,-48.4,69.5,-31.2,71.2,-13.6C72.9,4,68.2,22,57.7,35.5C47.2,49,30.9,58,13.7,62.1C-3.5,66.1,-21.5,65.2,-36.8,57.1C-52,49,-64.5,33.7,-68.6,16.5C-72.7,-0.7,-68.4,-19.8,-57.9,-32.1C-47.3,-44.4,-30.5,-49.9,-15.1,-57.4C0.4,-64.9,24.3,-71.1,48.5,-57.7Z\")',\n        }\n\n        if (masks[shape]) {\n            css.clipPath = masks[shape]\n            css.webkitClipPath = masks[shape]\n        }\n    }\n\n    return css\n}\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/types/lucide-icons.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/views/admin/settings/tabs/AiTab.vue","messages":[{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":16,"column":30,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":16,"endColumn":49},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":28,"column":38,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":28,"endColumn":66},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":84,"column":46,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":84,"endColumn":80},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":108,"column":46,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":108,"endColumn":78},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":185,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":185,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10356,10359],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10356,10359],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":203,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":203,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10605,10608],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10605,10608],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":234,"column":13,"nodeType":"AssignmentExpression","messageId":"unexpectedMutation","endLine":234,"endColumn":58},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":236,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":236,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11725,11728],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11725,11728],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":262,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":262,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":262,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":262,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12749,12752],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12749,12752],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":282,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":282,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13510,13513],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13510,13513],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n    <div class=\"space-y-6\">\n        <SettingGroup\n            :title=\"$t('features.settings.ai.title', 'AI Assistance')\"\n            :description=\"$t('features.settings.ai.description', 'Configure AI features for content generation.')\"\n            :icon=\"Sparkles\"\n            color=\"indigo\"\n        >\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <!-- Enable AI -->\n                <SettingField\n                    field-key=\"ai_enabled\"\n                    type=\"boolean\"\n                    :label=\"$t('features.settings.ai.enable_ai', 'Enable AI Features')\"\n                    :description=\"$t('features.settings.ai.enable_ai_desc', 'Enable or disable AI assistance in the editor.')\"\n                    v-model=\"formData.ai_enabled\"\n                    :error=\"errors?.ai_enabled\"\n                />\n                \n                <!-- Default Provider -->\n                <div>\n                     <label class=\"block text-sm font-medium text-foreground mb-1\">\n                        {{ $t('features.settings.ai.default_provider', 'Default Provider') }}\n                    </label>\n                    <p class=\"text-xs text-muted-foreground mb-2\">\n                        {{ $t('features.settings.ai.default_provider_desc', 'Select which AI provider to use by default.') }}\n                    </p>\n                    <Select v-model=\"formData.ai_default_provider\" :disabled=\"!formData.ai_enabled\">\n                        <SelectTrigger>\n                            <SelectValue :placeholder=\"$t('features.settings.ai.default_provider')\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                            <SelectItem v-for=\"provider in providers\" :key=\"provider.id\" :value=\"provider.id\">\n                                <div class=\"flex items-center gap-2\">\n                                    <img v-if=\"provider.logo\" :src=\"provider.logo\" class=\"w-4 h-4 object-contain\" />\n                                    {{ provider.name }}\n                                </div>\n                            </SelectItem>\n                        </SelectContent>\n                    </Select>\n                </div>\n            </div>\n        </SettingGroup>\n\n        <!-- Providers Accordion -->\n        <div class=\"space-y-4\" :class=\"{ 'opacity-50 pointer-events-none': !formData.ai_enabled }\">\n            <h3 class=\"text-lg font-medium\">{{ $t('features.settings.ai.providers', 'AI Providers') }}</h3>\n            \n            <div v-for=\"provider in providers\" :key=\"provider.id\" class=\"border rounded-lg overflow-hidden bg-card text-card-foreground shadow-sm\">\n                <button \n                    type=\"button\"\n                    @click=\"toggleProvider(provider.id)\"\n                    class=\"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors text-left\"\n                >\n                    <div class=\"flex items-center gap-3\">\n                        <div class=\"w-8 h-8 rounded-md bg-muted flex items-center justify-center p-1.5 border\">\n                            <img v-if=\"provider.logo\" :src=\"provider.logo\" class=\"w-full h-full object-contain\" />\n                             <Bot v-else class=\"w-5 h-5 text-muted-foreground\" />\n                        </div>\n                        <div>\n                            <span class=\"font-medium block\">{{ provider.name }}</span>\n                            <span class=\"text-xs text-muted-foreground\" v-if=\"formData[`${provider.id}_model`]\">\n                                Using: {{ formData[`${provider.id}_model`] }}\n                            </span>\n                        </div>\n                    </div>\n                    <ChevronDown \n                        class=\"w-5 h-5 text-muted-foreground transition-transform duration-200\" \n                        :class=\"{ 'rotate-180': expandedProvider === provider.id }\"\n                    />\n                </button>\n\n                <div v-show=\"expandedProvider === provider.id\" class=\"p-4 border-t bg-muted/10\">\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                        <!-- Left Col: API Key -->\n                        <div class=\"space-y-1\">\n                             <label class=\"block text-sm font-medium text-foreground\">\n                                {{ $t('features.settings.ai.api_key', 'API Key') }}\n                            </label>\n                            <div class=\"relative\">\n                                <Input \n                                    :type=\"showKey[provider.id] ? 'text' : 'password'\"\n                                    :placeholder=\"$t('features.settings.ai.api_key_placeholder', 'Enter API Key')\"\n                                    v-model=\"formData[`${provider.id}_api_key`]\"\n                                    class=\"pr-10\"\n                                />\n                                <button \n                                    type=\"button\"\n                                    class=\"absolute right-0 top-0 h-full px-3 text-muted-foreground hover:text-foreground transition-colors\"\n                                    @click=\"toggleKeyVisibility(provider.id)\"\n                                >\n                                    <EyeOff v-if=\"showKey[provider.id]\" class=\"w-4 h-4\" />\n                                    <Eye v-else class=\"w-4 h-4\" />\n                                </button>\n                            </div>\n                            <p class=\"text-xs text-muted-foreground\" v-if=\"errors?.[`${provider.id}_api_key`]\">\n                                {{ Array.isArray(errors?.[`${provider.id}_api_key`]) ? errors?.[`${provider.id}_api_key`][0] : errors?.[`${provider.id}_api_key`] }}\n                            </p>\n                        </div>\n\n                        <!-- Right Col: Model Selection & Actions -->\n                        <div class=\"space-y-1\">\n                             <label class=\"block text-sm font-medium text-foreground\">\n                                {{ $t('features.settings.ai.model_select', 'Default Model') }}\n                            </label>\n                            <div class=\"flex gap-2\">\n                                <Select \n                                    v-model=\"formData[`${provider.id}_model`]\" \n                                    :disabled=\"!formData[`${provider.id}_api_key`] || loadingModels[provider.id]\"\n                                    @update:open=\"(open) => { if(open) fetchModels(provider.id) }\"\n                                >\n                                    <SelectTrigger class=\"w-full\">\n                                        <SelectValue :placeholder=\"loadingModels[provider.id] ? 'Loading...' : (formData[`${provider.id}_model`] || 'Select Model')\" />\n                                    </SelectTrigger>\n                                    <SelectContent class=\"max-h-[300px]\">\n                                        <SelectItem v-for=\"model in availableModels[provider.id] || []\" :key=\"model.id\" :value=\"model.id\">\n                                            {{ model.name }}\n                                        </SelectItem>\n                                    </SelectContent>\n                                </Select>\n                                \n                                <!-- Text Connection -->\n                                <Button \n                                    size=\"icon\" \n                                    variant=\"outline\" \n                                    type=\"button\" \n                                    :title=\"$t('features.settings.ai.test_connection')\"\n                                    @click=\"testConnection(provider.id)\"\n                                    :disabled=\"!formData[`${provider.id}_api_key`] || testing[provider.id]\"\n                                >\n                                    <Loader2 v-if=\"testing[provider.id]\" class=\"w-4 h-4 animate-spin\" />\n                                    <Wifi v-else class=\"w-4 h-4\" :class=\"testing[provider.id] === false ? 'text-green-600' : ''\" /> <!-- showing green if just tested successfully? naive logic --> \n                                </Button>\n\n                                <!-- Fetch Models -->\n                                <Button \n                                    size=\"icon\" \n                                    variant=\"ghost\" \n                                    type=\"button\" \n                                    :title=\"$t('features.settings.ai.fetch_models')\"\n                                    @click=\"fetchModels(provider.id, true)\"\n                                    :disabled=\"!formData[`${provider.id}_api_key`] || loadingModels[provider.id]\"\n                                >\n                                    <RefreshCw class=\"w-4 h-4\" :class=\"{ 'animate-spin': loadingModels[provider.id] }\" />\n                                </Button>\n                            </div>\n                            <p class=\"text-xs text-muted-foreground mt-1\" v-if=\"!formData[`${provider.id}_api_key`]\">\n                                Enter API Key to select model.\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted } from 'vue';\nimport Sparkles from 'lucide-vue-next/dist/esm/icons/sparkles.js';\nimport ChevronDown from 'lucide-vue-next/dist/esm/icons/chevron-down.js';\nimport Loader2 from 'lucide-vue-next/dist/esm/icons/loader-circle.js';\nimport RefreshCw from 'lucide-vue-next/dist/esm/icons/refresh-cw.js';\nimport Bot from 'lucide-vue-next/dist/esm/icons/bot.js';\nimport Eye from 'lucide-vue-next/dist/esm/icons/eye.js';\nimport EyeOff from 'lucide-vue-next/dist/esm/icons/eye-off.js';\nimport Wifi from 'lucide-vue-next/dist/esm/icons/wifi.js';\nimport SettingGroup from '@/components/settings/SettingGroup.vue';\nimport SettingField from '@/components/settings/SettingField.vue';\nimport {\n    Select,\n    SelectContent,\n    SelectItem,\n    SelectTrigger,\n    SelectValue,\n    Button,\n    Input\n} from '@/components/ui';\nimport { useToast } from '@/composables/useToast';\nimport axios from 'axios';\n\ninterface Setting {\n    id: number | string;\n    key: string;\n    value: any;\n    type: string;\n    group: string;\n}\n\ninterface Provider {\n    id: string;\n    name: string;\n    logo?: string;\n}\n\ninterface Model {\n    id: string;\n    name: string;\n}\n\ninterface Props {\n    settings: Setting[];\n    formData: Record<string, any>;\n    errors?: Record<string, string[] | string>;\n}\n\nconst props = defineProps<Props>();\n\nconst toast = useToast();\nconst providers = ref<Provider[]>([]);\nconst expandedProvider = ref<string | null>('gemini'); // Default expand\nconst availableModels = ref<Record<string, Model[]>>({});\nconst loadingModels = ref<Record<string, boolean>>({});\nconst testing = ref<Record<string, boolean>>({});\nconst testSuccess = ref<Record<string, boolean>>({});\nconst showKey = ref<Record<string, boolean>>({});\n\nconst toggleProvider = (id: string) => {\n    expandedProvider.value = expandedProvider.value === id ? null : id;\n};\n\nconst toggleKeyVisibility = (id: string) => {\n    showKey.value[id] = !showKey.value[id];\n};\n\n// Fetch Providers\nconst fetchProviders = async () => {\n    try {\n        const response = await axios.get('/api/v1/admin/ja/ai/providers');\n        providers.value = response.data.data;\n        \n        // Ensure default provider is set\n        if (!props.formData.ai_default_provider && providers.value.length > 0) {\n            props.formData.ai_default_provider = 'gemini';\n        }\n    } catch (error: any) {\n        console.error('Failed to fetch AI providers', error);\n    }\n};\n\n// Fetch Models\nconst fetchModels = async (providerId: string, force = false) => {\n    // Return early if already loaded and not forcing\n    if (availableModels.value[providerId] && availableModels.value[providerId].length > 0 && !force) return;\n    \n    // Return if no API key\n    if (!props.formData[`${providerId}_api_key`]) return;\n\n    loadingModels.value = { ...loadingModels.value, [providerId]: true };\n    try {\n        // Pass API key if available in form data, to allow fetching without saving first\n        const apiKey = props.formData[`${providerId}_api_key`];\n        const response = await axios.get(`/api/v1/admin/ja/ai/models/${providerId}`, {\n            params: { api_key: apiKey }\n        });\n        \n        availableModels.value = { ...availableModels.value, [providerId]: response.data.data };\n        \n        if (force) {\n            toast.success.action('Models fetched successfully');\n        }\n    } catch (error: any) {\n        // If 401/403, might be invalid key\n    } finally {\n        loadingModels.value = { ...loadingModels.value, [providerId]: false };\n    }\n};\n\n// Test Connection\nconst testConnection = async (providerId: string) => {\n    testing.value = { ...testing.value, [providerId]: true };\n    testSuccess.value = { ...testSuccess.value, [providerId]: false };\n    \n    try {\n         await axios.post('/api/v1/admin/ja/ai/test', {\n            provider: providerId,\n            api_key: props.formData[`${providerId}_api_key`]\n        });\n        toast.success.action('Connection successful');\n        testSuccess.value = { ...testSuccess.value, [providerId]: true };\n        fetchModels(providerId, true); // Auto fetch models on success\n    } catch (error: any) {\n        toast.error.fromResponse(error);\n    } finally {\n        testing.value = { ...testing.value, [providerId]: false };\n    }\n};\n\nonMounted(() => {\n    fetchProviders();\n});\n</script>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/views/admin/settings/tabs/DiscussionTab.vue","messages":[{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":15,"column":26,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":15,"endColumn":47},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":37,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1284,1287],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1284,1287],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":46,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1428,1431],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1428,1431],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":55,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1602,1605],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1602,1605],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n    <div class=\"space-y-4\">\n        <SettingGroup\n            v-for=\"group in discussionSettingsGrouped\"\n            :key=\"group.id\"\n            :title=\"group.title\"\n            :description=\"group.description\"\n            :icon=\"group.icon\"\n            :color=\"group.color as any\"\n            :default-expanded=\"group.defaultExpanded\"\n        >\n            <SettingField\n                v-for=\"setting in group.settings\"\n                :key=\"setting.id\"\n                v-model=\"formData[setting.key]\"\n                :field-key=\"setting.key\"\n                :label=\"$t('features.settings.labels.' + setting.key)\"\n                :description=\"$t('features.settings.descriptions.' + setting.key)\"\n                :type=\"setting.type\"\n                :enabled-text=\"$t('features.settings.enabled')\"\n                :disabled-text=\"$t('features.settings.disabled')\"\n                :error=\"errors?.[setting.key]\"\n            />\n        </SettingGroup>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport SettingGroup from '@/components/settings/SettingGroup.vue'\nimport SettingField from '@/components/settings/SettingField.vue'\n\ninterface Setting {\n    id: number | string;\n    key: string;\n    value: any;\n    type: string;\n    group: string;\n}\n\ninterface SettingGroupData {\n    id: string;\n    title: string;\n    description: string;\n    icon: any;\n    color: string;\n    keys: string[];\n    settings: Setting[];\n    defaultExpanded: boolean;\n}\n\ninterface Props {\n    settings: Setting[];\n    formData: Record<string, any>;\n    errors?: Record<string, string[]>;\n}\n\nconst { t } = useI18n()\n\nconst props = defineProps<Props>()\n\nconst MessageCircleIcon = {\n    template: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z\" /></svg>`\n}\n\nconst ShieldCheckIcon = {\n    template: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z\" /></svg>`\n}\n\nconst discussionSettingsGrouped = computed(() => {\n    const discussionSettings = props.settings.filter(s => s && s.group === 'comments')\n    \n    const groups: SettingGroupData[] = [\n        {\n            id: 'general',\n            title: t('features.settings.groups.discussion.title'),\n            description: t('features.settings.groups.discussion.description'),\n            icon: MessageCircleIcon,\n            color: 'blue',\n            keys: ['comments.security.enable_reply', 'comments.security.allow_guests'],\n            settings: [],\n            defaultExpanded: true,\n        },\n        {\n            id: 'moderation',\n            title: t('features.settings.groups.moderation.title'),\n            description: t('features.settings.groups.moderation.description'),\n            icon: ShieldCheckIcon,\n            color: 'red',\n            keys: ['comments.security.moderation_enabled', 'comments.security.guest_captcha', 'comments.security.max_links', 'comments.security.banned_words'],\n            settings: [],\n            defaultExpanded: true,\n        }\n    ]\n    \n    groups.forEach(group => {\n        // Filter settings for this group\n        const groupSettings = discussionSettings.filter(s => group.keys.includes(s.key))\n        \n        // Sort settings based on the order in the keys array\n        group.settings = groupSettings.sort((a, b) => {\n            return group.keys.indexOf(a.key) - group.keys.indexOf(b.key)\n        })\n    })\n    \n    return groups.filter(group => group.settings.length > 0)\n})\n</script>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/views/admin/settings/tabs/EmailTab.vue","messages":[{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":14,"column":26,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":14,"endColumn":47},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":94,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5056,5059],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5056,5059],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":103,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5200,5203],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5200,5203],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":123,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":123,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5547,5550],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5547,5550],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n    <div class=\"space-y-4\">\n        <SettingGroup\n            v-for=\"group in emailSettingsGrouped\"\n            :key=\"group.id\"\n            :title=\"group.title\"\n            :description=\"group.description\"\n            :icon=\"group.icon\"\n            :color=\"group.color as any\"\n        >\n            <SettingField\n                v-for=\"setting in group.settings\"\n                :key=\"setting.id\"\n                v-model=\"formData[setting.key]\"\n                :field-key=\"setting.key\"\n                :label=\"$t('features.settings.labels.' + setting.key)\"\n                :description=\"$t('features.settings.descriptions.' + setting.key)\"\n                :type=\"setting.type\"\n                :enabled-text=\"$t('features.settings.enabled')\"\n                :disabled-text=\"$t('features.settings.disabled')\"\n                :error=\"errors?.[setting.key]\"\n            />\n\n            <!-- SMTP Group Actions -->\n            <template v-if=\"group.id === 'smtp'\" #footer>\n                <div class=\"flex flex-col gap-4\">\n                    <div class=\"flex flex-wrap gap-4\">\n                        <!-- Config Validation -->\n                        <div class=\"flex items-center gap-3\">\n                            <Button\n                                type=\"button\"\n                                variant=\"outline\"\n                                size=\"sm\"\n                                @click=\"$emit('validate-config')\"\n                                :disabled=\"validatingConfig\"\n                            >\n                                {{ validatingConfig ? $t('features.settings.emailTest.validating') : $t('features.settings.emailTest.validate') }}\n                            </Button>\n                            <div v-if=\"configValidation\" class=\"text-sm\">\n                                <span v-if=\"configValidation.valid\" class=\"text-success\"> {{ $t('features.settings.emailTest.valid') }}</span>\n                                <span v-else class=\"text-destructive\"> {{ $t('features.settings.emailTest.invalid') }}</span>\n                            </div>\n                        </div>\n                        \n                        <!-- SMTP Connection Test -->\n                        <div class=\"flex items-center gap-3\">\n                            <Button\n                                type=\"button\"\n                                variant=\"outline\"\n                                size=\"sm\"\n                                @click=\"$emit('test-connection')\"\n                                :disabled=\"testingConnection\"\n                            >\n                                {{ testingConnection ? $t('features.settings.emailTest.testing') : $t('features.settings.emailTest.testConnection') }}\n                            </Button>\n                            <div v-if=\"connectionResult\" class=\"text-sm\">\n                                <span v-if=\"connectionResult.connected\" class=\"text-success\"> {{ $t('features.settings.emailTest.connected', { host: connectionResult.host, port: connectionResult.port }) }}</span>\n                                <span v-else class=\"text-destructive\"> {{ $t('features.settings.emailTest.failed') }}</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Validation Errors/Warnings -->\n                    <div v-if=\"configValidation && (!configValidation.valid || (configValidation.warnings && configValidation.warnings.length > 0))\" class=\"p-4 bg-muted rounded-lg\">\n                        <div v-if=\"configValidation.errors && configValidation.errors.length > 0\" class=\"mb-2\">\n                            <p class=\"text-xs font-medium text-destructive mb-1\">{{ $t('features.settings.emailTest.errors') }}</p>\n                            <ul class=\"text-xs text-destructive list-disc list-inside\">\n                                <li v-for=\"error in configValidation.errors\" :key=\"error\">{{ error }}</li>\n                            </ul>\n                        </div>\n                        <div v-if=\"configValidation.warnings && configValidation.warnings.length > 0\">\n                            <p class=\"text-xs font-medium text-warning mb-1\">{{ $t('features.settings.emailTest.warnings') }}</p>\n                            <ul class=\"text-xs text-warning list-disc list-inside\">\n                                <li v-for=\"warning in configValidation.warnings\" :key=\"warning\">{{ warning }}</li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </template>\n        </SettingGroup>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport MailIcon from 'lucide-vue-next/dist/esm/icons/mail.js';import SettingGroup from '@/components/settings/SettingGroup.vue'\nimport SettingField from '@/components/settings/SettingField.vue'\nimport { Button } from '@/components/ui';\n\ninterface Setting {\n    id: number | string;\n    key: string;\n    value: any;\n    type: string;\n    group: string;\n}\n\ninterface SettingGroupData {\n    id: string;\n    title: string;\n    description: string;\n    icon: any;\n    color: string;\n    keys: string[];\n    settings: Setting[];\n}\n\ninterface ConfigValidation {\n    valid: boolean;\n    errors?: string[];\n    warnings?: string[];\n}\n\ninterface ConnectionResult {\n    connected: boolean;\n    host?: string;\n    port?: number | string;\n}\n\ninterface Props {\n    settings: Setting[];\n    formData: Record<string, any>;\n    validatingConfig?: boolean;\n    configValidation?: ConfigValidation | null;\n    testingConnection?: boolean;\n    connectionResult?: ConnectionResult | null;\n    errors?: Record<string, string[]>;\n}\n\nconst props = defineProps<Props>()\n\ndefineEmits(['validate-config', 'test-connection'])\n\nconst { t } = useI18n()\n\nconst emailSettingsGrouped = computed(() => {\n    const emailSettings = props.settings.filter(s => s && s.group === 'email')\n    \n    const groups: SettingGroupData[] = [\n        {\n            id: 'smtp',\n            title: t('features.settings.groups.smtp.title'),\n            description: t('features.settings.groups.smtp.description'),\n            icon: MailIcon,\n            color: 'indigo',\n            keys: [\n                'mail_from_address', \n                'mail_from_name',\n                'mail_driver', \n                'mail_host', \n                'mail_port', \n                'mail_username', \n                'mail_password', \n                'mail_encryption'\n            ],\n            settings: [],\n        },\n    ]\n    \n    groups.forEach(group => {\n        group.settings = emailSettings.filter(s => group.keys.includes(s.key))\n        \n        // Sort settings based on the order in keys\n        group.settings.sort((a, b) => {\n            return group.keys.indexOf(a.key) - group.keys.indexOf(b.key)\n        })\n    })\n    \n    return groups.filter(group => group.settings.length > 0)\n})\n</script>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/views/admin/settings/tabs/MediaTab.vue","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'toast' is defined but never used.","line":9,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":13,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"toast"},"fix":{"range":[350,386],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[461,464],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[461,464],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[605,608],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[605,608],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[975,978],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[975,978],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":52,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1158,1161],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1158,1161],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":54,"column":5,"nodeType":"AssignmentExpression","messageId":"unexpectedMutation","endLine":54,"endColumn":32},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":186,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":186,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6743,6746],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6743,6746],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":257,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":257,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9296,9299],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9296,9299],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":267,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":267,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9660,9663],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9660,9663],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<script setup lang=\"ts\">\nimport { computed, ref } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport axios from 'axios'\nimport SettingGroup from '@/components/settings/SettingGroup.vue'\nimport SettingField from '@/components/settings/SettingField.vue'\nimport { Button } from '@/components/ui';\nimport { useConfirm } from '@/composables/useConfirm'\nimport toast from '@/services/toast'\n\ninterface Setting {\n    id: number | string;\n    key: string;\n    value: any;\n    type: string;\n    group: string;\n}\n\ninterface SettingGroupData {\n    id: string;\n    title: string;\n    description: string;\n    icon: any;\n    color: string;\n    keys: string[];\n    settings: Setting[];\n    defaultExpanded: boolean;\n    isExternal?: boolean;\n}\n\ninterface TestResult {\n    success: boolean;\n    message: string;\n}\n\ninterface MigrationLog {\n    type: 'success' | 'error' | 'warning' | 'info';\n    message: string;\n}\n\ninterface Props {\n    settings: Setting[];\n    formData: Record<string, any>;\n    errors?: Record<string, string[]>;\n}\n\nconst { t } = useI18n()\nconst { confirm } = useConfirm()\n\nconst props = defineProps<Props>()\n\nconst updateField = (key: string, value: any) => {\n    // Direct mutation for stable input performance\n    props.formData[key] = value\n}\n\nconst UploadIcon = {\n    template: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5\" /></svg>`\n}\n\nconst ImageIcon = {\n    template: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z\" /></svg>`\n}\n\nconst CloudIcon = {\n    template: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z\" /></svg>`\n}\n\nconst ServerIcon = {\n    template: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5.25 14.25h13.5m-13.5 0a3 3 0 01-3-3m3 3a3 3 0 100 6h13.5a3 3 0 100-6m-16.5-3a3 3 0 013-3h13.5a3 3 0 013 3m-19.5 0a4.5 4.5 0 01.9-2.7L5.737 5.1a3.375 3.375 0 012.7-1.35h7.126c1.062 0 2.062.5 2.7 1.35l2.587 3.45a4.5 4.5 0 01.9 2.7m0 0a3 3 0 01-3 3m0 3h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008zm-3 6h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008z\" /></svg>`\n}\n\nconst mediaSettingsGrouped = computed(() => {\n    const mediaSettings = props.settings.filter(s => s && s.group === 'media')\n    \n    // Check drivers\n    const driver = props.formData.storage_driver;\n\n    // Base groups\n    const groups: SettingGroupData[] = [\n        {\n            id: 'upload',\n            title: t('features.settings.groups.upload.title'),\n            description: t('features.settings.groups.upload.description'),\n            icon: UploadIcon,\n            color: 'blue',\n            keys: ['max_upload_size', 'allowed_image_types', 'allowed_file_types', 'storage_driver'],\n            settings: [],\n            defaultExpanded: true,\n        },\n    ]\n\n    // S3 Config\n    if (driver === 's3') {\n        groups.push({\n            id: 's3_config',\n            title: 'S3 Configuration',\n            description: 'Configure S3 bucket connection details',\n            icon: CloudIcon,\n            color: 'orange',\n            keys: ['aws_access_key_id', 'aws_secret_access_key', 'aws_default_region', 'aws_bucket', 'aws_endpoint'],\n            settings: [],\n            isExternal: true,\n            defaultExpanded: true,\n        });\n    }\n\n    // Google Drive Config\n    if (driver === 'google') {\n        groups.push({\n            id: 'google_config',\n            title: 'Google Drive Configuration',\n            description: 'Configure Google Drive API details',\n            icon: CloudIcon,\n            color: 'red',\n            keys: ['google_client_id', 'google_client_secret', 'google_refresh_token', 'google_folder_id'],\n            settings: [],\n            isExternal: true,\n            defaultExpanded: true,\n        });\n    }\n\n    // FTP Config\n    if (driver === 'ftp') {\n        groups.push({\n            id: 'ftp_config',\n            title: 'FTP Configuration',\n            description: 'Configure FTP server details',\n            icon: ServerIcon,\n            color: 'purple',\n            keys: ['ftp_host', 'ftp_username', 'ftp_password', 'ftp_root', 'ftp_port', 'ftp_ssl'],\n            settings: [],\n            isExternal: true,\n            defaultExpanded: true,\n        });\n    }\n\n    // Dropbox Config\n    if (driver === 'dropbox') {\n        groups.push({\n            id: 'dropbox_config',\n            title: 'Dropbox Configuration',\n            description: 'Configure Dropbox API token',\n            icon: CloudIcon,\n            color: 'indigo',\n            keys: ['dropbox_authorization_token'],\n            settings: [],\n            isExternal: true,\n            defaultExpanded: true,\n        });\n    }\n\n    // Add Image Processing group (last)\n    groups.push({\n        id: 'image_processing',\n        title: t('features.settings.groups.imageProcessing.title'),\n        description: t('features.settings.groups.imageProcessing.description'),\n        icon: ImageIcon,\n        color: 'pink',\n        keys: ['thumbnail_width', 'thumbnail_height', 'enable_watermark', 'watermark_text'],\n        settings: [],\n        defaultExpanded: false,\n    })\n    \n    \n    groups.forEach(group => {\n        group.settings = mediaSettings.filter(s => group.keys.includes(s.key))\n    })\n    \n    return groups.filter(group => group.settings.length > 0)\n})\n\nconst testingConnection = ref(false);\nconst testResult = ref<TestResult | null>(null);\n\nconst testConnection = async () => {\n    testingConnection.value = true;\n    testResult.value = null;\n    try {\n        // Send current formData to test endpoint\n        const response = await axios.post('/api/admin/settings/test-storage', {\n            driver: props.formData.storage_driver,\n            config: props.formData\n        });\n        testResult.value = { success: true, message: response.data.message };\n    } catch (error: any) {\n        testResult.value = { \n            success: false, \n            message: error.response?.data?.message || 'Connection failed. Please check your credentials.' \n        };\n    } finally {\n        testingConnection.value = false;\n    }\n};\n\n// --- Storage Migration Logic ---\nconst migrationStatus = ref('idle'); // idle, scanning, migrating, completed, error\nconst totalFiles = ref(0);\nconst processedFiles = ref(0);\nconst migrationLogs = ref<MigrationLog[]>([]);\nconst stopMigration = ref(false);\n\nconst migrationProgress = computed(() => {\n    if (totalFiles.value === 0) return 0;\n    return Math.round((processedFiles.value / totalFiles.value) * 100);\n});\n\nconst startMigration = async () => {\n    const confirmed = await confirm({\n        title: 'Storage Migration',\n        message: 'This will copy all files from Local Storage to the currently configured External Storage. Process may take time. Continue?',\n        variant: 'warning',\n        confirmText: 'Start Migration',\n    });\n\n    if (!confirmed) return;\n\n    migrationStatus.value = 'scanning';\n    migrationLogs.value = [];\n    processedFiles.value = 0;\n    totalFiles.value = 0;\n    stopMigration.value = false;\n\n    try {\n        // 1. Scan files\n        const response = await axios.get('/api/storage/migration/files');\n        const files = response.data.data; // Array of paths\n        totalFiles.value = files.length;\n\n        if (totalFiles.value === 0) {\n            migrationStatus.value = 'completed';\n            migrationLogs.value.push({ type: 'info', message: 'No files to migrate.' });\n            return;\n        }\n\n        migrationStatus.value = 'migrating';\n        \n        // 2. Process in batches\n        const batchSize = 10;\n        for (let i = 0; i < files.length; i += batchSize) {\n            if (stopMigration.value) {\n                migrationLogs.value.push({ type: 'warning', message: 'Migration stopped by user.' });\n                break;\n            }\n\n            const batch = files.slice(i, i + batchSize);\n            try {\n                const res = await axios.post('/api/storage/migration/batch', { files: batch });\n                const result = res.data.data;\n                \n                // Log failures\n                Object.entries(result.failed as Record<string, string>).forEach(([file, error]) => {\n                     migrationLogs.value.push({ type: 'error', message: `Failed ${file}: ${error}` });\n                });\n                \n                processedFiles.value += batch.length;\n            } catch (err: any) {\n                 migrationLogs.value.push({ type: 'error', message: `Batch failed: ${err.message}` });\n            }\n        }\n        \n        if (!stopMigration.value) {\n            migrationStatus.value = 'completed';\n            migrationLogs.value.push({ type: 'success', message: 'Migration completed successfully.' });\n        }\n\n    } catch (error: any) {\n        migrationStatus.value = 'error';\n        migrationLogs.value.push({ type: 'error', message: error.response?.data?.message || error.message });\n    }\n};\n\nconst handleStopMigration = () => {\n    stopMigration.value = true;\n};\n</script>\n\n<template>\n    <div class=\"space-y-4\">\n        <SettingGroup\n            v-for=\"group in mediaSettingsGrouped\"\n            :key=\"group.id\"\n            :title=\"group.title\"\n            :description=\"group.description\"\n            :icon=\"group.icon\"\n            :color=\"group.color as any\"\n            :default-expanded=\"group.defaultExpanded\"\n        >\n            <SettingField\n                v-for=\"setting in group.settings\"\n                :key=\"setting.id\"\n                :model-value=\"formData[setting.key]\"\n                @update:model-value=\"(value) => updateField(setting.key, value)\"\n                :field-key=\"setting.key\"\n                :label=\"$t('features.settings.labels.' + setting.key)\"\n                :description=\"$t('features.settings.descriptions.' + setting.key)\"\n                :type=\"setting.type\"\n                :enabled-text=\"$t('features.settings.enabled')\"\n                :disabled-text=\"$t('features.settings.disabled')\"\n                :error=\"errors?.[setting.key]\"\n            />\n\n\n            <!-- Test Connection Button for External Drivers -->\n            <div v-if=\"group.isExternal\" class=\"col-span-1 md:col-span-2 mt-4\">\n                <div class=\"flex items-center gap-4\">\n                    <Button \n                        @click=\"testConnection\" \n                        :disabled=\"testingConnection\"\n                        variant=\"secondary\"\n                    >\n                        <span v-if=\"testingConnection\">Testing...</span>\n                        <span v-else>Test Connection</span>\n                    </Button>\n                    \n                    <div v-if=\"testResult\" :class=\"['text-sm', testResult.success ? 'text-success' : 'text-destructive']\">\n                        {{ testResult.message }}\n                    </div>\n                </div>\n            </div>\n        </SettingGroup>\n\n        <!-- Migration Tool (Show only if driver is NOT local) -->\n        <div v-if=\"formData.storage_driver && formData.storage_driver !== 'local'\" class=\"p-6 bg-card border border-border rounded-lg\">\n            <h3 class=\"text-lg font-medium text-foreground mb-2\">Storage Migration</h3>\n            <p class=\"text-sm text-muted-foreground mb-4\">\n                Migrate files from Local Storage to {{ formData.storage_driver }}. \n                This will copy existing files to the new storage.\n            </p>\n\n            <div v-if=\"migrationStatus === 'idle' || migrationStatus === 'completed' || migrationStatus === 'error'\" class=\"flex gap-4\">\n                 <Button @click=\"startMigration\">\n                    Start Migration\n                 </Button>\n            </div>\n\n            <div v-if=\"migrationStatus === 'scanning' || migrationStatus === 'migrating'\" class=\"space-y-4\">\n                <div class=\"flex justify-between text-sm text-foreground\">\n                    <span>\n                        <span v-if=\"migrationStatus === 'scanning'\">Scanning local files...</span>\n                        <span v-else>Migrating: {{ processedFiles }} / {{ totalFiles }} files</span>\n                    </span>\n                    <span>{{ migrationProgress }}%</span>\n                </div>\n                \n                <!-- Progress Bar -->\n                <div class=\"w-full bg-secondary rounded-full h-2.5 dark:bg-gray-700\">\n                    <div class=\"bg-primary h-2.5 rounded-full transition-colors duration-300\" :style=\"{ width: migrationProgress + '%' }\"></div>\n                </div>\n\n                <Button variant=\"destructive\" size=\"sm\" @click=\"handleStopMigration\">Stop</Button>\n            </div>\n\n            <!-- Logs -->\n            <div v-if=\"migrationLogs.length > 0\" class=\"mt-4 p-3 bg-muted rounded-md text-xs max-h-40 overflow-y-auto font-mono\">\n                <div\nv-for=\"(log, index) in migrationLogs\" :key=\"index\" :class=\"{\n                    'text-success': log.type === 'success',\n                    'text-destructive': log.type === 'error',\n                    'text-warning': log.type === 'warning',\n                    'text-foreground': log.type === 'info'\n                }\"\n>\n                    [{{ log.type.toUpperCase() }}] {{ log.message }}\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/views/admin/settings/tabs/PerformanceTab.vue","messages":[{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":98,"column":46,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":98,"endColumn":67},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":111,"column":61,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":111,"endColumn":82},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":122,"column":53,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":122,"endColumn":74},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":198,"column":49,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":198,"endColumn":80},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":216,"column":38,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":216,"endColumn":68},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":236,"column":38,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":236,"endColumn":65},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":258,"column":38,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":258,"endColumn":74},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":276,"column":38,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":276,"endColumn":74},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":331,"column":42,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":331,"endColumn":63},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":338,"column":49,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":338,"endColumn":70},{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":346,"column":57,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":346,"endColumn":78},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":369,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":369,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[27763,27766],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[27763,27766],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":390,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":390,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[28106,28109],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[28106,28109],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":11,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n    <div class=\"space-y-4\">\n        <!-- Section 1: Cache Status & Management (Collapsible) -->\n        <div class=\"bg-card border border-border rounded-lg overflow-hidden\">\n            <button \n                type=\"button\"\n                @click=\"sections.cache = !sections.cache\"\n                class=\"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-muted/50 transition-colors\"\n            >\n                <div class=\"flex items-center gap-3\">\n                    <div class=\"p-2 rounded-lg bg-primary/10 text-primary\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M21 12a9 9 0 11-6.219-8.56\" /></svg>\n                    </div>\n                    <div>\n                        <h3 class=\"text-sm font-semibold text-foreground\">{{ $t('features.settings.cache.status') }}</h3>\n                        <p class=\"text-xs text-muted-foreground\">Kelola driver dan status cache aplikasi</p>\n                    </div>\n                </div>\n                <svg \n                    xmlns=\"http://www.w3.org/2000/svg\" \n                    width=\"20\" height=\"20\" \n                    viewBox=\"0 0 24 24\" \n                    fill=\"none\" \n                    stroke=\"currentColor\" \n                    stroke-width=\"2\" \n                    stroke-linecap=\"round\" \n                    stroke-linejoin=\"round\"\n                    class=\"text-muted-foreground transition-transform duration-200\"\n                    :class=\"{ 'rotate-180': sections.cache }\"\n                ><path d=\"m6 9 6 6 6-6\" /></svg>\n            </button>\n            \n            <div v-show=\"sections.cache\" class=\"border-t border-border\">\n                <div class=\"p-6 grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                    <!-- Left: Status -->\n                    <div>\n                        <div v-if=\"!cacheStatus\" class=\"text-center py-8 text-muted-foreground text-sm\">\n                            {{ $t('features.settings.cache.loading') }}\n                        </div>\n                        <div v-else>\n                            <div class=\"grid grid-cols-2 gap-4 mb-4\">\n                                <div class=\"p-3 rounded-lg bg-muted border border-border/50\">\n                                    <p class=\"text-[10px] uppercase tracking-wider text-muted-foreground font-semibold\">{{ $t('features.settings.cache.driver') }}</p>\n                                    <p class=\"text-sm font-bold text-foreground mt-1\">{{ cacheStatus.driver }}</p>\n                                </div>\n                                <div class=\"p-3 rounded-lg bg-muted border border-border/50\">\n                                    <p class=\"text-[10px] uppercase tracking-wider text-muted-foreground font-semibold\">{{ $t('features.settings.cache.status') }}</p>\n                                    <p class=\"text-sm font-bold text-foreground mt-1\">{{ cacheStatus.enabled ? $t('features.settings.enabled') : $t('features.settings.disabled') }}</p>\n                                </div>\n                                <div class=\"p-3 rounded-lg bg-muted border border-border/50\">\n                                    <p class=\"text-[10px] uppercase tracking-wider text-muted-foreground font-semibold\">{{ $t('features.settings.cache.keys') }}</p>\n                                    <p class=\"text-sm font-bold text-foreground mt-1\">{{ cacheStatus.keys }}</p>\n                                </div>\n                                <div class=\"p-3 rounded-lg bg-muted border border-border/50\">\n                                    <p class=\"text-[10px] uppercase tracking-wider text-muted-foreground font-semibold\">{{ $t('features.settings.cache.size') }}</p>\n                                    <p class=\"text-sm font-bold text-foreground mt-1\">{{ cacheStatus.size }}</p>\n                                </div>\n                            </div>\n\n                            <div class=\"grid grid-cols-2 gap-3\">\n                                <button\n                                    type=\"button\"\n                                    @click=\"$emit('clear-cache')\"\n                                    :disabled=\"clearingCache\"\n                                    class=\"flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium border border-destructive/30 bg-destructive/10 text-destructive rounded-lg hover:bg-destructive/20 disabled:opacity-50 transition-colors\"\n                                >\n                                    <svg v-if=\"clearingCache\" class=\"animate-spin h-4 w-4\" viewBox=\"0 0 24 24\" fill=\"none\"><circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle><path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path></svg>\n                                    <svg v-else xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M3 6h18\" /><path d=\"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\" /><path d=\"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\" /></svg>\n                                    {{ clearingCache ? $t('features.settings.cache.clearing') : $t('features.settings.cache.clear') }}\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    @click=\"$emit('warm-cache')\"\n                                    :disabled=\"warmingCache\"\n                                    class=\"flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium border border-border bg-card text-foreground rounded-lg hover:bg-muted disabled:opacity-50 transition-colors\"\n                                >\n                                    <svg v-if=\"warmingCache\" class=\"animate-spin h-4 w-4\" viewBox=\"0 0 24 24\" fill=\"none\"><circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle><path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path></svg>\n                                    <svg v-else xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.1.24-2.14.7-3.09C7.07 13.1 8 13.9 8.5 14.5z\" /></svg>\n                                    {{ warmingCache ? $t('features.settings.cache.warming') : $t('features.settings.cache.warm') }}\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Right: Configuration -->\n                    <div class=\"space-y-4\">\n                        <template v-for=\"setting in cacheSettings\" :key=\"setting.id\">\n                            <div>\n                                <label class=\"block text-sm font-medium text-foreground mb-1\">\n                                    {{ $t('features.settings.labels.' + setting.key) }}\n                                </label>\n                                <p v-if=\"setting.description\" class=\"text-xs text-muted-foreground mb-2\">\n                                    {{ $t('features.settings.descriptions.' + setting.key) }}\n                                </p>\n\n                                <select\n                                    v-if=\"setting.key === 'cache_driver'\"\n                                    v-model=\"formData[setting.key]\"\n                                    class=\"w-full px-3 py-2 border border-input bg-card text-foreground rounded-md focus:outline-none focus:ring-primary focus:border-primary text-sm\"\n                                    :class=\"{ 'border-destructive': errors?.[setting.key] }\"\n                                >\n                                    <option value=\"file\">File (Development)</option>\n                                    <option value=\"database\">Database</option>\n                                    <option value=\"redis\">Redis</option>\n                                    <option value=\"redis_failover\">Redis + Failover ke File (Recommended)</option>\n                                </select>\n\n                                <div v-else-if=\"setting.key === 'enable_cache'\">\n                                    <label class=\"flex items-center cursor-pointer\">\n                                        <div class=\"relative\">\n                                            <input v-model=\"formData[setting.key]\" type=\"checkbox\" class=\"sr-only peer\">\n                                            <div class=\"w-11 h-6 bg-muted rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform after:shadow-md peer-checked:bg-success\"></div>\n                                        </div>\n                                        <span class=\"ml-3 text-sm text-foreground\">\n                                            {{ formData[setting.key] ? $t('features.settings.enabled') : $t('features.settings.disabled') }}\n                                        </span>\n                                    </label>\n                                </div>\n\n                                <input\n                                    v-else-if=\"setting.key === 'cache_ttl'\"\n                                    v-model.number=\"formData[setting.key]\"\n                                    type=\"number\"\n                                    class=\"w-full px-3 py-2 border border-input bg-card text-foreground rounded-md focus:outline-none focus:ring-primary focus:border-primary text-sm\"\n                                    :class=\"{ 'border-destructive': errors?.[setting.key] }\"\n                                >\n                                <p v-if=\"errors?.[setting.key]\" class=\"text-sm text-destructive mt-1\">{{ Array.isArray(errors?.[setting.key]) ? errors?.[setting.key][0] : errors?.[setting.key] }}</p>\n                            </div>\n                        </template>\n                    </div>\n                </div>\n\n                <!-- Redis Info -->\n                <div v-if=\"formData.cache_driver === 'redis' || formData.cache_driver === 'redis_failover'\" class=\"mx-6 mb-6 p-4 rounded-lg border border-primary/20 bg-primary/5\">\n                    <div class=\"flex items-start gap-3\">\n                        <div class=\"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"text-primary\"><circle cx=\"12\" cy=\"12\" r=\"10\" /><path d=\"M12 16v-4\" /><path d=\"M12 8h.01\" /></svg>\n                        </div>\n                        <div>\n                            <h4 class=\"font-semibold text-sm text-foreground mb-1\">{{ $t('features.settings.cache.redisInfo.title') }}</h4>\n                            <p class=\"text-xs text-muted-foreground mb-3 leading-relaxed\">{{ $t('features.settings.cache.redisInfo.description') }}</p>\n                            <router-link to=\"/admin/redis\" class=\"inline-flex items-center gap-1.5 text-xs font-medium text-primary hover:text-primary/80 transition-colors\">\n                                {{ $t('features.settings.cache.redisInfo.linkText') }}\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\" /><polyline points=\"15 3 21 3 21 9\" /><line x1=\"10\" x2=\"21\" y1=\"14\" y2=\"3\" /></svg>\n                            </router-link>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Section 2: CDN Configuration (Collapsible) -->\n        <div class=\"bg-card border border-border rounded-lg overflow-hidden\">\n            <button \n                type=\"button\"\n                @click=\"sections.cdn = !sections.cdn\"\n                class=\"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-muted/50 transition-colors\"\n            >\n                <div class=\"flex items-center gap-3\">\n                    <div class=\"p-2 rounded-lg bg-info/10 text-info\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\" /><path d=\"M2 12h20\" /><path d=\"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z\" /></svg>\n                    </div>\n                    <div>\n                        <h3 class=\"text-sm font-semibold text-foreground\">CDN Configuration</h3>\n                        <p class=\"text-xs text-muted-foreground\">Konfigurasi Content Delivery Network</p>\n                    </div>\n                </div>\n                <div class=\"flex items-center gap-3\">\n                    <span v-if=\"formData.enable_cdn\" class=\"px-2 py-0.5 text-xs font-medium rounded-full bg-success/10 text-success\">Aktif</span>\n                    <span v-else class=\"px-2 py-0.5 text-xs font-medium rounded-full bg-muted text-muted-foreground\">Nonaktif</span>\n                    <svg \n                        xmlns=\"http://www.w3.org/2000/svg\" \n                        width=\"20\" height=\"20\" \n                        viewBox=\"0 0 24 24\" \n                        fill=\"none\" \n                        stroke=\"currentColor\" \n                        stroke-width=\"2\" \n                        stroke-linecap=\"round\" \n                        stroke-linejoin=\"round\"\n                        class=\"text-muted-foreground transition-transform duration-200\"\n                        :class=\"{ 'rotate-180': sections.cdn }\"\n                    ><path d=\"m6 9 6 6 6-6\" /></svg>\n                </div>\n            </button>\n            \n            <div v-show=\"sections.cdn\" class=\"border-t border-border p-6\">\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <!-- Enable CDN -->\n                    <div v-if=\"cdnEnabledSetting\">\n                        <label class=\"block text-sm font-medium text-foreground mb-1\">\n                            {{ $t('features.settings.labels.' + cdnEnabledSetting.key) }}\n                        </label>\n                        <p v-if=\"cdnEnabledSetting.description\" class=\"text-xs text-muted-foreground mb-3\">\n                            {{ $t('features.settings.descriptions.' + cdnEnabledSetting.key) }}\n                        </p>\n                        <label class=\"flex items-center cursor-pointer\">\n                            <div class=\"relative\">\n                                <input v-model=\"formData[cdnEnabledSetting.key]\" type=\"checkbox\" class=\"sr-only peer\">\n                                <div class=\"w-11 h-6 bg-muted rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform after:shadow-md peer-checked:bg-success\"></div>\n                            </div>\n                            <span class=\"ml-3 text-sm text-foreground\">\n                                {{ formData[cdnEnabledSetting.key] ? $t('features.settings.enabled') : $t('features.settings.disabled') }}\n                            </span>\n                        </label>\n                    </div>\n                    \n                    <!-- CDN Provider -->\n                    <div v-if=\"cdnPresetSetting\">\n                        <label class=\"block text-sm font-medium text-foreground mb-1\" :class=\"{'opacity-50': !formData.enable_cdn}\">\n                            CDN Provider\n                        </label>\n                        <p class=\"text-xs text-muted-foreground mb-2\" :class=\"{'opacity-50': !formData.enable_cdn}\">\n                            Select your CDN provider for optimized configuration\n                        </p>\n                        <select\n                            v-model=\"formData[cdnPresetSetting.key]\"\n                            :disabled=\"!formData.enable_cdn\"\n                            class=\"w-full px-3 py-2 border border-input bg-card text-foreground rounded-md focus:outline-none focus:ring-primary focus:border-primary text-sm disabled:opacity-50 disabled:cursor-not-allowed\"\n                        >\n                            <option value=\"custom\">Custom / Other</option>\n                            <option value=\"bunny\">BunnyCDN</option>\n                            <option value=\"cloudflare\">Cloudflare</option>\n                            <option value=\"aws\">AWS CloudFront</option>\n                        </select>\n                    </div>\n\n                    <!-- CDN URL -->\n                    <div v-if=\"cdnUrlSetting\" class=\"md:col-span-2\">\n                        <label class=\"block text-sm font-medium text-foreground mb-1\" :class=\"{'opacity-50': !formData.enable_cdn}\">\n                            {{ $t('features.settings.labels.' + cdnUrlSetting.key) }}\n                        </label>\n                        <p v-if=\"cdnUrlSetting.description\" class=\"text-xs text-muted-foreground mb-2\" :class=\"{'opacity-50': !formData.enable_cdn}\">\n                            {{ $t('features.settings.descriptions.' + cdnUrlSetting.key) }}\n                        </p>\n                        <input\n                            v-model=\"formData[cdnUrlSetting.key]\"\n                            type=\"text\"\n                            :disabled=\"!formData.enable_cdn\"\n                            class=\"w-full px-3 py-2 border border-input bg-card text-foreground rounded-md focus:outline-none focus:ring-primary focus:border-primary text-sm disabled:opacity-50 disabled:cursor-not-allowed\"\n                            :placeholder=\"!formData.enable_cdn ? 'Enable CDN to configure URL' : 'https://cdn.example.com'\"\n                            :class=\"{ 'border-destructive': errors?.[cdnUrlSetting.key] }\"\n                        >\n                        <p v-if=\"errors?.[cdnUrlSetting.key]\" class=\"text-sm text-destructive mt-1\">{{ Array.isArray(errors?.[cdnUrlSetting.key]) ? errors?.[cdnUrlSetting.key][0] : errors?.[cdnUrlSetting.key] }}</p>\n                        <p v-if=\"formData.cdn_preset === 'bunny'\" class=\"text-xs text-primary mt-1\">\n                            Tip: Use your BunnyCDN Pull Zone URL (e.g. https://my-zone.b-cdn.net)\n                        </p>\n                    </div>\n\n                    <!-- Included Dirs -->\n                    <div v-if=\"cdnIncludedDirsSetting\">\n                        <label class=\"block text-sm font-medium text-foreground mb-1\" :class=\"{'opacity-50': !formData.enable_cdn}\">\n                            Included Directories\n                        </label>\n                        <p class=\"text-xs text-muted-foreground mb-2\" :class=\"{'opacity-50': !formData.enable_cdn}\">\n                            Comma-separated list of directories to serve via CDN\n                        </p>\n                        <input\n                            v-model=\"formData[cdnIncludedDirsSetting.key]\"\n                            type=\"text\"\n                            :disabled=\"!formData.enable_cdn\"\n                            class=\"w-full px-3 py-2 border border-input bg-card text-foreground rounded-md focus:outline-none focus:ring-primary focus:border-primary text-sm disabled:opacity-50 disabled:cursor-not-allowed\"\n                            :class=\"{ 'border-destructive': errors?.[cdnIncludedDirsSetting.key] }\"\n                        >\n                        <p v-if=\"errors?.[cdnIncludedDirsSetting.key]\" class=\"text-sm text-destructive mt-1\">{{ Array.isArray(errors?.[cdnIncludedDirsSetting.key]) ? errors?.[cdnIncludedDirsSetting.key][0] : errors?.[cdnIncludedDirsSetting.key] }}</p>\n                    </div>\n\n                    <!-- Excluded Extensions -->\n                    <div v-if=\"cdnExcludedExtsSetting\">\n                        <label class=\"block text-sm font-medium text-foreground mb-1\" :class=\"{'opacity-50': !formData.enable_cdn}\">\n                            Excluded Extensions\n                        </label>\n                        <p class=\"text-xs text-muted-foreground mb-2\" :class=\"{'opacity-50': !formData.enable_cdn}\">\n                            File extensions to exclude from CDN\n                        </p>\n                        <input\n                            v-model=\"formData[cdnExcludedExtsSetting.key]\"\n                            type=\"text\"\n                            :disabled=\"!formData.enable_cdn\"\n                            class=\"w-full px-3 py-2 border border-input bg-card text-foreground rounded-md focus:outline-none focus:ring-primary focus:border-primary text-sm disabled:opacity-50 disabled:cursor-not-allowed\"\n                            :class=\"{ 'border-destructive': errors?.[cdnExcludedExtsSetting.key] }\"\n                        >\n                        <p v-if=\"errors?.[cdnExcludedExtsSetting.key]\" class=\"text-sm text-destructive mt-1\">{{ Array.isArray(errors?.[cdnExcludedExtsSetting.key]) ? errors?.[cdnExcludedExtsSetting.key][0] : errors?.[cdnExcludedExtsSetting.key] }}</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Section 3: Other Performance Settings (Collapsible) -->\n        <div v-if=\"otherSettings.length > 0\" class=\"bg-card border border-border rounded-lg overflow-hidden\">\n            <button \n                type=\"button\"\n                @click=\"sections.other = !sections.other\"\n                class=\"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-muted/50 transition-colors\"\n            >\n                <div class=\"flex items-center gap-3\">\n                    <div class=\"p-2 rounded-lg bg-warning/10 text-warning\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"3\" /><path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\" /></svg>\n                    </div>\n                    <div>\n                        <h3 class=\"text-sm font-semibold text-foreground\">{{ $t('features.settings.tabs.performance') }} Settings</h3>\n                        <p class=\"text-xs text-muted-foreground\">Optimasi gambar, lazy loading, dan lainnya</p>\n                    </div>\n                </div>\n                <svg \n                    xmlns=\"http://www.w3.org/2000/svg\" \n                    width=\"20\" height=\"20\" \n                    viewBox=\"0 0 24 24\" \n                    fill=\"none\" \n                    stroke=\"currentColor\" \n                    stroke-width=\"2\" \n                    stroke-linecap=\"round\" \n                    stroke-linejoin=\"round\"\n                    class=\"text-muted-foreground transition-transform duration-200\"\n                    :class=\"{ 'rotate-180': sections.other }\"\n                ><path d=\"m6 9 6 6 6-6\" /></svg>\n            </button>\n            \n            <div v-show=\"sections.other\" class=\"border-t border-border p-6\">\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <template v-for=\"setting in otherSettings\" :key=\"setting.id\">\n                        <div>\n                            <label class=\"block text-sm font-medium text-foreground mb-1\">\n                                {{ $t('features.settings.labels.' + setting.key) }}\n                            </label>\n                            <p v-if=\"setting.description\" class=\"text-xs text-muted-foreground mb-2\">\n                                {{ $t('features.settings.descriptions.' + setting.key) }}\n                            </p>\n\n                            <input\n                                v-if=\"setting.type === 'string'\"\n                                v-model=\"formData[setting.key]\"\n                                type=\"text\"\n                                 class=\"w-full px-3 py-2 border border-input bg-card text-foreground rounded-md focus:outline-none focus:ring-primary focus:border-primary text-sm\"\n                                :class=\"{ 'border-destructive': errors?.[setting.key] }\"\n                            >\n                            <input\n                                v-else-if=\"setting.type === 'integer'\"\n                                v-model.number=\"formData[setting.key]\"\n                                type=\"number\"\n                                class=\"w-full px-3 py-2 border border-input bg-card text-foreground rounded-md focus:outline-none focus:ring-primary focus:border-primary text-sm\"\n                                :class=\"{ 'border-destructive': errors?.[setting.key] }\"\n                            >\n                            <div v-else-if=\"setting.type === 'boolean'\">\n                                <label class=\"flex items-center cursor-pointer\">\n                                    <div class=\"relative\">\n                                        <input v-model=\"formData[setting.key]\" type=\"checkbox\" class=\"sr-only peer\">\n                                        <div class=\"w-11 h-6 bg-muted rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform after:shadow-md peer-checked:bg-success\"></div>\n                                    </div>\n                                    <span class=\"ml-3 text-sm text-foreground\">\n                                        {{ formData[setting.key] ? $t('features.settings.enabled') : $t('features.settings.disabled') }}\n                                    </span>\n                                </label>\n                            </div>\n                            <p v-if=\"errors?.[setting.key]\" class=\"text-sm text-destructive mt-1\">{{ Array.isArray(errors?.[setting.key]) ? errors?.[setting.key][0] : errors?.[setting.key] }}</p>\n                        </div>\n                    </template>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue'\n\ninterface Setting {\n    id: number | string;\n    key: string;\n    value: any;\n    type: string;\n    group: string;\n    description?: string;\n}\n\ninterface CacheStatus {\n    driver: string;\n    enabled: boolean;\n    keys: number | string;\n    size: string;\n}\n\ninterface SectionState {\n    cache: boolean;\n    cdn: boolean;\n    other: boolean;\n}\n\ninterface Props {\n    settings: Setting[];\n    formData: Record<string, any>;\n    cacheStatus?: CacheStatus | null;\n    clearingCache?: boolean;\n    warmingCache?: boolean;\n    errors?: Record<string, string[] | string>;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n    cacheStatus: null,\n    clearingCache: false,\n    warmingCache: false,\n    errors: () => ({})\n});\n\ndefineEmits(['clear-cache', 'warm-cache'])\n\n// Collapsible section states\nconst sections = ref<SectionState>({\n    cache: true,\n    cdn: false,\n    other: false\n})\n\nconst performanceSettings = computed(() => {\n    return props.settings.filter(s => s && s.group === 'performance')\n})\n\nconst cacheSettings = computed(() => {\n    return performanceSettings.value.filter(s => \n        ['cache_driver', 'enable_cache', 'cache_ttl'].includes(s.key)\n    )\n})\n\nconst cdnEnabledSetting = computed(() => performanceSettings.value.find(s => s.key === 'enable_cdn'))\nconst cdnUrlSetting = computed(() => performanceSettings.value.find(s => s.key === 'cdn_url'))\nconst cdnPresetSetting = computed(() => performanceSettings.value.find(s => s.key === 'cdn_preset'))\nconst cdnIncludedDirsSetting = computed(() => performanceSettings.value.find(s => s.key === 'cdn_included_dirs'))\nconst cdnExcludedExtsSetting = computed(() => performanceSettings.value.find(s => s.key === 'cdn_excluded_extensions'))\n\n\nconst otherSettings = computed(() => {\n    return performanceSettings.value.filter(s => \n        !['cache_driver', 'enable_cache', 'cache_ttl', 'enable_cdn', 'cdn_url', 'cdn_preset', 'cdn_included_dirs', 'cdn_excluded_extensions'].includes(s.key)\n    )\n})\n</script>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/views/admin/settings/tabs/SecurityTab.vue","messages":[{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":15,"column":26,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":15,"endColumn":47},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1341,1344],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1341,1344],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1485,1488],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1485,1488],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":56,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1659,1662],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1659,1662],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n    <div class=\"space-y-4\">\n        <SettingGroup\n            v-for=\"group in securitySettingsGrouped\"\n            :key=\"group.id\"\n            :title=\"group.title\"\n            :description=\"group.description\"\n            :icon=\"group.icon\"\n            :color=\"group.color as any\"\n            :default-expanded=\"group.defaultExpanded\"\n        >\n            <SettingField\n                v-for=\"setting in group.settings\"\n                :key=\"setting.id\"\n                v-model=\"formData[setting.key]\"\n                :field-key=\"setting.key\"\n                :label=\"$t('features.settings.labels.' + setting.key)\"\n                :description=\"$t('features.settings.descriptions.' + setting.key)\"\n                :type=\"setting.type\"\n                :enabled-text=\"$t('features.settings.enabled')\"\n                :disabled-text=\"$t('features.settings.disabled')\"\n                :error=\"errors?.[setting.key]\"\n                :disabled=\"isSettingDisabled(setting.key)\"\n            />\n        </SettingGroup>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport SettingGroup from '@/components/settings/SettingGroup.vue'\nimport SettingField from '@/components/settings/SettingField.vue'\n\ninterface Setting {\n    id: number | string;\n    key: string;\n    value: any;\n    type: string;\n    group: string;\n}\n\ninterface SettingGroupData {\n    id: string;\n    title: string;\n    description: string;\n    icon: any;\n    color: string;\n    keys: string[];\n    settings: Setting[];\n    defaultExpanded: boolean;\n}\n\ninterface Props {\n    settings: Setting[];\n    formData: Record<string, any>;\n    errors?: Record<string, string[]>;\n}\n\nconst { t } = useI18n()\n\nconst props = defineProps<Props>()\n\nconst ShieldCheckIcon = {\n    template: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z\" /></svg>`\n}\n\nconst KeyIcon = {\n    template: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z\" /></svg>`\n}\n\nconst ClockIcon = {\n    template: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg>`\n}\n\nconst LockIcon = {\n    template: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z\" /></svg>`\n}\n\nconst BotIcon = {\n    template: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 002.25-2.25V6.75a2.25 2.25 0 00-2.25-2.25H6.75A2.25 2.25 0 004.5 6.75v10.5a2.25 2.25 0 002.25 2.25zm.75-12h9v9h-9v-9z\" /></svg>`\n}\n\nconst isSettingDisabled = (key: string) => {\n    // Captcha dependencies\n    const captchaSettings = ['captcha_method', 'captcha_on_login', 'captcha_on_register']\n    if (captchaSettings.includes(key)) {\n        // Disable if enable_captcha is falsy (0, false, null)\n        return !props.formData['enable_captcha'] || props.formData['enable_captcha'] === '0'\n    }\n\n    // Session dependencies: Disable Max Concurrent Sessions if Single Session is enabled\n    if (key === 'max_concurrent_sessions') {\n        return props.formData['single_session_enabled'] === true || props.formData['single_session_enabled'] === '1'\n    }\n\n    return false\n}\n\nconst securitySettingsGrouped = computed(() => {\n    const securitySettings = props.settings.filter(s => s && s.group === 'security')\n    \n    const groups: SettingGroupData[] = [\n        {\n            id: 'authentication',\n            title: t('features.settings.groups.authentication.title'),\n            description: t('features.settings.groups.authentication.description'),\n            icon: ShieldCheckIcon,\n            color: 'emerald',\n            keys: ['enable_registration', 'require_email_verification', 'enable_2fa', 'two_factor_method', 'two_factor_enforced_roles'],\n            settings: [],\n            defaultExpanded: true,\n        },\n        {\n            id: 'password',\n            title: t('features.settings.groups.password.title'),\n            description: t('features.settings.groups.password.description'),\n            icon: KeyIcon,\n            color: 'amber',\n            keys: ['password_min_length', 'password_require_uppercase', 'password_require_lowercase', 'password_require_number', 'password_require_symbol'],\n            settings: [],\n            defaultExpanded: false,\n        },\n        {\n            id: 'session',\n            title: t('features.settings.groups.session.title'),\n            description: t('features.settings.groups.session.description'),\n            icon: ClockIcon,\n            color: 'blue',\n            keys: ['session_lifetime', 'single_session_enabled', 'max_concurrent_sessions', 'log_retention_days'],\n            settings: [],\n            defaultExpanded: false,\n        },\n        {\n            id: 'access',\n            title: t('features.settings.groups.access.title'),\n            description: t('features.settings.groups.access.description'),\n            icon: LockIcon,\n            color: 'red',\n            keys: ['login_attempts_limit', 'block_duration_minutes'],\n            settings: [],\n            defaultExpanded: false,\n        },\n        {\n            id: 'captcha',\n            title: t('features.settings.groups.captcha.title'),\n            description: t('features.settings.groups.captcha.description'),\n            icon: BotIcon,\n            color: 'purple',\n            keys: ['enable_captcha', 'captcha_method', 'captcha_on_login', 'captcha_on_register'],\n            settings: [],\n            defaultExpanded: false,\n        },\n    ]\n    \n    groups.forEach(group => {\n        // Filter settings for this group\n        const groupSettings = securitySettings.filter(s => group.keys.includes(s.key))\n        \n        // Sort settings based on the order in the keys array\n        group.settings = groupSettings.sort((a, b) => {\n            return group.keys.indexOf(a.key) - group.keys.indexOf(b.key)\n        })\n    })\n    \n    return groups.filter(group => group.settings.length > 0)\n})\n</script>\n","usedDeprecatedRules":[]},{"filePath":"/var/www/ja-cms/resources/js/views/admin/settings/tabs/SeoTab.vue","messages":[{"ruleId":"vue/no-mutating-props","severity":2,"message":"Unexpected mutation of \"formData\" prop.","line":15,"column":26,"nodeType":"MemberExpression","messageId":"unexpectedMutation","endLine":15,"endColumn":47},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":37,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1277,1280],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1277,1280],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":46,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1421,1424],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1421,1424],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":55,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1595,1598],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1595,1598],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\n    <div class=\"space-y-4\">\n        <SettingGroup\n            v-for=\"group in seoSettingsGrouped\"\n            :key=\"group.id\"\n            :title=\"group.title\"\n            :description=\"group.description\"\n            :icon=\"group.icon\"\n            :color=\"group.color as any\"\n            :default-expanded=\"group.defaultExpanded\"\n        >\n            <SettingField\n                v-for=\"setting in group.settings\"\n                :key=\"setting.id\"\n                v-model=\"formData[setting.key]\"\n                :field-key=\"setting.key\"\n                :label=\"$t('features.settings.labels.' + setting.key)\"\n                :description=\"$t('features.settings.descriptions.' + setting.key)\"\n                :type=\"setting.type\"\n                :enabled-text=\"$t('features.settings.enabled')\"\n                :disabled-text=\"$t('features.settings.disabled')\"\n                :error=\"errors?.[setting.key]\"\n            />\n        </SettingGroup>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport SettingGroup from '@/components/settings/SettingGroup.vue'\nimport SettingField from '@/components/settings/SettingField.vue'\n\ninterface Setting {\n    id: number | string;\n    key: string;\n    value: any;\n    type: string;\n    group: string;\n}\n\ninterface SettingGroupData {\n    id: string;\n    title: string;\n    description: string;\n    icon: any;\n    color: string;\n    keys: string[];\n    settings: Setting[];\n    defaultExpanded: boolean;\n}\n\ninterface Props {\n    settings: Setting[];\n    formData: Record<string, any>;\n    errors?: Record<string, string[]>;\n}\n\nconst { t } = useI18n()\n\nconst props = defineProps<Props>()\n\nconst TagIcon = {\n    template: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z\" /><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6 6h.008v.008H6V6z\" /></svg>`\n}\n\nconst SearchIcon = {\n    template: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z\" /></svg>`\n}\n\nconst seoSettingsGrouped = computed(() => {\n    const seoSettings = props.settings.filter(s => s && s.group === 'seo')\n    \n    const groups: SettingGroupData[] = [\n        {\n            id: 'meta',\n            title: t('features.settings.groups.meta.title'),\n            description: t('features.settings.groups.meta.description'),\n            icon: TagIcon,\n            color: 'orange',\n            keys: ['meta_title', 'meta_description', 'meta_keywords'],\n            settings: [],\n            defaultExpanded: true,\n        },\n        {\n            id: 'search_engines',\n            title: t('features.settings.groups.searchEngines.title'),\n            description: t('features.settings.groups.searchEngines.description'),\n            icon: SearchIcon,\n            color: 'emerald',\n            keys: ['google_analytics_id', 'google_search_console', 'enable_sitemap', 'enable_robots_txt'],\n            settings: [],\n            defaultExpanded: false,\n        },\n    ]\n    \n    groups.forEach(group => {\n        group.settings = seoSettings.filter(s => group.keys.includes(s.key))\n    })\n    \n    return groups.filter(group => group.settings.length > 0)\n})\n</script>\n","usedDeprecatedRules":[]}]